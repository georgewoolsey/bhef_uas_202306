<!DOCTYPE html>
<html lang="en-US" xml:lang="en-US">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 8 Silvicultural Metrics | Black Hills Experimental Forest UAS Mission Data Summary</title>
  <meta name="description" content="Using the bookdown package to write a book of data exploration. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 8 Silvicultural Metrics | Black Hills Experimental Forest UAS Mission Data Summary" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Using the bookdown package to write a book of data exploration. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 8 Silvicultural Metrics | Black Hills Experimental Forest UAS Mission Data Summary" />
  
  <meta name="twitter:description" content="Using the bookdown package to write a book of data exploration. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="George Woolsey" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="ustory_valid.html"/>
<link rel="next" href="tree_spatial.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />
<script src="libs/elev. (ft)_d84c2b-1/data_stars_elevft823c0b.txt"></script>
<script src="libs/joda-0.0.1/joda.js"></script>
<script src="libs/joda-0.0.1/addImageQuery-bindings.js"></script>
<script src="libs/canopy ht. (ft)_5e13a8-1/data_stars_canopyhtft0da4f6.txt"></script>
<script type="text/javascript">

// toggle visibility of R source blocks in R Markdown output
function toggle_R() {
  var x = document.getElementsByClassName('r');
  if (x.length == 0) return;
  function toggle_vis(o) {
    var d = o.style.display;
    o.style.display = (d == 'block' || d == '') ? 'none':'block';
  }

  for (i = 0; i < x.length; i++) {
    var y = x[i];
    if (y.tagName.toLowerCase() === 'pre') toggle_vis(y);
  }

    var elem = document.getElementById("myButton1");
    if (elem.value === "Hide Code") elem.value = "Show Code";
    else elem.value = "Hide Code";
}

document.write('<input onclick="toggle_R();" type="button" value="Hide Code" id="myButton1" style="position: absolute; top: 10%; right: 2%; z-index: 200"></input>')

</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="objective.html"><a href="objective.html"><i class="fa fa-check"></i><b>2</b> Objective</a></li>
<li class="chapter" data-level="3" data-path="data_prep.html"><a href="data_prep.html"><i class="fa fa-check"></i><b>3</b> Data Preparation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data_prep.html"><a href="data_prep.html#data-load"><i class="fa fa-check"></i><b>3.1</b> Data Load</a></li>
<li class="chapter" data-level="3.2" data-path="data_prep.html"><a href="data_prep.html#load-orthomosaic-rasters"><i class="fa fa-check"></i><b>3.2</b> Load orthomosaic rasters</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="local_mod.html"><a href="local_mod.html"><i class="fa fa-check"></i><b>4</b> Local DBH to Height Model</a>
<ul>
<li class="chapter" data-level="4.1" data-path="local_mod.html"><a href="local_mod.html#random-forest-model"><i class="fa fa-check"></i><b>4.1</b> Random Forest Model</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="local_mod.html"><a href="local_mod.html#training-vs-non-training-dbh"><i class="fa fa-check"></i><b>4.1.1</b> Training vs Non-Training DBH</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="local_mod.html"><a href="local_mod.html#linear-model"><i class="fa fa-check"></i><b>4.2</b> Linear Model</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="local_mod.html"><a href="local_mod.html#model-parameter-estimates"><i class="fa fa-check"></i><b>4.2.1</b> Model Parameter Estimates</a></li>
<li class="chapter" data-level="4.2.2" data-path="local_mod.html"><a href="local_mod.html#sfm-derived-height-to-dbh-allometry"><i class="fa fa-check"></i><b>4.2.2</b> SfM-derived Height to DBH Allometry</a></li>
<li class="chapter" data-level="4.2.3" data-path="local_mod.html"><a href="local_mod.html#training-vs-non-training-dbh-1"><i class="fa fa-check"></i><b>4.2.3</b> Training vs Non-Training DBH</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="local_mod.html"><a href="local_mod.html#quadratic-model"><i class="fa fa-check"></i><b>4.3</b> Quadratic Model</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="local_mod.html"><a href="local_mod.html#model-parameter-estimates-1"><i class="fa fa-check"></i><b>4.3.1</b> Model Parameter Estimates</a></li>
<li class="chapter" data-level="4.3.2" data-path="local_mod.html"><a href="local_mod.html#sfm-derived-height-to-dbh-allometry-1"><i class="fa fa-check"></i><b>4.3.2</b> SfM-derived Height to DBH Allometry</a></li>
<li class="chapter" data-level="4.3.3" data-path="local_mod.html"><a href="local_mod.html#training-vs-non-training-dbh-2"><i class="fa fa-check"></i><b>4.3.3</b> Training vs Non-Training DBH</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="local_mod.html"><a href="local_mod.html#no-intercept-quadratic-model"><i class="fa fa-check"></i><b>4.4</b> No Intercept Quadratic Model</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="local_mod.html"><a href="local_mod.html#model-parameter-estimates-2"><i class="fa fa-check"></i><b>4.4.1</b> Model Parameter Estimates</a></li>
<li class="chapter" data-level="4.4.2" data-path="local_mod.html"><a href="local_mod.html#sfm-derived-height-to-dbh-allometry-2"><i class="fa fa-check"></i><b>4.4.2</b> SfM-derived Height to DBH Allometry</a></li>
<li class="chapter" data-level="4.4.3" data-path="local_mod.html"><a href="local_mod.html#training-vs-non-training-dbh-3"><i class="fa fa-check"></i><b>4.4.3</b> Training vs Non-Training DBH</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="local_mod.html"><a href="local_mod.html#nonlinear-power-model"><i class="fa fa-check"></i><b>4.5</b> Nonlinear Power Model</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="local_mod.html"><a href="local_mod.html#model-parameter-estimates-3"><i class="fa fa-check"></i><b>4.5.1</b> Model Parameter Estimates</a></li>
<li class="chapter" data-level="4.5.2" data-path="local_mod.html"><a href="local_mod.html#sfm-derived-height-to-dbh-allometry-3"><i class="fa fa-check"></i><b>4.5.2</b> SfM-derived Height to DBH Allometry</a></li>
<li class="chapter" data-level="4.5.3" data-path="local_mod.html"><a href="local_mod.html#training-vs-non-training-dbh-4"><i class="fa fa-check"></i><b>4.5.3</b> Training vs Non-Training DBH</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="local_mod.html"><a href="local_mod.html#nonlinear-weibull-model"><i class="fa fa-check"></i><b>4.6</b> Nonlinear Weibull Model</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="local_mod.html"><a href="local_mod.html#model-parameter-estimates-4"><i class="fa fa-check"></i><b>4.6.1</b> Model Parameter Estimates</a></li>
<li class="chapter" data-level="4.6.2" data-path="local_mod.html"><a href="local_mod.html#sfm-derived-height-to-dbh-allometry-4"><i class="fa fa-check"></i><b>4.6.2</b> SfM-derived Height to DBH Allometry</a></li>
<li class="chapter" data-level="4.6.3" data-path="local_mod.html"><a href="local_mod.html#training-vs-non-training-dbh-5"><i class="fa fa-check"></i><b>4.6.3</b> Training vs Non-Training DBH</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="local_mod.html"><a href="local_mod.html#model-comparison"><i class="fa fa-check"></i><b>4.7</b> Model Comparison</a></li>
<li class="chapter" data-level="4.8" data-path="local_mod.html"><a href="local_mod.html#update-dbh-to-best-model"><i class="fa fa-check"></i><b>4.8</b> Update DBH to best model</a></li>
<li class="chapter" data-level="4.9" data-path="local_mod.html"><a href="local_mod.html#combine-harvest-units-with-tree-locations"><i class="fa fa-check"></i><b>4.9</b> Combine harvest units with tree locations</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="exploratory-analysis.html"><a href="exploratory-analysis.html"><i class="fa fa-check"></i><b>5</b> Exploratory Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="exploratory-analysis.html"><a href="exploratory-analysis.html#study-location-map"><i class="fa fa-check"></i><b>5.1</b> Study Location Map</a></li>
<li class="chapter" data-level="5.2" data-path="exploratory-analysis.html"><a href="exploratory-analysis.html#digital-terrain-model-dtm-map"><i class="fa fa-check"></i><b>5.2</b> Digital Terrain Model (DTM) Map</a></li>
<li class="chapter" data-level="5.3" data-path="exploratory-analysis.html"><a href="exploratory-analysis.html#canopy-height-model-chm-map"><i class="fa fa-check"></i><b>5.3</b> Canopy height model (CHM) Map</a></li>
<li class="chapter" data-level="5.4" data-path="exploratory-analysis.html"><a href="exploratory-analysis.html#dbh-distribution"><i class="fa fa-check"></i><b>5.4</b> DBH Distribution</a></li>
<li class="chapter" data-level="5.5" data-path="exploratory-analysis.html"><a href="exploratory-analysis.html#height-distribution"><i class="fa fa-check"></i><b>5.5</b> Height Distribution</a></li>
<li class="chapter" data-level="5.6" data-path="exploratory-analysis.html"><a href="exploratory-analysis.html#relationship-between-height-and-dbh"><i class="fa fa-check"></i><b>5.6</b> Relationship between height and DBH</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ostory_valid.html"><a href="ostory_valid.html"><i class="fa fa-check"></i><b>6</b> Overstory Field Validation Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ostory_valid.html"><a href="ostory_valid.html#load-field-data"><i class="fa fa-check"></i><b>6.1</b> Load Field Data</a></li>
<li class="chapter" data-level="6.2" data-path="ostory_valid.html"><a href="ostory_valid.html#build-uas-field-validation-data"><i class="fa fa-check"></i><b>6.2</b> Build UAS-Field Validation Data</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="ostory_valid.html"><a href="ostory_valid.html#true-positive-identification"><i class="fa fa-check"></i><b>6.2.1</b> True Positive Identification</a></li>
<li class="chapter" data-level="6.2.2" data-path="ostory_valid.html"><a href="ostory_valid.html#combine-with-commission-and-omission"><i class="fa fa-check"></i><b>6.2.2</b> Combine with Commission and Omission</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="ostory_valid.html"><a href="ostory_valid.html#summary-of-validation-data"><i class="fa fa-check"></i><b>6.3</b> Summary of Validation Data</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="ostory_valid.html"><a href="ostory_valid.html#true-positive-commission-ommission"><i class="fa fa-check"></i><b>6.3.1</b> True Positive, Commission, Ommission</a></li>
<li class="chapter" data-level="6.3.2" data-path="ostory_valid.html"><a href="ostory_valid.html#f-score"><i class="fa fa-check"></i><b>6.3.2</b> F-score</a></li>
<li class="chapter" data-level="6.3.3" data-path="ostory_valid.html"><a href="ostory_valid.html#height-vs.-dbh-of-tp-co-om"><i class="fa fa-check"></i><b>6.3.3</b> Height vs. DBH of <span class="math inline">\(Tp\)</span>, <span class="math inline">\(Co\)</span>, <span class="math inline">\(Om\)</span></a></li>
<li class="chapter" data-level="6.3.4" data-path="ostory_valid.html"><a href="ostory_valid.html#height-and-dbh-distribution-tp-co-om"><i class="fa fa-check"></i><b>6.3.4</b> Height and DBH Distribution <span class="math inline">\(Tp\)</span>, <span class="math inline">\(Co\)</span>, <span class="math inline">\(Om\)</span></a></li>
<li class="chapter" data-level="6.3.5" data-path="ostory_valid.html"><a href="ostory_valid.html#detected-overstory-tp-height-difference"><i class="fa fa-check"></i><b>6.3.5</b> Detected Overstory (<span class="math inline">\(TP\)</span>) Height Difference</a></li>
<li class="chapter" data-level="6.3.6" data-path="ostory_valid.html"><a href="ostory_valid.html#detected-overstory-tp-dbh-difference"><i class="fa fa-check"></i><b>6.3.6</b> Detected Overstory (<span class="math inline">\(TP\)</span>) DBH Difference</a></li>
<li class="chapter" data-level="6.3.7" data-path="ostory_valid.html"><a href="ostory_valid.html#detected-overstory-tp-reliability"><i class="fa fa-check"></i><b>6.3.7</b> Detected Overstory (<span class="math inline">\(TP\)</span>) Reliability</a></li>
<li class="chapter" data-level="6.3.8" data-path="ostory_valid.html"><a href="ostory_valid.html#detected-overstory-tp-distribution-comparison"><i class="fa fa-check"></i><b>6.3.8</b> Detected Overstory (<span class="math inline">\(TP\)</span>) Distribution Comparison</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="ostory_valid.html"><a href="ostory_valid.html#commission-and-omission-locations"><i class="fa fa-check"></i><b>6.4</b> Commission and Omission Locations</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="ostory_valid.html"><a href="ostory_valid.html#othomosaic-commission-and-omission-locations"><i class="fa fa-check"></i><b>6.4.1</b> Othomosaic Commission and Omission Locations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ustory_valid.html"><a href="ustory_valid.html"><i class="fa fa-check"></i><b>7</b> Regeneration Field Validation Data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ustory_valid.html"><a href="ustory_valid.html#load-field-data-1"><i class="fa fa-check"></i><b>7.1</b> Load Field Data</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="ustory_valid.html"><a href="ustory_valid.html#regeneration-field-data-plot-map"><i class="fa fa-check"></i><b>7.1.1</b> Regeneration Field Data Plot Map</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="ustory_valid.html"><a href="ustory_valid.html#create-data-to-compare-to-uas"><i class="fa fa-check"></i><b>7.2</b> Create Data to Compare to UAS</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="ustory_valid.html"><a href="ustory_valid.html#field-regeneration-tpa-by-size-class"><i class="fa fa-check"></i><b>7.2.1</b> Field Regeneration TPA by Size Class</a></li>
<li class="chapter" data-level="7.2.2" data-path="ustory_valid.html"><a href="ustory_valid.html#stand-regeneration-tpa-map"><i class="fa fa-check"></i><b>7.2.2</b> Stand Regeneration TPA Map</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="ustory_valid.html"><a href="ustory_valid.html#uas-estimated-regeneration"><i class="fa fa-check"></i><b>7.3</b> UAS Estimated Regeneration</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="ustory_valid.html"><a href="ustory_valid.html#uas-vs-field-regneration-tpa-by-size-class"><i class="fa fa-check"></i><b>7.3.1</b> UAS vs Field Regneration TPA by Size Class</a></li>
<li class="chapter" data-level="7.3.2" data-path="ustory_valid.html"><a href="ustory_valid.html#uas-vs-field-regeneration-tpa-by-stand"><i class="fa fa-check"></i><b>7.3.2</b> UAS vs Field Regeneration TPA by Stand</a></li>
<li class="chapter" data-level="7.3.3" data-path="ustory_valid.html"><a href="ustory_valid.html#uas-vs-field-regeneration-tpa-in-sample-plots"><i class="fa fa-check"></i><b>7.3.3</b> UAS vs Field Regeneration TPA in Sample Plots</a></li>
<li class="chapter" data-level="7.3.4" data-path="ustory_valid.html"><a href="ustory_valid.html#uas-vs-field-regeneration-tpa-correlation"><i class="fa fa-check"></i><b>7.3.4</b> UAS vs Field Regeneration TPA Correlation</a></li>
<li class="chapter" data-level="7.3.5" data-path="ustory_valid.html"><a href="ustory_valid.html#uas-regeneration-tpa-reliability"><i class="fa fa-check"></i><b>7.3.5</b> UAS Regeneration TPA Reliability</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="silv.html"><a href="silv.html"><i class="fa fa-check"></i><b>8</b> Silvicultural Metrics</a>
<ul>
<li class="chapter" data-level="8.1" data-path="silv.html"><a href="silv.html#overstory-summary"><i class="fa fa-check"></i><b>8.1</b> Overstory Summary</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="silv.html"><a href="silv.html#distribution-of-silvicultural-metrics"><i class="fa fa-check"></i><b>8.1.1</b> Distribution of silvicultural metrics</a></li>
<li class="chapter" data-level="8.1.2" data-path="silv.html"><a href="silv.html#overstory-stand-basal-area-map"><i class="fa fa-check"></i><b>8.1.2</b> Overstory Stand Basal Area Map</a></li>
<li class="chapter" data-level="8.1.3" data-path="silv.html"><a href="silv.html#stand-qmd-map"><i class="fa fa-check"></i><b>8.1.3</b> Stand QMD Map</a></li>
<li class="chapter" data-level="8.1.4" data-path="silv.html"><a href="silv.html#overstory-dbh-distrubtion"><i class="fa fa-check"></i><b>8.1.4</b> Overstory DBH Distrubtion</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="silv.html"><a href="silv.html#height-distribution-1"><i class="fa fa-check"></i><b>8.2</b> Height Distribution</a></li>
<li class="chapter" data-level="8.3" data-path="silv.html"><a href="silv.html#understory-summary"><i class="fa fa-check"></i><b>8.3</b> Understory Summary</a></li>
<li class="chapter" data-level="8.4" data-path="silv.html"><a href="silv.html#define-functions-for-stand-summary"><i class="fa fa-check"></i><b>8.4</b> Define Functions for Stand Summary</a></li>
<li class="chapter" data-level="8.5" data-path="silv.html"><a href="silv.html#harvest-unit-summary-reports"><i class="fa fa-check"></i><b>8.5</b> Harvest Unit Summary Reports</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tree_spatial.html"><a href="tree_spatial.html"><i class="fa fa-check"></i><b>9</b> UAS Tree Spatial Arrangement</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tree_spatial.html"><a href="tree_spatial.html#example-tree-group-workflow"><i class="fa fa-check"></i><b>9.1</b> Example Tree Group Workflow</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="tree_spatial.html"><a href="tree_spatial.html#orthomosaic-from-uas"><i class="fa fa-check"></i><b>9.1.1</b> Orthomosaic from UAS</a></li>
<li class="chapter" data-level="9.1.2" data-path="tree_spatial.html"><a href="tree_spatial.html#itd"><i class="fa fa-check"></i><b>9.1.2</b> ITD</a></li>
<li class="chapter" data-level="9.1.3" data-path="tree_spatial.html"><a href="tree_spatial.html#tree-groups"><i class="fa fa-check"></i><b>9.1.3</b> Tree Groups</a></li>
<li class="chapter" data-level="9.1.4" data-path="tree_spatial.html"><a href="tree_spatial.html#within-clump-distance"><i class="fa fa-check"></i><b>9.1.4</b> Within Clump Distance</a></li>
<li class="chapter" data-level="9.1.5" data-path="tree_spatial.html"><a href="tree_spatial.html#clump-polygons-and-metrics"><i class="fa fa-check"></i><b>9.1.5</b> Clump Polygons and Metrics</a></li>
<li class="chapter" data-level="9.1.6" data-path="tree_spatial.html"><a href="tree_spatial.html#clump-spacing"><i class="fa fa-check"></i><b>9.1.6</b> Clump Spacing</a></li>
<li class="chapter" data-level="9.1.7" data-path="tree_spatial.html"><a href="tree_spatial.html#clump-metrics"><i class="fa fa-check"></i><b>9.1.7</b> Clump Metrics</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="tree_spatial.html"><a href="tree_spatial.html#ico-implementation"><i class="fa fa-check"></i><b>9.2</b> ICO Implementation</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="tree_spatial.html"><a href="tree_spatial.html#determine-the-stand-average-density-target"><i class="fa fa-check"></i><b>9.2.1</b> 3. Determine the stand average density target</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Black Hills Experimental Forest UAS Mission Data Summary</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="silv" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Section 8</span> Silvicultural Metrics<a href="silv.html#silv" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Overstory metrics are calculated using the UAS SfM-derived DBH and height measurements, where DBH is estimated using a <a href="local_mod.html#local_mod">local DBH-Height allometric relationship</a>. <a href="ostory_valid.html#ostory_valid">Validation</a> of the UAS SfM-derived DBH and height measurements was completed using field-based sampling data. In the following analysis and reporting, overstory includes any tree where the DBH is 5.0 in. (12.70 cm) or greater.</p>
<p>Understory (i.e. regeneration) metrics are calculated using the field-based sampling data reviewed in <a href="ustory_valid.html#ustory_valid">this section</a>. The following analysis and reporting, understory includes any tree where the DBH is less than 5.0 in. (12.70 cm) or greater.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="silv.html#cb76-1" tabindex="-1"></a><span class="co"># Common silvicultural metrics are calculated for the entire extent.</span></span>
<span id="cb76-2"><a href="silv.html#cb76-2" tabindex="-1"></a>  <span class="co"># Note, that stand-level summaries can be computed if stand vector data is provided.</span></span>
<span id="cb76-3"><a href="silv.html#cb76-3" tabindex="-1"></a>  <span class="co"># metrics include:</span></span>
<span id="cb76-4"><a href="silv.html#cb76-4" tabindex="-1"></a>    <span class="co"># &quot;n_trees&quot;</span></span>
<span id="cb76-5"><a href="silv.html#cb76-5" tabindex="-1"></a>    <span class="co"># &quot;stand_area_ha&quot;</span></span>
<span id="cb76-6"><a href="silv.html#cb76-6" tabindex="-1"></a>    <span class="co"># &quot;trees_per_ha&quot;</span></span>
<span id="cb76-7"><a href="silv.html#cb76-7" tabindex="-1"></a>    <span class="co"># &quot;mean_dbh_cm&quot;</span></span>
<span id="cb76-8"><a href="silv.html#cb76-8" tabindex="-1"></a>    <span class="co"># &quot;qmd_cm&quot;</span></span>
<span id="cb76-9"><a href="silv.html#cb76-9" tabindex="-1"></a>    <span class="co"># &quot;mean_tree_height_m&quot;</span></span>
<span id="cb76-10"><a href="silv.html#cb76-10" tabindex="-1"></a>    <span class="co"># &quot;loreys_height_m&quot;</span></span>
<span id="cb76-11"><a href="silv.html#cb76-11" tabindex="-1"></a>    <span class="co"># &quot;basal_area_m2&quot;</span></span>
<span id="cb76-12"><a href="silv.html#cb76-12" tabindex="-1"></a>    <span class="co"># &quot;basal_area_m2_per_ha&quot;</span></span>
<span id="cb76-13"><a href="silv.html#cb76-13" tabindex="-1"></a></span>
<span id="cb76-14"><a href="silv.html#cb76-14" tabindex="-1"></a><span class="do">### stand-level summaries</span></span>
<span id="cb76-15"><a href="silv.html#cb76-15" tabindex="-1"></a>  silv_metrics <span class="ot">=</span> harvests_trees <span class="sc">%&gt;%</span></span>
<span id="cb76-16"><a href="silv.html#cb76-16" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb76-17"><a href="silv.html#cb76-17" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(dbh_cm <span class="sc">&gt;=</span> ostory_min_tree_dbh_cm) <span class="sc">%&gt;%</span> </span>
<span id="cb76-18"><a href="silv.html#cb76-18" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb76-19"><a href="silv.html#cb76-19" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(suid,stand_area_ha) <span class="sc">%&gt;%</span></span>
<span id="cb76-20"><a href="silv.html#cb76-20" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb76-21"><a href="silv.html#cb76-21" tabindex="-1"></a>      <span class="at">n_trees =</span> dplyr<span class="sc">::</span><span class="fu">n_distinct</span>(treeID)</span>
<span id="cb76-22"><a href="silv.html#cb76-22" tabindex="-1"></a>      , <span class="at">mean_dbh_cm =</span> <span class="fu">mean</span>(dbh_cm, <span class="at">na.rm =</span> T)</span>
<span id="cb76-23"><a href="silv.html#cb76-23" tabindex="-1"></a>      , <span class="at">mean_tree_height_m =</span> <span class="fu">mean</span>(tree_height_m, <span class="at">na.rm =</span> T)</span>
<span id="cb76-24"><a href="silv.html#cb76-24" tabindex="-1"></a>      , <span class="at">loreys_height_m =</span> <span class="fu">sum</span>(basal_area_m2<span class="sc">*</span>tree_height_m, <span class="at">na.rm =</span> T) <span class="sc">/</span> <span class="fu">sum</span>(basal_area_m2, <span class="at">na.rm =</span> T)</span>
<span id="cb76-25"><a href="silv.html#cb76-25" tabindex="-1"></a>      , <span class="at">basal_area_m2 =</span> <span class="fu">sum</span>(basal_area_m2, <span class="at">na.rm =</span> T)</span>
<span id="cb76-26"><a href="silv.html#cb76-26" tabindex="-1"></a>      , <span class="at">sum_dbh_cm_sq =</span> <span class="fu">sum</span>(dbh_cm<span class="sc">^</span><span class="dv">2</span>, <span class="at">na.rm =</span> T)</span>
<span id="cb76-27"><a href="silv.html#cb76-27" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb76-28"><a href="silv.html#cb76-28" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb76-29"><a href="silv.html#cb76-29" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb76-30"><a href="silv.html#cb76-30" tabindex="-1"></a>      <span class="at">trees_per_ha =</span> (n_trees<span class="sc">/</span>stand_area_ha)</span>
<span id="cb76-31"><a href="silv.html#cb76-31" tabindex="-1"></a>      , <span class="at">basal_area_m2_per_ha =</span> (basal_area_m2<span class="sc">/</span>stand_area_ha)</span>
<span id="cb76-32"><a href="silv.html#cb76-32" tabindex="-1"></a>      , <span class="at">qmd_cm =</span> <span class="fu">sqrt</span>(sum_dbh_cm_sq<span class="sc">/</span>n_trees)</span>
<span id="cb76-33"><a href="silv.html#cb76-33" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb76-34"><a href="silv.html#cb76-34" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(sum_dbh_cm_sq)) <span class="sc">%&gt;%</span></span>
<span id="cb76-35"><a href="silv.html#cb76-35" tabindex="-1"></a>    <span class="co"># convert to imperial units</span></span>
<span id="cb76-36"><a href="silv.html#cb76-36" tabindex="-1"></a>    <span class="fu">calc_imperial_units_fn</span>() <span class="sc">%&gt;%</span></span>
<span id="cb76-37"><a href="silv.html#cb76-37" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb76-38"><a href="silv.html#cb76-38" tabindex="-1"></a>      <span class="st">&quot;suid&quot;</span></span>
<span id="cb76-39"><a href="silv.html#cb76-39" tabindex="-1"></a>      , <span class="st">&quot;n_trees&quot;</span></span>
<span id="cb76-40"><a href="silv.html#cb76-40" tabindex="-1"></a>      , <span class="st">&quot;stand_area_ha&quot;</span></span>
<span id="cb76-41"><a href="silv.html#cb76-41" tabindex="-1"></a>      , <span class="st">&quot;trees_per_ha&quot;</span></span>
<span id="cb76-42"><a href="silv.html#cb76-42" tabindex="-1"></a>      , <span class="st">&quot;mean_dbh_cm&quot;</span></span>
<span id="cb76-43"><a href="silv.html#cb76-43" tabindex="-1"></a>      , <span class="st">&quot;qmd_cm&quot;</span></span>
<span id="cb76-44"><a href="silv.html#cb76-44" tabindex="-1"></a>      , <span class="st">&quot;mean_tree_height_m&quot;</span></span>
<span id="cb76-45"><a href="silv.html#cb76-45" tabindex="-1"></a>      , <span class="st">&quot;loreys_height_m&quot;</span></span>
<span id="cb76-46"><a href="silv.html#cb76-46" tabindex="-1"></a>      , <span class="st">&quot;basal_area_m2&quot;</span></span>
<span id="cb76-47"><a href="silv.html#cb76-47" tabindex="-1"></a>      , <span class="st">&quot;basal_area_m2_per_ha&quot;</span></span>
<span id="cb76-48"><a href="silv.html#cb76-48" tabindex="-1"></a>      <span class="co"># imperial</span></span>
<span id="cb76-49"><a href="silv.html#cb76-49" tabindex="-1"></a>      , <span class="st">&quot;stand_area_ac&quot;</span></span>
<span id="cb76-50"><a href="silv.html#cb76-50" tabindex="-1"></a>      , <span class="st">&quot;trees_per_ac&quot;</span></span>
<span id="cb76-51"><a href="silv.html#cb76-51" tabindex="-1"></a>      , <span class="st">&quot;mean_dbh_in&quot;</span></span>
<span id="cb76-52"><a href="silv.html#cb76-52" tabindex="-1"></a>      , <span class="st">&quot;qmd_in&quot;</span></span>
<span id="cb76-53"><a href="silv.html#cb76-53" tabindex="-1"></a>      , <span class="st">&quot;mean_tree_height_ft&quot;</span></span>
<span id="cb76-54"><a href="silv.html#cb76-54" tabindex="-1"></a>      , <span class="st">&quot;loreys_height_ft&quot;</span></span>
<span id="cb76-55"><a href="silv.html#cb76-55" tabindex="-1"></a>      , <span class="st">&quot;basal_area_ft2&quot;</span></span>
<span id="cb76-56"><a href="silv.html#cb76-56" tabindex="-1"></a>      , <span class="st">&quot;basal_area_ft2_per_ac&quot;</span></span>
<span id="cb76-57"><a href="silv.html#cb76-57" tabindex="-1"></a>    )</span>
<span id="cb76-58"><a href="silv.html#cb76-58" tabindex="-1"></a></span>
<span id="cb76-59"><a href="silv.html#cb76-59" tabindex="-1"></a><span class="do">### export tabular</span></span>
<span id="cb76-60"><a href="silv.html#cb76-60" tabindex="-1"></a>  <span class="fu">write.csv</span>(</span>
<span id="cb76-61"><a href="silv.html#cb76-61" tabindex="-1"></a>      silv_metrics</span>
<span id="cb76-62"><a href="silv.html#cb76-62" tabindex="-1"></a>      , <span class="fu">paste0</span>(delivery_dir, <span class="st">&quot;/stand_overstory_silv_metrics.csv&quot;</span>)</span>
<span id="cb76-63"><a href="silv.html#cb76-63" tabindex="-1"></a>      , <span class="at">row.names =</span> F</span>
<span id="cb76-64"><a href="silv.html#cb76-64" tabindex="-1"></a>    )</span>
<span id="cb76-65"><a href="silv.html#cb76-65" tabindex="-1"></a></span>
<span id="cb76-66"><a href="silv.html#cb76-66" tabindex="-1"></a>  <span class="co"># join with spatial data</span></span>
<span id="cb76-67"><a href="silv.html#cb76-67" tabindex="-1"></a>  silv_metrics <span class="ot">=</span> harvests <span class="sc">%&gt;%</span> </span>
<span id="cb76-68"><a href="silv.html#cb76-68" tabindex="-1"></a>    <span class="co"># join with plot data data</span></span>
<span id="cb76-69"><a href="silv.html#cb76-69" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">inner_join</span>(</span>
<span id="cb76-70"><a href="silv.html#cb76-70" tabindex="-1"></a>      silv_metrics</span>
<span id="cb76-71"><a href="silv.html#cb76-71" tabindex="-1"></a>      , <span class="at">by =</span> dplyr<span class="sc">::</span><span class="fu">join_by</span>(<span class="st">&quot;suid&quot;</span>)</span>
<span id="cb76-72"><a href="silv.html#cb76-72" tabindex="-1"></a>    )</span>
<span id="cb76-73"><a href="silv.html#cb76-73" tabindex="-1"></a></span>
<span id="cb76-74"><a href="silv.html#cb76-74" tabindex="-1"></a><span class="do">######################################################</span></span>
<span id="cb76-75"><a href="silv.html#cb76-75" tabindex="-1"></a><span class="co"># UNDERSTORY SUMMARY</span></span>
<span id="cb76-76"><a href="silv.html#cb76-76" tabindex="-1"></a><span class="do">######################################################</span></span>
<span id="cb76-77"><a href="silv.html#cb76-77" tabindex="-1"></a>ustory_silv_metrics <span class="ot">=</span> harvests_regen_plt_diam <span class="sc">%&gt;%</span> </span>
<span id="cb76-78"><a href="silv.html#cb76-78" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb76-79"><a href="silv.html#cb76-79" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb76-80"><a href="silv.html#cb76-80" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb76-81"><a href="silv.html#cb76-81" tabindex="-1"></a>      tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;diam_inch_class&quot;</span>)</span>
<span id="cb76-82"><a href="silv.html#cb76-82" tabindex="-1"></a>      , <span class="at">.fn =</span> as.numeric</span>
<span id="cb76-83"><a href="silv.html#cb76-83" tabindex="-1"></a>    )</span>
<span id="cb76-84"><a href="silv.html#cb76-84" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb76-85"><a href="silv.html#cb76-85" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb76-86"><a href="silv.html#cb76-86" tabindex="-1"></a>    diam_inch_class_lower <span class="sc">&lt;</span> ustory_max_tree_dbh_cm</span>
<span id="cb76-87"><a href="silv.html#cb76-87" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb76-88"><a href="silv.html#cb76-88" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(suid, regen_size_class_diam) <span class="sc">%&gt;%</span> </span>
<span id="cb76-89"><a href="silv.html#cb76-89" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb76-90"><a href="silv.html#cb76-90" tabindex="-1"></a>    <span class="at">number_of_plots =</span> dplyr<span class="sc">::</span><span class="fu">n_distinct</span>(plot_dir_id)</span>
<span id="cb76-91"><a href="silv.html#cb76-91" tabindex="-1"></a>    , <span class="at">max_diam_inch_class_upper =</span> <span class="fu">max</span>(diam_inch_class_upper)</span>
<span id="cb76-92"><a href="silv.html#cb76-92" tabindex="-1"></a>    , <span class="at">sum_num_trees =</span> <span class="fu">sum</span>(number_of_trees_in_size_class)</span>
<span id="cb76-93"><a href="silv.html#cb76-93" tabindex="-1"></a>    , <span class="at">sampled_area_ac =</span> <span class="fu">sum</span>(plot_area_ac)</span>
<span id="cb76-94"><a href="silv.html#cb76-94" tabindex="-1"></a>    , <span class="at">sampled_area_ha =</span> <span class="fu">sum</span>(plot_area_ha)</span>
<span id="cb76-95"><a href="silv.html#cb76-95" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb76-96"><a href="silv.html#cb76-96" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb76-97"><a href="silv.html#cb76-97" tabindex="-1"></a>    <span class="at">size_class_trees_per_ac =</span> sum_num_trees<span class="sc">/</span>sampled_area_ac</span>
<span id="cb76-98"><a href="silv.html#cb76-98" tabindex="-1"></a>    , <span class="at">size_class_trees_per_ha =</span> sum_num_trees<span class="sc">/</span>sampled_area_ha</span>
<span id="cb76-99"><a href="silv.html#cb76-99" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb76-100"><a href="silv.html#cb76-100" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(suid) <span class="sc">%&gt;%</span> </span>
<span id="cb76-101"><a href="silv.html#cb76-101" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb76-102"><a href="silv.html#cb76-102" tabindex="-1"></a>    <span class="at">unit_trees_per_ac =</span> <span class="fu">sum</span>(size_class_trees_per_ac)</span>
<span id="cb76-103"><a href="silv.html#cb76-103" tabindex="-1"></a>    , <span class="at">unit_trees_per_ha =</span> <span class="fu">sum</span>(size_class_trees_per_ha)</span>
<span id="cb76-104"><a href="silv.html#cb76-104" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb76-105"><a href="silv.html#cb76-105" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>()</span>
<span id="cb76-106"><a href="silv.html#cb76-106" tabindex="-1"></a>  </span>
<span id="cb76-107"><a href="silv.html#cb76-107" tabindex="-1"></a><span class="do">### export tabular</span></span>
<span id="cb76-108"><a href="silv.html#cb76-108" tabindex="-1"></a>  <span class="fu">write.csv</span>(</span>
<span id="cb76-109"><a href="silv.html#cb76-109" tabindex="-1"></a>      ustory_silv_metrics</span>
<span id="cb76-110"><a href="silv.html#cb76-110" tabindex="-1"></a>      , <span class="fu">paste0</span>(delivery_dir, <span class="st">&quot;/stand_understory_silv_metrics.csv&quot;</span>)</span>
<span id="cb76-111"><a href="silv.html#cb76-111" tabindex="-1"></a>      , <span class="at">row.names =</span> F</span>
<span id="cb76-112"><a href="silv.html#cb76-112" tabindex="-1"></a>    )</span></code></pre></div>
<div id="overstory-summary" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Overstory Summary<a href="silv.html#overstory-summary" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="distribution-of-silvicultural-metrics" class="section level3 hasAnchor" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> Distribution of silvicultural metrics<a href="silv.html#distribution-of-silvicultural-metrics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Distribution of silvicultural metrics across the 6 stands in this analysis.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="silv.html#cb77-1" tabindex="-1"></a>silv_metrics <span class="sc">%&gt;%</span> </span>
<span id="cb77-2"><a href="silv.html#cb77-2" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb77-3"><a href="silv.html#cb77-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb77-4"><a href="silv.html#cb77-4" tabindex="-1"></a>    <span class="st">&quot;suid&quot;</span></span>
<span id="cb77-5"><a href="silv.html#cb77-5" tabindex="-1"></a>    , <span class="st">&quot;stand_area_ac&quot;</span></span>
<span id="cb77-6"><a href="silv.html#cb77-6" tabindex="-1"></a>    , <span class="st">&quot;n_trees&quot;</span></span>
<span id="cb77-7"><a href="silv.html#cb77-7" tabindex="-1"></a>    , <span class="st">&quot;trees_per_ac&quot;</span></span>
<span id="cb77-8"><a href="silv.html#cb77-8" tabindex="-1"></a>    , <span class="st">&quot;mean_dbh_in&quot;</span></span>
<span id="cb77-9"><a href="silv.html#cb77-9" tabindex="-1"></a>    , <span class="st">&quot;qmd_in&quot;</span></span>
<span id="cb77-10"><a href="silv.html#cb77-10" tabindex="-1"></a>    , <span class="st">&quot;mean_tree_height_ft&quot;</span></span>
<span id="cb77-11"><a href="silv.html#cb77-11" tabindex="-1"></a>    , <span class="st">&quot;loreys_height_ft&quot;</span></span>
<span id="cb77-12"><a href="silv.html#cb77-12" tabindex="-1"></a>    , <span class="st">&quot;basal_area_ft2_per_ac&quot;</span></span>
<span id="cb77-13"><a href="silv.html#cb77-13" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb77-14"><a href="silv.html#cb77-14" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb77-15"><a href="silv.html#cb77-15" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(suid), <span class="at">names_to =</span> <span class="st">&quot;metric&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;val&quot;</span></span>
<span id="cb77-16"><a href="silv.html#cb77-16" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb77-17"><a href="silv.html#cb77-17" tabindex="-1"></a>  <span class="co"># order metrics</span></span>
<span id="cb77-18"><a href="silv.html#cb77-18" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb77-19"><a href="silv.html#cb77-19" tabindex="-1"></a>    <span class="at">metric =</span> <span class="fu">factor</span>(</span>
<span id="cb77-20"><a href="silv.html#cb77-20" tabindex="-1"></a>      metric</span>
<span id="cb77-21"><a href="silv.html#cb77-21" tabindex="-1"></a>      , <span class="at">ordered =</span> T</span>
<span id="cb77-22"><a href="silv.html#cb77-22" tabindex="-1"></a>      , <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb77-23"><a href="silv.html#cb77-23" tabindex="-1"></a>          <span class="st">&quot;stand_area_ac&quot;</span></span>
<span id="cb77-24"><a href="silv.html#cb77-24" tabindex="-1"></a>          , <span class="st">&quot;n_trees&quot;</span></span>
<span id="cb77-25"><a href="silv.html#cb77-25" tabindex="-1"></a>          , <span class="st">&quot;trees_per_ac&quot;</span></span>
<span id="cb77-26"><a href="silv.html#cb77-26" tabindex="-1"></a>          , <span class="st">&quot;mean_tree_height_ft&quot;</span></span>
<span id="cb77-27"><a href="silv.html#cb77-27" tabindex="-1"></a>          , <span class="st">&quot;loreys_height_ft&quot;</span></span>
<span id="cb77-28"><a href="silv.html#cb77-28" tabindex="-1"></a>          , <span class="st">&quot;mean_dbh_in&quot;</span></span>
<span id="cb77-29"><a href="silv.html#cb77-29" tabindex="-1"></a>          , <span class="st">&quot;qmd_in&quot;</span></span>
<span id="cb77-30"><a href="silv.html#cb77-30" tabindex="-1"></a>          , <span class="st">&quot;basal_area_ft2_per_ac&quot;</span></span>
<span id="cb77-31"><a href="silv.html#cb77-31" tabindex="-1"></a>        )</span>
<span id="cb77-32"><a href="silv.html#cb77-32" tabindex="-1"></a>      , <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb77-33"><a href="silv.html#cb77-33" tabindex="-1"></a>          latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Stand Area (ac)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb77-34"><a href="silv.html#cb77-34" tabindex="-1"></a>          , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Number of Trees&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb77-35"><a href="silv.html#cb77-35" tabindex="-1"></a>          , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Trees $ac^{-1}$&quot;</span>)</span>
<span id="cb77-36"><a href="silv.html#cb77-36" tabindex="-1"></a>          , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Mean Tree Height (ft)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb77-37"><a href="silv.html#cb77-37" tabindex="-1"></a>          , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Lorey&#39;s Mean Height (ft)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb77-38"><a href="silv.html#cb77-38" tabindex="-1"></a>          , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Mean DBH (in)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb77-39"><a href="silv.html#cb77-39" tabindex="-1"></a>          , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;QMD (in)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb77-40"><a href="silv.html#cb77-40" tabindex="-1"></a>          , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Basal Area $ft^{2} </span><span class="sc">\\</span><span class="st">cdot ac^{-1}$&quot;</span>)</span>
<span id="cb77-41"><a href="silv.html#cb77-41" tabindex="-1"></a>        )</span>
<span id="cb77-42"><a href="silv.html#cb77-42" tabindex="-1"></a>    )</span>
<span id="cb77-43"><a href="silv.html#cb77-43" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb77-44"><a href="silv.html#cb77-44" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb77-45"><a href="silv.html#cb77-45" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb77-46"><a href="silv.html#cb77-46" tabindex="-1"></a>      <span class="at">x =</span> val</span>
<span id="cb77-47"><a href="silv.html#cb77-47" tabindex="-1"></a>      , <span class="at">y =</span> <span class="dv">1</span></span>
<span id="cb77-48"><a href="silv.html#cb77-48" tabindex="-1"></a>    )</span>
<span id="cb77-49"><a href="silv.html#cb77-49" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb77-50"><a href="silv.html#cb77-50" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">width =</span> <span class="fl">0.7</span>, <span class="at">outlier.shape =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb77-51"><a href="silv.html#cb77-51" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">group =</span> suid)) <span class="sc">+</span></span>
<span id="cb77-52"><a href="silv.html#cb77-52" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="at">facets =</span> <span class="fu">vars</span>(metric), <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">scales =</span> <span class="st">&quot;free_x&quot;</span>, <span class="at">labeller =</span> label_parsed) <span class="sc">+</span></span>
<span id="cb77-53"><a href="silv.html#cb77-53" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb77-54"><a href="silv.html#cb77-54" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="fl">0.5</span>,<span class="fl">1.5</span>)) <span class="sc">+</span></span>
<span id="cb77-55"><a href="silv.html#cb77-55" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb77-56"><a href="silv.html#cb77-56" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb77-57"><a href="silv.html#cb77-57" tabindex="-1"></a>    , <span class="at">x =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb77-58"><a href="silv.html#cb77-58" tabindex="-1"></a>    , <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb77-59"><a href="silv.html#cb77-59" tabindex="-1"></a>        <span class="st">&quot;Overstory (&gt;= &quot;</span></span>
<span id="cb77-60"><a href="silv.html#cb77-60" tabindex="-1"></a>        , scales<span class="sc">::</span><span class="fu">comma</span>(ostory_min_tree_dbh_cm<span class="sc">/</span><span class="fl">2.54</span>,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb77-61"><a href="silv.html#cb77-61" tabindex="-1"></a>        , <span class="st">&quot; in. DBH) Distribution of Silvicultural Metrics&quot;</span></span>
<span id="cb77-62"><a href="silv.html#cb77-62" tabindex="-1"></a>      )</span>
<span id="cb77-63"><a href="silv.html#cb77-63" tabindex="-1"></a>    , <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="fu">nrow</span>(silv_metrics), <span class="st">&quot;stands included in analysis&quot;</span>)</span>
<span id="cb77-64"><a href="silv.html#cb77-64" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb77-65"><a href="silv.html#cb77-65" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span> </span>
<span id="cb77-66"><a href="silv.html#cb77-66" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb77-67"><a href="silv.html#cb77-67" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb77-68"><a href="silv.html#cb77-68" tabindex="-1"></a>    , <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>)</span>
<span id="cb77-69"><a href="silv.html#cb77-69" tabindex="-1"></a>    , <span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;gray88&quot;</span>)</span>
<span id="cb77-70"><a href="silv.html#cb77-70" tabindex="-1"></a>    , <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb77-71"><a href="silv.html#cb77-71" tabindex="-1"></a>    , <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb77-72"><a href="silv.html#cb77-72" tabindex="-1"></a>    , <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb77-73"><a href="silv.html#cb77-73" tabindex="-1"></a>    , <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb77-74"><a href="silv.html#cb77-74" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="bhef_uas_202306_files/figure-html/site-metrics-1.png" width="1008" /></p>
</div>
<div id="overstory-stand-basal-area-map" class="section level3 hasAnchor" number="8.1.2">
<h3><span class="header-section-number">8.1.2</span> Overstory Stand Basal Area Map<a href="silv.html#overstory-stand-basal-area-map" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="silv.html#cb78-1" tabindex="-1"></a>mapview<span class="sc">::</span><span class="fu">mapview</span>(</span>
<span id="cb78-2"><a href="silv.html#cb78-2" tabindex="-1"></a>  bhef_boundary</span>
<span id="cb78-3"><a href="silv.html#cb78-3" tabindex="-1"></a>  , <span class="at">color =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb78-4"><a href="silv.html#cb78-4" tabindex="-1"></a>  , <span class="at">lwd =</span> <span class="dv">3</span></span>
<span id="cb78-5"><a href="silv.html#cb78-5" tabindex="-1"></a>  , <span class="at">alpha.regions =</span> <span class="dv">0</span></span>
<span id="cb78-6"><a href="silv.html#cb78-6" tabindex="-1"></a>  , <span class="at">layer.name =</span> <span class="st">&quot;BHEF&quot;</span></span>
<span id="cb78-7"><a href="silv.html#cb78-7" tabindex="-1"></a>  , <span class="at">label =</span> <span class="cn">FALSE</span></span>
<span id="cb78-8"><a href="silv.html#cb78-8" tabindex="-1"></a>  , <span class="at">legend =</span> <span class="cn">FALSE</span></span>
<span id="cb78-9"><a href="silv.html#cb78-9" tabindex="-1"></a>  , <span class="at">popup =</span> <span class="cn">FALSE</span></span>
<span id="cb78-10"><a href="silv.html#cb78-10" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb78-11"><a href="silv.html#cb78-11" tabindex="-1"></a>    mapview<span class="sc">::</span><span class="fu">mapview</span>(</span>
<span id="cb78-12"><a href="silv.html#cb78-12" tabindex="-1"></a>      silv_metrics</span>
<span id="cb78-13"><a href="silv.html#cb78-13" tabindex="-1"></a>      , <span class="at">zcol =</span> <span class="st">&quot;basal_area_ft2_per_ac&quot;</span></span>
<span id="cb78-14"><a href="silv.html#cb78-14" tabindex="-1"></a>      , <span class="at">layer.name =</span> <span class="st">&quot;BA (ft2 per ac)&quot;</span> <span class="co">#latex2exp::TeX(&quot;Basal Area $ft^{2} \\cdot ac^{-1}$&quot;)</span></span>
<span id="cb78-15"><a href="silv.html#cb78-15" tabindex="-1"></a>      , <span class="at">col.regions =</span> viridis<span class="sc">::</span><span class="fu">cividis</span>(<span class="at">n=</span><span class="fu">nrow</span>(silv_metrics)<span class="sc">*</span><span class="fl">1.1</span>)</span>
<span id="cb78-16"><a href="silv.html#cb78-16" tabindex="-1"></a>      , <span class="at">alpha.regions =</span> <span class="fl">0.7</span></span>
<span id="cb78-17"><a href="silv.html#cb78-17" tabindex="-1"></a>      , <span class="at">na.color =</span> <span class="st">&quot;transparent&quot;</span></span>
<span id="cb78-18"><a href="silv.html#cb78-18" tabindex="-1"></a>      , <span class="at">popup =</span> F</span>
<span id="cb78-19"><a href="silv.html#cb78-19" tabindex="-1"></a>    ) </span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-3eafaabd033eb8864eaf" style="width:1008px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-3eafaabd033eb8864eaf">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[-103.61746026,-103.6143989719999,-103.614631243,-103.614639201,-103.614639821,-103.614642778,-103.614643744,-103.614645788,-103.614651428,-103.6146557119999,-103.615041026,-103.61499635,-103.614817145,-103.618291284,-103.62176542,-103.6246839629999,-103.626419664,-103.626885714,-103.630980447,-103.634866494,-103.6405221049999,-103.6443119909999,-103.644319084,-103.644280714,-103.6443395479999,-103.64427893,-103.644069083,-103.64426033,-103.652699784,-103.654991044,-103.6549164749999,-103.65495845,-103.654969793,-103.654945678,-103.654969851,-103.654941462,-103.6549238759999,-103.654951055,-103.654913085,-103.651973582,-103.647161706,-103.6464132999999,-103.646396903,-103.645998371,-103.6440270419999,-103.642818888,-103.641486086,-103.637678997,-103.633545016,-103.629450388,-103.6261774129999,-103.625598477,-103.625084605,-103.6247402069999,-103.624699938,-103.62462958,-103.623816145,-103.622421076,-103.621636085,-103.6219002619999,-103.621650594,-103.621162474,-103.620827478,-103.619874548,-103.618750926,-103.61746026],"lat":[44.17993008100007,44.18000830600004,44.17653025600003,44.17417861900002,44.17399560500007,44.17312117200004,44.17283553400006,44.17223096600004,44.17056348000006,44.16929638400006,44.15474604100006,44.14645179300004,44.14018957300003,44.14016067800003,44.14013169300006,44.14001263400007,44.13998595300005,44.13988597700006,44.13991859400004,44.13991432800002,44.13988113200003,44.13993090800006,44.14234249200006,44.14502741900002,44.14887740500006,44.15408788600008,44.15434387400005,44.15452795800007,44.15450450300004,44.15456246900004,44.15722519000007,44.16122261100002,44.16494866800007,44.16926703400002,44.17038757000005,44.17315746200006,44.17723162000003,44.18079590700007,44.18348104400008,44.18343114800007,44.18341598300002,44.18343474000006,44.18328934400006,44.18338548900004,44.18345033500003,44.18332483600005,44.18330406800004,44.18342578900008,44.18337109300005,44.18336278600003,44.18338028200003,44.18338917800003,44.18336994100007,44.18334096000007,44.18297682300004,44.17998153200006,44.18002829100004,44.18005969500007,44.18005602800008,44.17967500200005,44.17927472700006,44.17918082800004,44.17893179100002,44.17925482800008,44.17988033700004,44.17993008100007]}]]],null,"BHEF",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#000000","weight":3,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0,"smoothFactor":1,"noClip":false},null,{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":5,"opacity":0.9,"fillOpacity":0,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addPolygons","args":[[[[{"lng":[-103.62615607,-103.626150618,-103.626239304,-103.626346537,-103.626408004,-103.626677362,-103.62688154,-103.627136646,-103.627254887,-103.627412166,-103.627613832,-103.627722249,-103.627861956,-103.627959144,-103.627932835,-103.627832256,-103.627793786,-103.627990975,-103.628197687,-103.628299107,-103.628456976,-103.628595287,-103.628649046,-103.628800498,-103.628990742,-103.629097248,-103.629204213,-103.629435657,-103.62963668,-103.629746308,-103.629848575,-103.629952854,-103.630191234,-103.630318772,-103.630404795,-103.630526437,-103.630710841,-103.630867923,-103.630975563,-103.631058797,-103.631091111,-103.631110113,-103.631106097,-103.630999234,-103.630939817,-103.630890974,-103.630774722,-103.630721828,-103.630679732,-103.630613316,-103.630483115,-103.630412516,-103.630409915,-103.630411664,-103.630425245,-103.630393068,-103.630355277,-103.630355358,-103.630372573,-103.630501287,-103.630586778,-103.630709795,-103.630779302,-103.630879025,-103.630993228,-103.631088099,-103.631139761,-103.631163607,-103.631209604,-103.631324517,-103.631437018,-103.631462752,-103.63144462,-103.631432194,-103.631403572,-103.631447012,-103.631482282,-103.631486681,-103.631510441,-103.63147043,-103.631442299,-103.631421799,-103.631356729,-103.631290081,-103.631151152,-103.631062826,-103.631017704,-103.630928611,-103.630819071,-103.630866167,-103.630962267,-103.631157665,-103.631240791,-103.631223634,-103.631208189,-103.631191303,-103.631187065,-103.631170151,-103.63115801,-103.631138302,-103.631111124,-103.631090126,-103.631049281,-103.631008481,-103.630977182,-103.630917713,-103.63089344,-103.630853763,-103.630813715,-103.630748159,-103.630701499,-103.630648776,-103.630609643,-103.630562347,-103.630508093,-103.630490875,-103.630437546,-103.630408888,-103.630379833,-103.630346479,-103.630325413,-103.630299591,-103.630278542,-103.630246532,-103.630235746,-103.630211941,-103.630214669,-103.630212799,-103.630188493,-103.630179761,-103.630157942,-103.630131902,-103.630114413,-103.630081746,-103.630058733,-103.630007169,-103.629951196,-103.629902805,-103.629851183,-103.62979867,-103.629745312,-103.629693915,-103.629640366,-103.629587965,-103.629522989,-103.629471971,-103.629430135,-103.629417682,-103.629377452,-103.629330269,-103.629279696,-103.629232007,-103.629178949,-103.629130153,-103.629080995,-103.629030226,-103.628992625,-103.628946488,-103.628896263,-103.628843207,-103.628793404,-103.62874446,-103.628693801,-103.628644441,-103.628596067,-103.628547523,-103.628500592,-103.628454872,-103.62841775,-103.628373658,-103.628336462,-103.628292493,-103.62823289,-103.628194196,-103.628130535,-103.628069541,-103.628014599,-103.627971921,-103.627911022,-103.627851043,-103.627788654,-103.627710923,-103.627638901,-103.62757404,-103.627540307,-103.627469305,-103.627413344,-103.627359707,-103.627296868,-103.627236894,-103.627193016,-103.627113125,-103.627053175,-103.626999414,-103.626962124,-103.626903635,-103.626861647,-103.626798442,-103.6267351,-103.626692903,-103.626642349,-103.62658131,-103.626542915,-103.626499792,-103.626449136,-103.626397742,-103.626353976,-103.626281628,-103.626226122,-103.626184836,-103.626130076,-103.62606325,-103.626019929,-103.625964279,-103.625917033,-103.625873536,-103.62582722,-103.625780391,-103.625734359,-103.625687797,-103.625642382,-103.625597371,-103.625549587,-103.625505852,-103.625459775,-103.625416194,-103.62537039,-103.625321748,-103.625275633,-103.625232521,-103.6251927,-103.625154291,-103.625117999,-103.625097429,-103.625054477,-103.625021789,-103.624992548,-103.62496314,-103.624935663,-103.62491138,-103.624885721,-103.624859437,-103.624834536,-103.624797578,-103.624774721,-103.624745795,-103.62471612,-103.624696902,-103.624666142,-103.624641626,-103.62460953,-103.624576592,-103.624544448,-103.624517432,-103.624477035,-103.624444212,-103.624409708,-103.624374096,-103.624342268,-103.624299288,-103.624257578,-103.624218698,-103.624179389,-103.624139023,-103.624098334,-103.624058223,-103.624015406,-103.623978054,-103.623936404,-103.623896195,-103.623856586,-103.623818141,-103.623783621,-103.623746897,-103.623706765,-103.623666119,-103.623628498,-103.623587302,-103.623547237,-103.623514139,-103.623471079,-103.623433862,-103.623399709,-103.6233694,-103.623341143,-103.62332023,-103.623305568,-103.623302783,-103.623303104,-103.6233068,-103.623317912,-103.623346939,-103.623370645,-103.623406225,-103.623437621,-103.623474298,-103.623517216,-103.623563677,-103.623609828,-103.62365323,-103.623696404,-103.623739865,-103.62378019,-103.623814331,-103.62384585,-103.623866471,-103.62388654,-103.623904483,-103.62391978,-103.623930311,-103.623935189,-103.623940249,-103.623920666,-103.623893094,-103.623858114,-103.623829863,-103.623810195,-103.623748649,-103.623704741,-103.623655539,-103.623599028,-103.623548033,-103.623510535,-103.623458863,-103.62341356,-103.623360821,-103.623331978,-103.623286301,-103.623247169,-103.623194902,-103.62315796,-103.623107331,-103.623063146,-103.623025217,-103.622988606,-103.622970405,-103.622981104,-103.62302187,-103.623061452,-103.623101519,-103.623139724,-103.623178422,-103.62321965,-103.62325021,-103.623284712,-103.623315029,-103.623346458,-103.623380809,-103.62341409,-103.623448057,-103.623483126,-103.623517163,-103.623552624,-103.623585365,-103.623620187,-103.623656632,-103.623694257,-103.623727336,-103.623768964,-103.623809837,-103.623855437,-103.623906229,-103.623961328,-103.624022701,-103.624090207,-103.624159619,-103.624231605,-103.62431176,-103.624392993,-103.62446804,-103.624546011,-103.624623558,-103.62470208,-103.62478056,-103.624857977,-103.624938675,-103.625011182,-103.625091185,-103.625170913,-103.625250888,-103.625329146,-103.625408425,-103.625490297,-103.625570433,-103.625649468,-103.625726116,-103.625802734,-103.626182605,-103.626221402,-103.62615607],"lat":[44.142062898,44.14229439699999,44.14232401299999,44.14233576599997,44.14234152400002,44.14236395699998,44.14245555999998,44.14254624900001,44.14249780300001,44.142399576,44.14225821399998,44.14213803799998,44.14202942899999,44.14185865199999,44.14174794399997,44.14159782799999,44.14146236800001,44.14141745400002,44.14138836299996,44.14131139300002,44.141239649,44.141264126,44.14127540099997,44.14130707200002,44.14119604299997,44.14112709800003,44.14107168499999,44.14096408099999,44.14086333799997,44.14076514099997,44.14070887499997,44.14064359600002,44.14056030400002,44.14044994199998,44.14040334299999,44.14040343300002,44.14041345300001,44.14035242699999,44.14031980800002,44.14031412299999,44.14037465199999,44.14048531700001,44.14060641499998,44.14076019999999,44.14084481999998,44.14094937099998,44.141163876,44.14127632299999,44.14133668800002,44.14138733599998,44.14149566700002,44.14153711,44.14160831200002,44.14166481,44.14180503599999,44.14190647800001,44.14201283199997,44.14213788799998,44.14225406600001,44.142417986,44.14248004199999,44.14256751300002,44.14265483600001,44.14274079699997,44.14281141700003,44.14294123100001,44.14302768099999,44.14320576400001,44.14335435499998,44.14353422599997,44.143676105,44.14380415300002,44.143926523,44.14406119300002,44.14421646099998,44.144332529,44.14441321700004,44.14450149200002,44.144595358,44.144746155,44.14484003500002,44.145021826,44.14505668599998,44.145102603,44.14518550499997,44.14525606699998,44.145394989,44.14553603100001,44.14563381499999,44.14578197600002,44.14581967700002,44.14592430800002,44.14597361400001,44.146085046,44.14609760099999,44.14612400800001,44.14616958699997,44.14619295799996,44.14622626900002,44.14624641400002,44.146268454,44.14630168899998,44.146332034,44.14635728100001,44.14639179499999,44.14642291699999,44.14643835700002,44.146461508,44.14647792300002,44.146487556,44.146519125,44.14653403300002,44.146557282,44.146582012,44.14659528800001,44.14662947099998,44.14663892300002,44.146672233,44.14669209900001,44.14671326199998,44.14675853300002,44.146792592,44.14682028099998,44.14686670200001,44.14690716600001,44.14692262699997,44.14695929700002,44.14698027799999,44.14703036499996,44.14706441599998,44.14709404199998,44.14713663700002,44.14716071599996,44.147195071,44.14722745500001,44.14726068499999,44.147277673,44.147296692,44.14730876599999,44.14731222500001,44.147309141,44.14730176099999,44.14728473899998,44.14727004899999,44.14725392600003,44.14724410500003,44.14722936900001,44.14722479599998,44.14721012699998,44.147191249,44.14717348699997,44.14715856800001,44.14714149100001,44.14712466399998,44.14710921800003,44.14709188099999,44.147074804,44.14705983599998,44.14704461399998,44.14703007299999,44.14701434199997,44.14699667899998,44.146977967,44.14696006899998,44.14694279299999,44.14692734900002,44.14691179499999,44.14689666499998,44.146886757,44.14687258399999,44.146845048,44.14682418,44.14681672099999,44.14680305399997,44.14678718599998,44.14677679300002,44.14676450299999,44.14675784799999,44.14674484199998,44.14675963200001,44.14674843699998,44.14674514400001,44.146735142,44.14674062900003,44.14674349400001,44.14676999599999,44.14678755699998,44.14680836000002,44.14682746900002,44.14684512600002,44.146872577,44.14688779699997,44.14691355299999,44.14692349799998,44.14694793299997,44.14698523200002,44.14700435999998,44.14700659499999,44.147023784,44.14706354999999,44.14707321100002,44.14709721399999,44.14712721699998,44.14714417800002,44.14713503899997,44.14716985199999,44.14718161000001,44.14719417999999,44.14722760199999,44.147242623,44.14725874599998,44.14728077299997,44.14727456499998,44.14727493100002,44.14726043500002,44.14724357699998,44.14722260299998,44.14719992599998,44.14717283499999,44.147147743,44.14712566999999,44.14710376499998,44.14708123899999,44.14705743600002,44.14703429799999,44.14701115000003,44.14698608100002,44.146959374,44.146930364,44.146902759,44.14687300000003,44.14684135200002,44.14680791699999,44.14677537300002,44.14673992199999,44.14670267700001,44.14666120999999,44.14662199899998,44.14658176900003,44.14654561700002,44.14651019199999,44.14647611200002,44.146439337,44.146383108,44.14634888199998,44.14632276399999,44.14628342200002,44.14625088499998,44.14620906200001,44.14617531800002,44.14612833899998,44.14608696999999,44.14605047499997,44.14601216699997,44.145979679,44.14594434399998,44.14590921400004,44.145872472,44.14583813199999,44.14579822399998,44.14576114699997,44.14572171800001,44.1456857,44.14564895799999,44.14561228799998,44.14557358799998,44.14553450199997,44.14549487900001,44.145457497,44.145421269,44.14538642000002,44.14535013699997,44.14531357700002,44.14527604400001,44.14523711800001,44.145201288,44.14516294800001,44.14512636799997,44.14508742899999,44.14504798699998,44.14500772399997,44.14496630399997,44.14492354700002,44.14487669099997,44.14482892199998,44.14478157600001,44.14473472499997,44.14468163100002,44.14463397100001,44.14458338499998,44.14454232700001,44.14448705699999,44.14444929400003,44.144402511,44.14436471099998,44.14432704900003,44.14429304300002,44.144259099,44.14422668600002,44.14419320100001,44.14416042999999,44.14412825900001,44.14409335699997,44.144056223,44.14401678,44.14397463799998,44.14393052999998,44.143886384,44.14384057900001,44.14379350600001,44.143747922,44.14369750800001,44.14363197900002,44.14359670499999,44.14356354799999,44.14353456499999,44.14350339600003,44.14346397399997,44.14342072800002,44.14338780499997,44.143353832,44.14332640800001,44.143295062,44.14325979400002,44.143233764,44.143197595,44.14317032299999,44.14313810399999,44.14311006600001,44.143090706,44.14305492900001,44.14302471100001,44.142992645,44.14295528199999,44.14291710800001,44.14287522000001,44.14285060999998,44.14280988299998,44.14276307900002,44.14271701199998,44.14267089700001,44.14262627599999,44.14257963699999,44.142529782,44.14248160900001,44.14243005499997,44.14237722699999,44.14232545300001,44.14227299999998,44.14221984199998,44.14216609200003,44.14211282500002,44.14206015200001,44.14200701999999,44.14195423299999,44.14189999699998,44.141850938,44.141799713,44.141751714,44.14170310799999,44.14165463199998,44.14160990400001,44.14156789600003,44.14152996500002,44.14149669,44.14146904500002,44.14144438099998,44.14143301399997,44.14142388999999,44.14142261,44.14142376,44.14143159999996,44.14144284200001,44.14145546200001,44.14147056399997,44.14148536200003,44.14150314300002,44.14151973200001,44.141534976,44.14155286499999,44.14156676200002,44.14158365399997,44.14159883899998,44.14161727999999,44.14163079799999,44.14164391000003,44.14165923199999,44.141814728,44.14190857300002,44.142062898]}]],[[{"lng":[-103.644319084,-103.644280714,-103.6443191817672,-103.6448643477824,-103.644866726,-103.644860878,-103.644839213,-103.644729882,-103.644667516,-103.644574348,-103.644524115,-103.644446253,-103.644372791,-103.644297743,-103.644240909,-103.644194269,-103.644134114,-103.644080579,-103.644040994,-103.643986333,-103.643938352,-103.643902484,-103.643867803,-103.643836129,-103.643798679,-103.643748209,-103.643694712,-103.643627341,-103.643552024,-103.64347421,-103.643398367,-103.643322818,-103.643256524,-103.64318315,-103.643098591,-103.643028847,-103.642960678,-103.64289333,-103.642826412,-103.642753782,-103.642682808,-103.642619849,-103.642515896,-103.642407733,-103.642288873,-103.642044463,-103.641882288,-103.641715404,-103.641468878,-103.641346327,-103.641222936,-103.641160049,-103.641103572,-103.64101787,-103.641031076,-103.640809385,-103.640658354,-103.640485047,-103.640305554,-103.640203505,-103.640090188,-103.640020313,-103.639877806,-103.639794633,-103.639706008,-103.639658672,-103.639559327,-103.639481146,-103.639372759,-103.639159592,-103.63891356,-103.63872968,-103.638528462,-103.638340281,-103.638239878,-103.638167522,-103.638002197,-103.637889236,-103.63781777,-103.637719131,-103.637675491,-103.637623217,-103.637664011,-103.637711738,-103.637662972,-103.637522595,-103.637323253,-103.637223577,-103.63702492,-103.636806436,-103.636752288,-103.636672664,-103.636682243,-103.636640001,-103.636611514,-103.636593387,-103.63659695,-103.636583058,-103.636424367,-103.636231983,-103.636076089,-103.635967524,-103.635760307,-103.635664748,-103.635502875,-103.63541412,-103.635281682,-103.635158744,-103.635007169,-103.634837881,-103.634724822,-103.634641955,-103.634556699,-103.634412228,-103.634245548,-103.63406364,-103.633921982,-103.633828843,-103.633691247,-103.633532567,-103.633355627,-103.633249171,-103.633049653,-103.632946966,-103.632792059,-103.632542133,-103.63228893,-103.632200667,-103.632205041,-103.632217111,-103.632259048,-103.632304645,-103.632322629,-103.632335967,-103.632368633,-103.632400843,-103.632422582,-103.632460117,-103.6324591,-103.632513858,-103.632537024,-103.632553259,-103.632577378,-103.632567441,-103.63257292,-103.632561002,-103.632550828,-103.632520893,-103.63253147,-103.632504738,-103.63248104,-103.632455986,-103.632439885,-103.63242793,-103.632400441,-103.632371561,-103.632350366,-103.632343273,-103.632245979,-103.632028128,-103.631881686,-103.631710778,-103.631697393,-103.631678941,-103.631654173,-103.631633564,-103.6316157,-103.631576888,-103.631527319,-103.631515317,-103.631480756,-103.63144532,-103.631426236,-103.631393547,-103.631374798,-103.631351678,-103.631340869,-103.631331658,-103.631331582,-103.631342277,-103.631343053,-103.631346534,-103.631348255,-103.631362524,-103.631373047,-103.631382606,-103.63139242,-103.631410167,-103.631433885,-103.631448081,-103.631483789,-103.631491368,-103.631507267,-103.631526021,-103.631544789,-103.631566528,-103.631580879,-103.631597032,-103.631620452,-103.631634898,-103.631649781,-103.631667925,-103.631687447,-103.631703641,-103.631718828,-103.63174014,-103.631758952,-103.631794277,-103.631925953,-103.632096166,-103.632207901,-103.63234004,-103.632349786,-103.632455729,-103.632609484,-103.632849383,-103.633123699,-103.633358479,-103.633492988,-103.633680814,-103.633793323,-103.634044114,-103.63410468,-103.634170902,-103.634207467,-103.634282164,-103.634370485,-103.634517404,-103.634709322,-103.634788166,-103.635005594,-103.635097637,-103.635303338,-103.635372909,-103.635486992,-103.635664195,-103.635796004,-103.635949577,-103.636048871,-103.636178885,-103.636283397,-103.636377265,-103.636550574,-103.636770188,-103.636890679,-103.636973241,-103.637060534,-103.63719966,-103.637342657,-103.637460124,-103.637517451,-103.637722748,-103.637805665,-103.638004092,-103.638330293,-103.638623107,-103.638781613,-103.639068789,-103.639334178,-103.639578039,-103.639846158,-103.639943815,-103.640089464,-103.640225555,-103.640417444,-103.640549254,-103.64069821,-103.640897185,-103.641154134,-103.64139721,-103.641569854,-103.641820871,-103.642002463,-103.642244633,-103.642518265,-103.642645799,-103.642784198,-103.642943831,-103.643021421,-103.64319243,-103.643308513,-103.643392434,-103.643501554,-103.643714508,-103.643820789,-103.644106121,-103.644220322,-103.6443132876003,-103.644319084],"lat":[44.14234249200006,44.14502741900002,44.14754468890925,44.14755115794907,44.14767162800001,44.14783809400001,44.14799607200001,44.14807102299999,44.14809582300001,44.14813036800001,44.14814612200001,44.14817431400002,44.14817532699998,44.14821128900002,44.14824693499997,44.14829938100001,44.14834138399999,44.14837600599997,44.14841667100001,44.14848136000001,44.148527065,44.14857339399997,44.148624418,44.14868082499999,44.14873106700002,44.148769012,44.14880916999999,44.14884090499997,44.14886385900002,44.148875572,44.14888620200003,44.14889745800001,44.14891077200003,44.14891979899999,44.14892600399997,44.14893542700002,44.148945003,44.14895268599997,44.14895321799997,44.14893915800003,44.148932322,44.14889834299999,44.14881006899998,44.14869979600002,44.14850562700001,44.14856459499997,44.14858451200001,44.148554536,44.14850713599998,44.14848040499998,44.14837855899998,44.14827186299998,44.14811576099999,44.14797064200002,44.14778797500002,44.14769431299999,44.14761098100001,44.14755692300002,44.14738882699999,44.147262774,44.147119126,44.147014361,44.14678745800001,44.14667796800001,44.14653241699999,44.14636376200001,44.14615312599999,44.14602440200002,44.14588039199997,44.14579262699998,44.14577162400003,44.145760865,44.14573904399998,44.14568920099997,44.14562213599999,44.14571778800001,44.14593921499999,44.14614046200001,44.14628344499999,44.14646236499998,44.14664532699999,44.14676051499999,44.14688520999999,44.14695705100001,44.14698866799999,44.147019974,44.14703188399999,44.14695201799998,44.14680906299997,44.14663865199998,44.14653577299998,44.14641360000001,44.14627928700002,44.14613298199998,44.14605904799998,44.145990144,44.14586123200002,44.145831532,44.14574825400001,44.14566122500003,44.145604601,44.14555635300002,44.14547858399999,44.14544009600002,44.14548672400002,44.14550701399997,44.145570065,44.14557935699997,44.14553822699997,44.14550352600003,44.14548166200002,44.14548772599999,44.14549124099999,44.14553332000003,44.14560457699997,44.14565918300001,44.14562232999998,44.145594168,44.14548999399999,44.14536285999997,44.14527815500004,44.14523566600001,44.14515196899999,44.14510495100001,44.14511152799997,44.14505240699998,44.14497348700001,44.14493873700001,44.14482057200001,44.144787806,44.14475578499997,44.14469883599998,44.14465107900001,44.14460661499999,44.14454572199998,44.14449194000003,44.14445063800002,44.14440250899997,44.14433715799998,44.14429235300003,44.14424134400002,44.14418107199997,44.144113382,44.14406077500002,44.14399950400002,44.14393278599999,44.14387657100002,44.143813959,44.143766561,44.14370968100001,44.14365924600003,44.14360182899998,44.14354875700002,44.14350254999999,44.143439795,44.14339415900002,44.14334252600003,44.14329264600001,44.14322254899997,44.14319511000002,44.14322611099998,44.14309335000001,44.14305121799998,44.14301454000003,44.14297882400001,44.14294704999998,44.14291450899999,44.14287814300002,44.14282915699999,44.14279764299999,44.14276554999998,44.14273375499999,44.14271045599997,44.142662702,44.14261443800001,44.14256912000003,44.14252535600001,44.14248005100001,44.142429043,44.14238648299999,44.14235140900001,44.14230972100001,44.14227151599999,44.14222697500002,44.14218028999999,44.14214352699997,44.14209647199999,44.14204485099997,44.14200260899997,44.14195388000001,44.14190849599998,44.14185190599999,44.141809873,44.14176278399998,44.14171433600001,44.14166412399999,44.14162287400001,44.14157372599999,44.14153118199999,44.14148408099999,44.14143644600001,44.14138770699998,44.14134189999998,44.141296318,44.14124915600002,44.14120247599998,44.14115328999998,44.141110303,44.14096584700002,44.14119286999998,44.141322021,44.14140365100001,44.141490578,44.14154947899999,44.141592317,44.14163129399998,44.14163246300001,44.14152537400003,44.141371596,44.14124400600002,44.14116514599999,44.14099720299998,44.14091304900001,44.14075963499999,44.14048406,44.14042101199999,44.14037814,44.14034603800003,44.14032019899997,44.14032031900001,44.14031569699999,44.14031009600001,44.14030185899996,44.140324625,44.14031758300001,44.14031675000001,44.14030684999999,44.140311193,44.14031202899997,44.14031643200002,44.14032659899999,44.14032613400002,44.14031978499997,44.14031993600002,44.14032290799997,44.14031827299998,44.14030565000001,44.14032472899999,44.140315642,44.14031050400002,44.14031648999996,44.14032304099999,44.14032990200002,44.14032961200002,44.14032356500001,44.14033011499998,44.14033957999999,44.14031684999998,44.14033147999998,44.14033391499999,44.140332806,44.14033022,44.14034520299997,44.140347416,44.140337014,44.14034946599997,44.14032174099999,44.14033309400002,44.14031936999998,44.14035042000001,44.140349205,44.140356118,44.14034357999998,44.140333721,44.14035774000001,44.14032451000002,44.14032672399998,44.14035949800001,44.14033468299998,44.14035998000003,44.140337391,44.14033876899997,44.140326748,44.14032541599999,44.140324647,44.14034911300001,44.14035859099999,44.14037169951938,44.14234249200006]}]],[[{"lng":[-103.625444496,-103.625377217,-103.625303076,-103.625234364,-103.625163678,-103.625088204,-103.625013038,-103.624935826,-103.624857228,-103.624781236,-103.62470963,-103.624633545,-103.624558935,-103.624480461,-103.624404034,-103.624327026,-103.624250099,-103.624175032,-103.624103252,-103.6240369,-103.623969744,-103.623908717,-103.623852199,-103.623801077,-103.623756131,-103.623715128,-103.623678509,-103.623641055,-103.62360854,-103.623576672,-103.623543624,-103.623509112,-103.623477843,-103.623442588,-103.623412581,-103.623381068,-103.623352493,-103.623321971,-103.623291173,-103.623261699,-103.623229308,-103.623197101,-103.62316648,-103.623135675,-103.623102582,-103.623069576,-103.62303406,-103.622990635,-103.622944892,-103.622898488,-103.622851321,-103.622805795,-103.622757294,-103.622711113,-103.62266703,-103.622616831,-103.622569079,-103.622382858,-103.622480435,-103.622473856,-103.622412089,-103.622474776,-103.622472102,-103.622501894,-103.622654419,-103.622808758,-103.622904705,-103.623086407,-103.62311514,-103.622949172,-103.622480685,-103.622156172,-103.621922727,-103.621878712,-103.622090543,-103.622357901,-103.622548912,-103.623048511,-103.623088639,-103.623267492,-103.623663214,-103.624006733,-103.624108556,-103.62425803,-103.624598612,-103.624803273,-103.625070043,-103.625286428,-103.625405014,-103.625643128,-103.625984287,-103.626026289,-103.626057783,-103.626229646,-103.626305891,-103.626309388,-103.626078809,-103.625996679,-103.625915128,-103.625834082,-103.625756909,-103.625684328,-103.625505051,-103.625444496],"lat":[44.14151570299997,44.14150443500001,44.14149265299999,44.14147607699998,44.14146010799999,44.141444321,44.14142875900001,44.141413736,44.14139995900001,44.14138854300001,44.14137548100001,44.14136587500001,44.14135923100002,44.14135688800002,44.14135741400003,44.14136389399998,44.14137462299999,44.14139094599999,44.14140966000002,44.141436498,44.14146836600002,44.14150563099997,44.14154560700001,44.14158881299999,44.14163198099999,44.14168016999997,44.14172781500002,44.141774908,44.14182344,44.14186924299997,44.14191935899998,44.14196960499999,44.14202179699998,44.14207319299999,44.14212282099997,44.14216992699999,44.14221927400001,44.142268022,44.14231883399998,44.14236811299997,44.14241959899999,44.14247006300002,44.14251985200002,44.142568725,44.14261555899997,44.14266281,44.14270684799998,44.142750411,44.14278928700003,44.14282839200001,44.14286006600002,44.14289000899998,44.14291774600002,44.14294636699997,44.14296684099997,44.14298804899999,44.14300678900003,44.14298567200001,44.14282827900001,44.14261699899998,44.1422381,44.14198858700001,44.14169649100001,44.141601589,44.14146723099998,44.14134644299997,44.14124174400001,44.14116013099999,44.14102365000002,44.14099690699998,44.14091991900001,44.140829252,44.14076321499999,44.14062627599997,44.14056145099999,44.140506372,44.14046230500004,44.14032442199999,44.14031502,44.14034799199998,44.140472471,44.14060663200001,44.14062861299999,44.14069488099999,44.14073995500001,44.140779716,44.14074361399998,44.140755022,44.14077386299999,44.14081920199997,44.14086657299998,44.14100618499998,44.14110569500002,44.14131256899997,44.141477232,44.14153323800002,44.14159823799996,44.14159624099999,44.14158976099998,44.14157710400001,44.14156699699998,44.14155241200001,44.141522088,44.14151570299997]}]],[[{"lng":[-103.621049721,-103.620992443,-103.620897991,-103.620713057,-103.620435692,-103.620261428,-103.620128522,-103.620009153,-103.619676151,-103.619564507,-103.619471995,-103.61934558,-103.619223763,-103.619085228,-103.618938875,-103.618484012,-103.618416868,-103.618216505,-103.618170893,-103.61812091,-103.618067441,-103.61801687,-103.617972303,-103.617928505,-103.617877264,-103.617833321,-103.61778771,-103.617747471,-103.617713719,-103.617679567,-103.617651912,-103.617624147,-103.6176047,-103.617586847,-103.617570741,-103.617560192,-103.617558147,-103.617555617,-103.61755455,-103.617556447,-103.617562027,-103.617573561,-103.617589133,-103.617604677,-103.617630823,-103.617657752,-103.61769022,-103.617723798,-103.617756855,-103.617793011,-103.617831666,-103.617876751,-103.617924526,-103.617972217,-103.618030091,-103.618080573,-103.618128241,-103.618180644,-103.618237055,-103.618261653,-103.618319273,-103.618379633,-103.618442748,-103.618505215,-103.618567878,-103.618631747,-103.618700075,-103.618760308,-103.618825425,-103.618868225,-103.618929488,-103.618991624,-103.619086066,-103.61914999,-103.619218166,-103.619280671,-103.619342859,-103.61940362,-103.619464555,-103.619514036,-103.619572303,-103.619621952,-103.619679869,-103.619740712,-103.61979196,-103.619841789,-103.61989594,-103.619947876,-103.619998868,-103.620045227,-103.620087459,-103.620131555,-103.620178222,-103.620235869,-103.62028579,-103.620338689,-103.620387247,-103.620436803,-103.620485164,-103.620528761,-103.620569382,-103.620594545,-103.620642306,-103.620691522,-103.620735533,-103.620777254,-103.62082459,-103.620870777,-103.62092304,-103.620974147,-103.621024473,-103.621073088,-103.62112064,-103.621165124,-103.621244095,-103.621160255,-103.621049721],"lat":[44.14341208799998,44.14364859099999,44.14381128000002,44.14394473099998,44.144053079,44.14410929099999,44.144054064,44.14395782000002,44.14383063999998,44.14377582100002,44.14372185199999,44.14365287599997,44.14365034500003,44.14366245600001,44.14373147899999,44.14395991499998,44.14399165700002,44.14395926499999,44.143919987,44.14387780499999,44.14383634199998,44.14379079999997,44.14374782899999,44.14370487500003,44.14366049099999,44.143613131,44.14356665200001,44.14351742999997,44.14346801800002,44.14341676800001,44.14336514299998,44.14331087599998,44.14325678300003,44.14320302899999,44.14314636900001,44.143089777,44.143034166,44.142982459,44.14292868500001,44.14287429900002,44.14282133799998,44.14276509799999,44.14271065000003,44.14265843499998,44.14260860600001,44.14255425599998,44.14250343100002,44.14245367199998,44.14240632899998,44.142358268,44.14231365199999,44.14227083700002,44.14222884999997,44.14218874400002,44.14215223000001,44.14211876000002,44.142094068,44.14206437799998,44.14203216599997,44.14202207,44.141997506,44.141974983,44.14195293400002,44.14193667699998,44.14192358600001,44.141907249,44.14189507999999,44.14188751799997,44.141882129,44.14187962400001,44.14187950000002,44.14187860499998,44.14187236999999,44.14187429499997,44.14188145399999,44.14189428300001,44.14191108900002,44.14192448400001,44.14193958800001,44.14196511599999,44.14198610400002,44.14201065100001,44.14203392899998,44.14205979899997,44.14208757900003,44.14211651999999,44.14214407999998,44.14217439800001,44.142205246,44.14223737700001,44.142266215,44.14229402799997,44.14233141099998,44.14236451300003,44.14239870300003,44.142435535,44.142469754,44.14250444100002,44.14253724200001,44.142568923,44.14260086899997,44.14261974599998,44.14265280299998,44.14268626600001,44.14271926499999,44.14275139199998,44.14278595399998,44.14281993899998,44.14285458900002,44.14289138999999,44.14292447399998,44.14295553300001,44.14297847099998,44.14300365499997,44.14316689999998,44.14326115799997,44.14341208799998]}]],[[{"lng":[-103.617436227,-103.617418394,-103.617388626,-103.617380492,-103.617381855,-103.617380627,-103.617378477,-103.617382474,-103.617390473,-103.617387992,-103.617400844,-103.617389509,-103.617385639,-103.617370936,-103.617336565,-103.617289399,-103.617253043,-103.617179434,-103.617130886,-103.617104642,-103.617085703,-103.617021212,-103.616966347,-103.616926178,-103.616896425,-103.616857143,-103.616807412,-103.616770866,-103.616731023,-103.616692822,-103.616655631,-103.616617974,-103.616585994,-103.616550018,-103.616511609,-103.61646535,-103.61641838,-103.616373873,-103.616316024,-103.616291906,-103.616284228,-103.616310648,-103.616391355,-103.616545729,-103.616658637,-103.616628881,-103.616622571,-103.616607593,-103.616560283,-103.616474064,-103.616405704,-103.616274633,-103.616291419,-103.616329009,-103.61636964,-103.616369331,-103.616501497,-103.616567566,-103.616773521,-103.616930069,-103.617082219,-103.617199701,-103.617367463,-103.617577309,-103.61774426,-103.617888648,-103.618124267,-103.618369116,-103.618546763,-103.618662212,-103.618785813,-103.618928265,-103.619014035,-103.619195545,-103.619255169,-103.619372035,-103.619501228,-103.619650514,-103.619753152,-103.619896947,-103.620132773,-103.620317528,-103.620394783,-103.620549575,-103.620729217,-103.620865938,-103.620970574,-103.621186011,-103.621189827,-103.621104064,-103.621058745,-103.621015048,-103.621098706,-103.621091764,-103.621105904,-103.621122516,-103.621117957,-103.62112625,-103.621137014,-103.621093956,-103.62106462,-103.621235262,-103.621322561,-103.621430805,-103.621466411,-103.621367612,-103.62114929,-103.62100278,-103.620757587,-103.620708766,-103.620667945,-103.620617231,-103.620569925,-103.620521461,-103.620471033,-103.620416514,-103.620365701,-103.620311911,-103.620263276,-103.620210149,-103.620153453,-103.620103574,-103.620057882,-103.620006748,-103.619951809,-103.619893963,-103.619836179,-103.619774883,-103.619713224,-103.619651998,-103.619585948,-103.619515433,-103.619446595,-103.619373365,-103.619302627,-103.619228223,-103.619156976,-103.619085401,-103.619035309,-103.618973359,-103.618907693,-103.618836573,-103.618767638,-103.618699874,-103.618630331,-103.618560954,-103.618482199,-103.618425609,-103.618360803,-103.618292384,-103.618237354,-103.618178056,-103.61811304,-103.618054853,-103.617999809,-103.617942828,-103.617881907,-103.617832301,-103.617780687,-103.617738315,-103.617698876,-103.617659979,-103.617625348,-103.617592295,-103.617568168,-103.617534408,-103.617515426,-103.617492788,-103.617488446,-103.617474671,-103.617436227],"lat":[44.14273506099998,44.14272131899996,44.142687411,44.14264275199998,44.14261329200002,44.142593331,44.14257307700001,44.142552771,44.142545379,44.14251748200001,44.14247517,44.14244314500001,44.142428978,44.142391567,44.14235617199999,44.142333619,44.14231985599997,44.142295654,44.142270623,44.142248355,44.14223614600001,44.14219772799998,44.14215515799998,44.14213222599999,44.14211188199999,44.14209402199998,44.14207477399998,44.14204945300002,44.14203752999997,44.14201592199998,44.14199822699999,44.14197024100002,44.14194863300003,44.14192105299997,44.14189798199997,44.14186912899999,44.141846682,44.14183205699999,44.14181330399998,44.14183055500002,44.14175600499999,44.14172735599999,44.14163983200001,44.14149444499997,44.14143555099998,44.141329219,44.141209377,44.14116088199999,44.14106328700001,44.14099199399998,44.14089885099997,44.14076327599997,44.14067419600002,44.140586998,44.14042171099998,44.140353377,44.14030402499998,44.14029943000003,44.14030987799998,44.140315992,44.14032487899998,44.14031576399998,44.140319121,44.14031179199998,44.14031428599998,44.14031526500003,44.14030694799999,44.14031079,44.140316149,44.14030101899999,44.14030930799998,44.14030451000002,44.140304861,44.14029713000001,44.14029213399999,44.14028219900001,44.14027325000001,44.14029552499999,44.14029276999997,44.14030976100003,44.14031140300001,44.14032551600001,44.14031823599998,44.14033846299998,44.14035468999997,44.14032211300002,44.14031502699998,44.14030156899997,44.14040883799998,44.14054320499997,44.14070311500001,44.14074953800002,44.14084481999999,44.14090574900001,44.14106711900001,44.14120250399998,44.14129512499999,44.14149025400003,44.141572759,44.141650906,44.14172017700002,44.14187811999999,44.141916831,44.141990132,44.14227824300001,44.14244073600002,44.14259831999998,44.142714189,44.14265199300002,44.14261290399996,44.14258661700001,44.14255312699999,44.14251849399999,44.142484383,44.14244582399999,44.14241049899999,44.142371384,44.14233603100001,44.142299708,44.14226183599999,44.14222389399998,44.14218606499998,44.14215116000002,44.14211372099999,44.142082604,44.14205135100003,44.14201840599998,44.14199037200001,44.14195818299997,44.14193070400001,44.14190620699998,44.14188306300002,44.14186454999997,44.14184823900001,44.14183564199999,44.14182378999998,44.14181926200001,44.14181261900001,44.14181089099998,44.14180982699997,44.14181551899998,44.14182045000002,44.14182865599997,44.14184045500003,44.14185408600001,44.14186932899997,44.14189707100002,44.14190706199997,44.14192916600002,44.14195014400001,44.14197097099999,44.14200243499999,44.14203311699999,44.14206618499998,44.14210608399996,44.14215135799997,44.14219480700001,44.14223928400003,44.14228430899999,44.14233234900001,44.14238237400002,44.14243408800001,44.14248911800002,44.14254518000001,44.14260159399998,44.14266308200001,44.14271550500001,44.14274189499996,44.14276076399999,44.14275712400002,44.14273506099998]}]],[[{"lng":[-103.61499635,-103.6148624503738,-103.614905962,-103.6148546889099,-103.6148318851605,-103.614896326,-103.614977554,-103.615024246,-103.615072903,-103.615122253,-103.615155623,-103.615188821,-103.615226249,-103.615271526,-103.615304763,-103.615336034,-103.615362019,-103.615396975,-103.615399023,-103.61543165,-103.615438602,-103.615466859,-103.615471354,-103.615514272,-103.61553469,-103.615552267,-103.615565888,-103.615572211,-103.61557305,-103.615597927,-103.615617591,-103.615594257,-103.615576613,-103.615564106,-103.615572301,-103.615564633,-103.615568688,-103.61556887,-103.615569836,-103.615574768,-103.61559199,-103.615588249,-103.615595635,-103.615613526,-103.615640311,-103.615663897,-103.6156926,-103.615741279,-103.615789942,-103.615839842,-103.615887572,-103.615923543,-103.615953977,-103.615968033,-103.615994069,-103.61601783,-103.616030113,-103.616051537,-103.616077338,-103.61610477,-103.616132729,-103.616157779,-103.616180841,-103.616218936,-103.616268879,-103.616291906,-103.616316024,-103.616373873,-103.61641838,-103.61646535,-103.616511609,-103.616550018,-103.616585994,-103.616617974,-103.616655631,-103.616692822,-103.616731023,-103.616770866,-103.616807412,-103.616857143,-103.616896425,-103.616926178,-103.616966347,-103.617021212,-103.617085703,-103.617104642,-103.617130886,-103.617179434,-103.617253043,-103.617289399,-103.617336565,-103.617370936,-103.617385639,-103.617389509,-103.617400844,-103.617387992,-103.617390473,-103.617382474,-103.617378477,-103.617380627,-103.617381855,-103.617380492,-103.617388626,-103.617418394,-103.617436227,-103.617474671,-103.617488446,-103.617481668,-103.617456895,-103.617447324,-103.61743816,-103.617431783,-103.617420491,-103.617422883,-103.61742616,-103.617433183,-103.617443867,-103.617456787,-103.617469397,-103.61748903,-103.617583803,-103.61762084,-103.617698516,-103.617742231,-103.617788694,-103.617837149,-103.617885191,-103.61793517,-103.618002149,-103.618056256,-103.618114925,-103.618166886,-103.61821469,-103.618265144,-103.61831574,-103.618365322,-103.618439089,-103.618468767,-103.618507918,-103.618527191,-103.618557279,-103.618579266,-103.618599543,-103.618603039,-103.618612405,-103.618632746,-103.61863484,-103.618656176,-103.618651694,-103.618640588,-103.61863775,-103.618611818,-103.618591713,-103.618571443,-103.618541411,-103.618498917,-103.61846651,-103.618422187,-103.618372577,-103.6183215,-103.618274107,-103.61822368,-103.61816754,-103.618113797,-103.618057156,-103.618000321,-103.617934886,-103.617870705,-103.617807694,-103.617743661,-103.617667041,-103.617597322,-103.617529992,-103.617461034,-103.617393798,-103.617323916,-103.617255059,-103.617185142,-103.617117138,-103.617045257,-103.616976856,-103.616909652,-103.616838942,-103.616772149,-103.616705483,-103.616643142,-103.616580985,-103.616517592,-103.616452295,-103.616383219,-103.61631115,-103.616238823,-103.616170123,-103.616099016,-103.616035999,-103.615966992,-103.615897345,-103.615829746,-103.615767673,-103.615707405,-103.615651315,-103.615582176,-103.615517418,-103.615445252,-103.615371581,-103.615297752,-103.615223026,-103.615146295,-103.615070447,-103.6149970695087,-103.61499635],"lat":[44.14645179300004,44.14177281563305,44.14162132199998,44.14150158675973,44.14070468828182,44.14068819400001,44.14071233700002,44.14078150000001,44.14083185599997,44.14085906999998,44.14089120400001,44.140948175,44.14097410599999,44.14100218999999,44.14104164399998,44.14109385299998,44.14112547600001,44.141185849,44.14121267500001,44.14125782399998,44.14130601199997,44.14134536799998,44.14136483800002,44.14140073300001,44.14145028799998,44.14146919199998,44.14153675099999,44.14157499100003,44.14162309599998,44.141666294,44.141709123,44.14172553999998,44.141759793,44.14178471200001,44.14180659700003,44.141848272,44.14188490499999,44.141926624,44.14196641199999,44.14200882799997,44.14205224499999,44.14208263400001,44.14212512599999,44.14213316399997,44.14218462899998,44.14220590600001,44.142243033,44.14224718100002,44.14225100599997,44.14225359300002,44.14224727099997,44.142236889,44.14221314299999,44.14217650499999,44.14214373399999,44.14210707799997,44.14206255300002,44.14202555399999,44.14199038800001,44.14195975899997,44.14191787099998,44.14189646599998,44.14187101599999,44.14185626599999,44.14184702599999,44.14183055500002,44.14181330399998,44.14183205699999,44.141846682,44.14186912899999,44.14189798199997,44.14192105299997,44.14194863300003,44.14197024100002,44.14199822699999,44.14201592199998,44.14203752999997,44.14204945300002,44.14207477399998,44.14209402199998,44.14211188199999,44.14213222599999,44.14215515799998,44.14219772799998,44.14223614600001,44.142248355,44.142270623,44.142295654,44.14231985599997,44.142333619,44.14235617199999,44.142391567,44.142428978,44.14244314500001,44.14247517,44.14251748200001,44.142545379,44.142552771,44.14257307700001,44.142593331,44.14261329200002,44.14264275199998,44.142687411,44.14272131899996,44.14273506099998,44.14275712400002,44.14276076399999,44.14279886999997,44.14282874700001,44.14287466399998,44.14292701499999,44.14297397000001,44.14301690000003,44.14306420200001,44.14311800899997,44.14316713599998,44.143229415,44.14327745200002,44.14331598899997,44.14336510700002,44.143517884,44.14356110099999,44.14363620199997,44.14368668499998,44.143736853,44.143784175,44.14382605399999,44.14385735600001,44.14391473900002,44.143965364,44.14400858099998,44.14405945800001,44.14410386899998,44.14415090900003,44.14418378800002,44.14423052,44.144270775,44.14433143700001,44.14438271400001,44.14440896999996,44.14446170500002,44.14451373600002,44.14457155799999,44.144632768,44.14468969599999,44.14475113200001,44.144808769,44.14487220500001,44.144929805,44.14498519300002,44.14504691600002,44.145094953,44.14515519899999,44.14521939100002,44.14527542000001,44.145333101,44.14538384600002,44.14543409800001,44.145477695,44.14552319900002,44.145569383,44.145610906,44.14564455599998,44.145676751,44.14571378400001,44.14574826299997,44.14578427100002,44.14581643000002,44.145846273,44.145877987,44.14590744899999,44.14593968499998,44.14596888099999,44.14600257500001,44.14603881499998,44.14607275899998,44.14610343700001,44.14613632700002,44.14617101499999,44.14620369599999,44.146235897,44.14626565899998,44.146299016,44.14633258100001,44.14636233599998,44.14639126399998,44.14641289399998,44.14644243800001,44.146467873,44.14649233199997,44.14651517099997,44.14653501100003,44.14655332400002,44.14656903500003,44.14658664900002,44.14659948299998,44.14661253899998,44.14661874400002,44.14661980699997,44.14662509599997,44.14662661599999,44.14663186100001,44.14663286000002,44.14663195100001,44.14662746599999,44.14662393100001,44.14662284899998,44.14661349400001,44.14660181099998,44.14658534816522,44.14645179300004]}]]],null,"BA (ft2 per ac)",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":0.5,"opacity":[0.9,0.9,0.9,0.9,0.9,0.9],"fill":true,"fillColor":["#00204D","#A69D75","#00204D","#233E6C","#D3C164","#7C7B78"],"fillOpacity":[0.7,0.7,0.7,0.7,0.7,0.7],"smoothFactor":1,"noClip":false},null,{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["32.6585472357563","40.915240756389","31.8448582056619","34.0126568896664","43.6730341096512","39.0393178837935"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.9799999999999999,"bringToFront":false,"sendToBack":false}]},{"method":"addLayersControl","args":[["Esri.WorldImagery","OpenStreetMap"],["BHEF","BA (ft2 per ac)"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#00204D , #02224F 1.31162907617735%, #203B69 18.22040703344%, #4C546D 35.1291849907026%, #6D6E74 52.0379629479652%, #8F8A77 68.9467409052278%, #B3A771 85.8555188624904%, #D3C164 "],"labels":["32","34","36","38","40","42"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"numeric","title":"BA (ft2 per ac)","extra":{"p_1":0.01311629076177355,"p_n":0.8585551886249038},"layerId":null,"className":"info legend","group":"BA (ft2 per ac)"}]},{"method":"addHomeButton","args":[-103.654991044,44.13988113200003,-103.6143989719999,44.18348104400008,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[44.13988113200003,44.18348104400008],"lng":[-103.654991044,-103.6143989719999]},"fitBounds":[44.13988113200003,-103.654991044,44.18348104400008,-103.6143989719999,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div id="stand-qmd-map" class="section level3 hasAnchor" number="8.1.3">
<h3><span class="header-section-number">8.1.3</span> Stand QMD Map<a href="silv.html#stand-qmd-map" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Quadratic mean diameter (QMD) is a measure of the diameter of the tree of mean basal area:</p>
<p><span class="math display">\[
\textrm{quadratic mean diameter (QMD)} = \sqrt{\frac{\sum{d_{i}^{2}}}{n}}
\]</span></p>
<p>, where <span class="math inline">\(d_{i}\)</span> is the diameter at breast height of an individual tree, and <span class="math inline">\(n\)</span> is the total number of trees.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="silv.html#cb79-1" tabindex="-1"></a>mapview<span class="sc">::</span><span class="fu">mapview</span>(</span>
<span id="cb79-2"><a href="silv.html#cb79-2" tabindex="-1"></a>  bhef_boundary</span>
<span id="cb79-3"><a href="silv.html#cb79-3" tabindex="-1"></a>  , <span class="at">color =</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb79-4"><a href="silv.html#cb79-4" tabindex="-1"></a>  , <span class="at">lwd =</span> <span class="dv">3</span></span>
<span id="cb79-5"><a href="silv.html#cb79-5" tabindex="-1"></a>  , <span class="at">alpha.regions =</span> <span class="dv">0</span></span>
<span id="cb79-6"><a href="silv.html#cb79-6" tabindex="-1"></a>  , <span class="at">layer.name =</span> <span class="st">&quot;BHEF&quot;</span></span>
<span id="cb79-7"><a href="silv.html#cb79-7" tabindex="-1"></a>  , <span class="at">label =</span> <span class="cn">FALSE</span></span>
<span id="cb79-8"><a href="silv.html#cb79-8" tabindex="-1"></a>  , <span class="at">legend =</span> <span class="cn">FALSE</span></span>
<span id="cb79-9"><a href="silv.html#cb79-9" tabindex="-1"></a>  , <span class="at">popup =</span> <span class="cn">FALSE</span></span>
<span id="cb79-10"><a href="silv.html#cb79-10" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb79-11"><a href="silv.html#cb79-11" tabindex="-1"></a>    mapview<span class="sc">::</span><span class="fu">mapview</span>(</span>
<span id="cb79-12"><a href="silv.html#cb79-12" tabindex="-1"></a>      silv_metrics</span>
<span id="cb79-13"><a href="silv.html#cb79-13" tabindex="-1"></a>      , <span class="at">zcol =</span> <span class="st">&quot;qmd_in&quot;</span></span>
<span id="cb79-14"><a href="silv.html#cb79-14" tabindex="-1"></a>      , <span class="at">layer.name =</span> <span class="st">&quot;QMD (in)&quot;</span> <span class="co">#latex2exp::TeX(&quot;Basal Area $ft^{2} \\cdot ac^{-1}$&quot;)</span></span>
<span id="cb79-15"><a href="silv.html#cb79-15" tabindex="-1"></a>      , <span class="at">col.regions =</span> viridis<span class="sc">::</span><span class="fu">mako</span>(<span class="at">n=</span><span class="fu">nrow</span>(silv_metrics)<span class="sc">*</span><span class="fl">1.1</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb79-16"><a href="silv.html#cb79-16" tabindex="-1"></a>      , <span class="at">alpha.regions =</span> <span class="fl">0.7</span></span>
<span id="cb79-17"><a href="silv.html#cb79-17" tabindex="-1"></a>      , <span class="at">na.color =</span> <span class="st">&quot;transparent&quot;</span></span>
<span id="cb79-18"><a href="silv.html#cb79-18" tabindex="-1"></a>      , <span class="at">popup =</span> F</span>
<span id="cb79-19"><a href="silv.html#cb79-19" tabindex="-1"></a>    ) </span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-de9094460abe9d6b7e11" style="width:1008px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-de9094460abe9d6b7e11">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[-103.61746026,-103.6143989719999,-103.614631243,-103.614639201,-103.614639821,-103.614642778,-103.614643744,-103.614645788,-103.614651428,-103.6146557119999,-103.615041026,-103.61499635,-103.614817145,-103.618291284,-103.62176542,-103.6246839629999,-103.626419664,-103.626885714,-103.630980447,-103.634866494,-103.6405221049999,-103.6443119909999,-103.644319084,-103.644280714,-103.6443395479999,-103.64427893,-103.644069083,-103.64426033,-103.652699784,-103.654991044,-103.6549164749999,-103.65495845,-103.654969793,-103.654945678,-103.654969851,-103.654941462,-103.6549238759999,-103.654951055,-103.654913085,-103.651973582,-103.647161706,-103.6464132999999,-103.646396903,-103.645998371,-103.6440270419999,-103.642818888,-103.641486086,-103.637678997,-103.633545016,-103.629450388,-103.6261774129999,-103.625598477,-103.625084605,-103.6247402069999,-103.624699938,-103.62462958,-103.623816145,-103.622421076,-103.621636085,-103.6219002619999,-103.621650594,-103.621162474,-103.620827478,-103.619874548,-103.618750926,-103.61746026],"lat":[44.17993008100007,44.18000830600004,44.17653025600003,44.17417861900002,44.17399560500007,44.17312117200004,44.17283553400006,44.17223096600004,44.17056348000006,44.16929638400006,44.15474604100006,44.14645179300004,44.14018957300003,44.14016067800003,44.14013169300006,44.14001263400007,44.13998595300005,44.13988597700006,44.13991859400004,44.13991432800002,44.13988113200003,44.13993090800006,44.14234249200006,44.14502741900002,44.14887740500006,44.15408788600008,44.15434387400005,44.15452795800007,44.15450450300004,44.15456246900004,44.15722519000007,44.16122261100002,44.16494866800007,44.16926703400002,44.17038757000005,44.17315746200006,44.17723162000003,44.18079590700007,44.18348104400008,44.18343114800007,44.18341598300002,44.18343474000006,44.18328934400006,44.18338548900004,44.18345033500003,44.18332483600005,44.18330406800004,44.18342578900008,44.18337109300005,44.18336278600003,44.18338028200003,44.18338917800003,44.18336994100007,44.18334096000007,44.18297682300004,44.17998153200006,44.18002829100004,44.18005969500007,44.18005602800008,44.17967500200005,44.17927472700006,44.17918082800004,44.17893179100002,44.17925482800008,44.17988033700004,44.17993008100007]}]]],null,"BHEF",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#000000","weight":3,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0,"smoothFactor":1,"noClip":false},null,{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":5,"opacity":0.9,"fillOpacity":0,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addPolygons","args":[[[[{"lng":[-103.62615607,-103.626150618,-103.626239304,-103.626346537,-103.626408004,-103.626677362,-103.62688154,-103.627136646,-103.627254887,-103.627412166,-103.627613832,-103.627722249,-103.627861956,-103.627959144,-103.627932835,-103.627832256,-103.627793786,-103.627990975,-103.628197687,-103.628299107,-103.628456976,-103.628595287,-103.628649046,-103.628800498,-103.628990742,-103.629097248,-103.629204213,-103.629435657,-103.62963668,-103.629746308,-103.629848575,-103.629952854,-103.630191234,-103.630318772,-103.630404795,-103.630526437,-103.630710841,-103.630867923,-103.630975563,-103.631058797,-103.631091111,-103.631110113,-103.631106097,-103.630999234,-103.630939817,-103.630890974,-103.630774722,-103.630721828,-103.630679732,-103.630613316,-103.630483115,-103.630412516,-103.630409915,-103.630411664,-103.630425245,-103.630393068,-103.630355277,-103.630355358,-103.630372573,-103.630501287,-103.630586778,-103.630709795,-103.630779302,-103.630879025,-103.630993228,-103.631088099,-103.631139761,-103.631163607,-103.631209604,-103.631324517,-103.631437018,-103.631462752,-103.63144462,-103.631432194,-103.631403572,-103.631447012,-103.631482282,-103.631486681,-103.631510441,-103.63147043,-103.631442299,-103.631421799,-103.631356729,-103.631290081,-103.631151152,-103.631062826,-103.631017704,-103.630928611,-103.630819071,-103.630866167,-103.630962267,-103.631157665,-103.631240791,-103.631223634,-103.631208189,-103.631191303,-103.631187065,-103.631170151,-103.63115801,-103.631138302,-103.631111124,-103.631090126,-103.631049281,-103.631008481,-103.630977182,-103.630917713,-103.63089344,-103.630853763,-103.630813715,-103.630748159,-103.630701499,-103.630648776,-103.630609643,-103.630562347,-103.630508093,-103.630490875,-103.630437546,-103.630408888,-103.630379833,-103.630346479,-103.630325413,-103.630299591,-103.630278542,-103.630246532,-103.630235746,-103.630211941,-103.630214669,-103.630212799,-103.630188493,-103.630179761,-103.630157942,-103.630131902,-103.630114413,-103.630081746,-103.630058733,-103.630007169,-103.629951196,-103.629902805,-103.629851183,-103.62979867,-103.629745312,-103.629693915,-103.629640366,-103.629587965,-103.629522989,-103.629471971,-103.629430135,-103.629417682,-103.629377452,-103.629330269,-103.629279696,-103.629232007,-103.629178949,-103.629130153,-103.629080995,-103.629030226,-103.628992625,-103.628946488,-103.628896263,-103.628843207,-103.628793404,-103.62874446,-103.628693801,-103.628644441,-103.628596067,-103.628547523,-103.628500592,-103.628454872,-103.62841775,-103.628373658,-103.628336462,-103.628292493,-103.62823289,-103.628194196,-103.628130535,-103.628069541,-103.628014599,-103.627971921,-103.627911022,-103.627851043,-103.627788654,-103.627710923,-103.627638901,-103.62757404,-103.627540307,-103.627469305,-103.627413344,-103.627359707,-103.627296868,-103.627236894,-103.627193016,-103.627113125,-103.627053175,-103.626999414,-103.626962124,-103.626903635,-103.626861647,-103.626798442,-103.6267351,-103.626692903,-103.626642349,-103.62658131,-103.626542915,-103.626499792,-103.626449136,-103.626397742,-103.626353976,-103.626281628,-103.626226122,-103.626184836,-103.626130076,-103.62606325,-103.626019929,-103.625964279,-103.625917033,-103.625873536,-103.62582722,-103.625780391,-103.625734359,-103.625687797,-103.625642382,-103.625597371,-103.625549587,-103.625505852,-103.625459775,-103.625416194,-103.62537039,-103.625321748,-103.625275633,-103.625232521,-103.6251927,-103.625154291,-103.625117999,-103.625097429,-103.625054477,-103.625021789,-103.624992548,-103.62496314,-103.624935663,-103.62491138,-103.624885721,-103.624859437,-103.624834536,-103.624797578,-103.624774721,-103.624745795,-103.62471612,-103.624696902,-103.624666142,-103.624641626,-103.62460953,-103.624576592,-103.624544448,-103.624517432,-103.624477035,-103.624444212,-103.624409708,-103.624374096,-103.624342268,-103.624299288,-103.624257578,-103.624218698,-103.624179389,-103.624139023,-103.624098334,-103.624058223,-103.624015406,-103.623978054,-103.623936404,-103.623896195,-103.623856586,-103.623818141,-103.623783621,-103.623746897,-103.623706765,-103.623666119,-103.623628498,-103.623587302,-103.623547237,-103.623514139,-103.623471079,-103.623433862,-103.623399709,-103.6233694,-103.623341143,-103.62332023,-103.623305568,-103.623302783,-103.623303104,-103.6233068,-103.623317912,-103.623346939,-103.623370645,-103.623406225,-103.623437621,-103.623474298,-103.623517216,-103.623563677,-103.623609828,-103.62365323,-103.623696404,-103.623739865,-103.62378019,-103.623814331,-103.62384585,-103.623866471,-103.62388654,-103.623904483,-103.62391978,-103.623930311,-103.623935189,-103.623940249,-103.623920666,-103.623893094,-103.623858114,-103.623829863,-103.623810195,-103.623748649,-103.623704741,-103.623655539,-103.623599028,-103.623548033,-103.623510535,-103.623458863,-103.62341356,-103.623360821,-103.623331978,-103.623286301,-103.623247169,-103.623194902,-103.62315796,-103.623107331,-103.623063146,-103.623025217,-103.622988606,-103.622970405,-103.622981104,-103.62302187,-103.623061452,-103.623101519,-103.623139724,-103.623178422,-103.62321965,-103.62325021,-103.623284712,-103.623315029,-103.623346458,-103.623380809,-103.62341409,-103.623448057,-103.623483126,-103.623517163,-103.623552624,-103.623585365,-103.623620187,-103.623656632,-103.623694257,-103.623727336,-103.623768964,-103.623809837,-103.623855437,-103.623906229,-103.623961328,-103.624022701,-103.624090207,-103.624159619,-103.624231605,-103.62431176,-103.624392993,-103.62446804,-103.624546011,-103.624623558,-103.62470208,-103.62478056,-103.624857977,-103.624938675,-103.625011182,-103.625091185,-103.625170913,-103.625250888,-103.625329146,-103.625408425,-103.625490297,-103.625570433,-103.625649468,-103.625726116,-103.625802734,-103.626182605,-103.626221402,-103.62615607],"lat":[44.142062898,44.14229439699999,44.14232401299999,44.14233576599997,44.14234152400002,44.14236395699998,44.14245555999998,44.14254624900001,44.14249780300001,44.142399576,44.14225821399998,44.14213803799998,44.14202942899999,44.14185865199999,44.14174794399997,44.14159782799999,44.14146236800001,44.14141745400002,44.14138836299996,44.14131139300002,44.141239649,44.141264126,44.14127540099997,44.14130707200002,44.14119604299997,44.14112709800003,44.14107168499999,44.14096408099999,44.14086333799997,44.14076514099997,44.14070887499997,44.14064359600002,44.14056030400002,44.14044994199998,44.14040334299999,44.14040343300002,44.14041345300001,44.14035242699999,44.14031980800002,44.14031412299999,44.14037465199999,44.14048531700001,44.14060641499998,44.14076019999999,44.14084481999998,44.14094937099998,44.141163876,44.14127632299999,44.14133668800002,44.14138733599998,44.14149566700002,44.14153711,44.14160831200002,44.14166481,44.14180503599999,44.14190647800001,44.14201283199997,44.14213788799998,44.14225406600001,44.142417986,44.14248004199999,44.14256751300002,44.14265483600001,44.14274079699997,44.14281141700003,44.14294123100001,44.14302768099999,44.14320576400001,44.14335435499998,44.14353422599997,44.143676105,44.14380415300002,44.143926523,44.14406119300002,44.14421646099998,44.144332529,44.14441321700004,44.14450149200002,44.144595358,44.144746155,44.14484003500002,44.145021826,44.14505668599998,44.145102603,44.14518550499997,44.14525606699998,44.145394989,44.14553603100001,44.14563381499999,44.14578197600002,44.14581967700002,44.14592430800002,44.14597361400001,44.146085046,44.14609760099999,44.14612400800001,44.14616958699997,44.14619295799996,44.14622626900002,44.14624641400002,44.146268454,44.14630168899998,44.146332034,44.14635728100001,44.14639179499999,44.14642291699999,44.14643835700002,44.146461508,44.14647792300002,44.146487556,44.146519125,44.14653403300002,44.146557282,44.146582012,44.14659528800001,44.14662947099998,44.14663892300002,44.146672233,44.14669209900001,44.14671326199998,44.14675853300002,44.146792592,44.14682028099998,44.14686670200001,44.14690716600001,44.14692262699997,44.14695929700002,44.14698027799999,44.14703036499996,44.14706441599998,44.14709404199998,44.14713663700002,44.14716071599996,44.147195071,44.14722745500001,44.14726068499999,44.147277673,44.147296692,44.14730876599999,44.14731222500001,44.147309141,44.14730176099999,44.14728473899998,44.14727004899999,44.14725392600003,44.14724410500003,44.14722936900001,44.14722479599998,44.14721012699998,44.147191249,44.14717348699997,44.14715856800001,44.14714149100001,44.14712466399998,44.14710921800003,44.14709188099999,44.147074804,44.14705983599998,44.14704461399998,44.14703007299999,44.14701434199997,44.14699667899998,44.146977967,44.14696006899998,44.14694279299999,44.14692734900002,44.14691179499999,44.14689666499998,44.146886757,44.14687258399999,44.146845048,44.14682418,44.14681672099999,44.14680305399997,44.14678718599998,44.14677679300002,44.14676450299999,44.14675784799999,44.14674484199998,44.14675963200001,44.14674843699998,44.14674514400001,44.146735142,44.14674062900003,44.14674349400001,44.14676999599999,44.14678755699998,44.14680836000002,44.14682746900002,44.14684512600002,44.146872577,44.14688779699997,44.14691355299999,44.14692349799998,44.14694793299997,44.14698523200002,44.14700435999998,44.14700659499999,44.147023784,44.14706354999999,44.14707321100002,44.14709721399999,44.14712721699998,44.14714417800002,44.14713503899997,44.14716985199999,44.14718161000001,44.14719417999999,44.14722760199999,44.147242623,44.14725874599998,44.14728077299997,44.14727456499998,44.14727493100002,44.14726043500002,44.14724357699998,44.14722260299998,44.14719992599998,44.14717283499999,44.147147743,44.14712566999999,44.14710376499998,44.14708123899999,44.14705743600002,44.14703429799999,44.14701115000003,44.14698608100002,44.146959374,44.146930364,44.146902759,44.14687300000003,44.14684135200002,44.14680791699999,44.14677537300002,44.14673992199999,44.14670267700001,44.14666120999999,44.14662199899998,44.14658176900003,44.14654561700002,44.14651019199999,44.14647611200002,44.146439337,44.146383108,44.14634888199998,44.14632276399999,44.14628342200002,44.14625088499998,44.14620906200001,44.14617531800002,44.14612833899998,44.14608696999999,44.14605047499997,44.14601216699997,44.145979679,44.14594434399998,44.14590921400004,44.145872472,44.14583813199999,44.14579822399998,44.14576114699997,44.14572171800001,44.1456857,44.14564895799999,44.14561228799998,44.14557358799998,44.14553450199997,44.14549487900001,44.145457497,44.145421269,44.14538642000002,44.14535013699997,44.14531357700002,44.14527604400001,44.14523711800001,44.145201288,44.14516294800001,44.14512636799997,44.14508742899999,44.14504798699998,44.14500772399997,44.14496630399997,44.14492354700002,44.14487669099997,44.14482892199998,44.14478157600001,44.14473472499997,44.14468163100002,44.14463397100001,44.14458338499998,44.14454232700001,44.14448705699999,44.14444929400003,44.144402511,44.14436471099998,44.14432704900003,44.14429304300002,44.144259099,44.14422668600002,44.14419320100001,44.14416042999999,44.14412825900001,44.14409335699997,44.144056223,44.14401678,44.14397463799998,44.14393052999998,44.143886384,44.14384057900001,44.14379350600001,44.143747922,44.14369750800001,44.14363197900002,44.14359670499999,44.14356354799999,44.14353456499999,44.14350339600003,44.14346397399997,44.14342072800002,44.14338780499997,44.143353832,44.14332640800001,44.143295062,44.14325979400002,44.143233764,44.143197595,44.14317032299999,44.14313810399999,44.14311006600001,44.143090706,44.14305492900001,44.14302471100001,44.142992645,44.14295528199999,44.14291710800001,44.14287522000001,44.14285060999998,44.14280988299998,44.14276307900002,44.14271701199998,44.14267089700001,44.14262627599999,44.14257963699999,44.142529782,44.14248160900001,44.14243005499997,44.14237722699999,44.14232545300001,44.14227299999998,44.14221984199998,44.14216609200003,44.14211282500002,44.14206015200001,44.14200701999999,44.14195423299999,44.14189999699998,44.141850938,44.141799713,44.141751714,44.14170310799999,44.14165463199998,44.14160990400001,44.14156789600003,44.14152996500002,44.14149669,44.14146904500002,44.14144438099998,44.14143301399997,44.14142388999999,44.14142261,44.14142376,44.14143159999996,44.14144284200001,44.14145546200001,44.14147056399997,44.14148536200003,44.14150314300002,44.14151973200001,44.141534976,44.14155286499999,44.14156676200002,44.14158365399997,44.14159883899998,44.14161727999999,44.14163079799999,44.14164391000003,44.14165923199999,44.141814728,44.14190857300002,44.142062898]}]],[[{"lng":[-103.644319084,-103.644280714,-103.6443191817672,-103.6448643477824,-103.644866726,-103.644860878,-103.644839213,-103.644729882,-103.644667516,-103.644574348,-103.644524115,-103.644446253,-103.644372791,-103.644297743,-103.644240909,-103.644194269,-103.644134114,-103.644080579,-103.644040994,-103.643986333,-103.643938352,-103.643902484,-103.643867803,-103.643836129,-103.643798679,-103.643748209,-103.643694712,-103.643627341,-103.643552024,-103.64347421,-103.643398367,-103.643322818,-103.643256524,-103.64318315,-103.643098591,-103.643028847,-103.642960678,-103.64289333,-103.642826412,-103.642753782,-103.642682808,-103.642619849,-103.642515896,-103.642407733,-103.642288873,-103.642044463,-103.641882288,-103.641715404,-103.641468878,-103.641346327,-103.641222936,-103.641160049,-103.641103572,-103.64101787,-103.641031076,-103.640809385,-103.640658354,-103.640485047,-103.640305554,-103.640203505,-103.640090188,-103.640020313,-103.639877806,-103.639794633,-103.639706008,-103.639658672,-103.639559327,-103.639481146,-103.639372759,-103.639159592,-103.63891356,-103.63872968,-103.638528462,-103.638340281,-103.638239878,-103.638167522,-103.638002197,-103.637889236,-103.63781777,-103.637719131,-103.637675491,-103.637623217,-103.637664011,-103.637711738,-103.637662972,-103.637522595,-103.637323253,-103.637223577,-103.63702492,-103.636806436,-103.636752288,-103.636672664,-103.636682243,-103.636640001,-103.636611514,-103.636593387,-103.63659695,-103.636583058,-103.636424367,-103.636231983,-103.636076089,-103.635967524,-103.635760307,-103.635664748,-103.635502875,-103.63541412,-103.635281682,-103.635158744,-103.635007169,-103.634837881,-103.634724822,-103.634641955,-103.634556699,-103.634412228,-103.634245548,-103.63406364,-103.633921982,-103.633828843,-103.633691247,-103.633532567,-103.633355627,-103.633249171,-103.633049653,-103.632946966,-103.632792059,-103.632542133,-103.63228893,-103.632200667,-103.632205041,-103.632217111,-103.632259048,-103.632304645,-103.632322629,-103.632335967,-103.632368633,-103.632400843,-103.632422582,-103.632460117,-103.6324591,-103.632513858,-103.632537024,-103.632553259,-103.632577378,-103.632567441,-103.63257292,-103.632561002,-103.632550828,-103.632520893,-103.63253147,-103.632504738,-103.63248104,-103.632455986,-103.632439885,-103.63242793,-103.632400441,-103.632371561,-103.632350366,-103.632343273,-103.632245979,-103.632028128,-103.631881686,-103.631710778,-103.631697393,-103.631678941,-103.631654173,-103.631633564,-103.6316157,-103.631576888,-103.631527319,-103.631515317,-103.631480756,-103.63144532,-103.631426236,-103.631393547,-103.631374798,-103.631351678,-103.631340869,-103.631331658,-103.631331582,-103.631342277,-103.631343053,-103.631346534,-103.631348255,-103.631362524,-103.631373047,-103.631382606,-103.63139242,-103.631410167,-103.631433885,-103.631448081,-103.631483789,-103.631491368,-103.631507267,-103.631526021,-103.631544789,-103.631566528,-103.631580879,-103.631597032,-103.631620452,-103.631634898,-103.631649781,-103.631667925,-103.631687447,-103.631703641,-103.631718828,-103.63174014,-103.631758952,-103.631794277,-103.631925953,-103.632096166,-103.632207901,-103.63234004,-103.632349786,-103.632455729,-103.632609484,-103.632849383,-103.633123699,-103.633358479,-103.633492988,-103.633680814,-103.633793323,-103.634044114,-103.63410468,-103.634170902,-103.634207467,-103.634282164,-103.634370485,-103.634517404,-103.634709322,-103.634788166,-103.635005594,-103.635097637,-103.635303338,-103.635372909,-103.635486992,-103.635664195,-103.635796004,-103.635949577,-103.636048871,-103.636178885,-103.636283397,-103.636377265,-103.636550574,-103.636770188,-103.636890679,-103.636973241,-103.637060534,-103.63719966,-103.637342657,-103.637460124,-103.637517451,-103.637722748,-103.637805665,-103.638004092,-103.638330293,-103.638623107,-103.638781613,-103.639068789,-103.639334178,-103.639578039,-103.639846158,-103.639943815,-103.640089464,-103.640225555,-103.640417444,-103.640549254,-103.64069821,-103.640897185,-103.641154134,-103.64139721,-103.641569854,-103.641820871,-103.642002463,-103.642244633,-103.642518265,-103.642645799,-103.642784198,-103.642943831,-103.643021421,-103.64319243,-103.643308513,-103.643392434,-103.643501554,-103.643714508,-103.643820789,-103.644106121,-103.644220322,-103.6443132876003,-103.644319084],"lat":[44.14234249200006,44.14502741900002,44.14754468890925,44.14755115794907,44.14767162800001,44.14783809400001,44.14799607200001,44.14807102299999,44.14809582300001,44.14813036800001,44.14814612200001,44.14817431400002,44.14817532699998,44.14821128900002,44.14824693499997,44.14829938100001,44.14834138399999,44.14837600599997,44.14841667100001,44.14848136000001,44.148527065,44.14857339399997,44.148624418,44.14868082499999,44.14873106700002,44.148769012,44.14880916999999,44.14884090499997,44.14886385900002,44.148875572,44.14888620200003,44.14889745800001,44.14891077200003,44.14891979899999,44.14892600399997,44.14893542700002,44.148945003,44.14895268599997,44.14895321799997,44.14893915800003,44.148932322,44.14889834299999,44.14881006899998,44.14869979600002,44.14850562700001,44.14856459499997,44.14858451200001,44.148554536,44.14850713599998,44.14848040499998,44.14837855899998,44.14827186299998,44.14811576099999,44.14797064200002,44.14778797500002,44.14769431299999,44.14761098100001,44.14755692300002,44.14738882699999,44.147262774,44.147119126,44.147014361,44.14678745800001,44.14667796800001,44.14653241699999,44.14636376200001,44.14615312599999,44.14602440200002,44.14588039199997,44.14579262699998,44.14577162400003,44.145760865,44.14573904399998,44.14568920099997,44.14562213599999,44.14571778800001,44.14593921499999,44.14614046200001,44.14628344499999,44.14646236499998,44.14664532699999,44.14676051499999,44.14688520999999,44.14695705100001,44.14698866799999,44.147019974,44.14703188399999,44.14695201799998,44.14680906299997,44.14663865199998,44.14653577299998,44.14641360000001,44.14627928700002,44.14613298199998,44.14605904799998,44.145990144,44.14586123200002,44.145831532,44.14574825400001,44.14566122500003,44.145604601,44.14555635300002,44.14547858399999,44.14544009600002,44.14548672400002,44.14550701399997,44.145570065,44.14557935699997,44.14553822699997,44.14550352600003,44.14548166200002,44.14548772599999,44.14549124099999,44.14553332000003,44.14560457699997,44.14565918300001,44.14562232999998,44.145594168,44.14548999399999,44.14536285999997,44.14527815500004,44.14523566600001,44.14515196899999,44.14510495100001,44.14511152799997,44.14505240699998,44.14497348700001,44.14493873700001,44.14482057200001,44.144787806,44.14475578499997,44.14469883599998,44.14465107900001,44.14460661499999,44.14454572199998,44.14449194000003,44.14445063800002,44.14440250899997,44.14433715799998,44.14429235300003,44.14424134400002,44.14418107199997,44.144113382,44.14406077500002,44.14399950400002,44.14393278599999,44.14387657100002,44.143813959,44.143766561,44.14370968100001,44.14365924600003,44.14360182899998,44.14354875700002,44.14350254999999,44.143439795,44.14339415900002,44.14334252600003,44.14329264600001,44.14322254899997,44.14319511000002,44.14322611099998,44.14309335000001,44.14305121799998,44.14301454000003,44.14297882400001,44.14294704999998,44.14291450899999,44.14287814300002,44.14282915699999,44.14279764299999,44.14276554999998,44.14273375499999,44.14271045599997,44.142662702,44.14261443800001,44.14256912000003,44.14252535600001,44.14248005100001,44.142429043,44.14238648299999,44.14235140900001,44.14230972100001,44.14227151599999,44.14222697500002,44.14218028999999,44.14214352699997,44.14209647199999,44.14204485099997,44.14200260899997,44.14195388000001,44.14190849599998,44.14185190599999,44.141809873,44.14176278399998,44.14171433600001,44.14166412399999,44.14162287400001,44.14157372599999,44.14153118199999,44.14148408099999,44.14143644600001,44.14138770699998,44.14134189999998,44.141296318,44.14124915600002,44.14120247599998,44.14115328999998,44.141110303,44.14096584700002,44.14119286999998,44.141322021,44.14140365100001,44.141490578,44.14154947899999,44.141592317,44.14163129399998,44.14163246300001,44.14152537400003,44.141371596,44.14124400600002,44.14116514599999,44.14099720299998,44.14091304900001,44.14075963499999,44.14048406,44.14042101199999,44.14037814,44.14034603800003,44.14032019899997,44.14032031900001,44.14031569699999,44.14031009600001,44.14030185899996,44.140324625,44.14031758300001,44.14031675000001,44.14030684999999,44.140311193,44.14031202899997,44.14031643200002,44.14032659899999,44.14032613400002,44.14031978499997,44.14031993600002,44.14032290799997,44.14031827299998,44.14030565000001,44.14032472899999,44.140315642,44.14031050400002,44.14031648999996,44.14032304099999,44.14032990200002,44.14032961200002,44.14032356500001,44.14033011499998,44.14033957999999,44.14031684999998,44.14033147999998,44.14033391499999,44.140332806,44.14033022,44.14034520299997,44.140347416,44.140337014,44.14034946599997,44.14032174099999,44.14033309400002,44.14031936999998,44.14035042000001,44.140349205,44.140356118,44.14034357999998,44.140333721,44.14035774000001,44.14032451000002,44.14032672399998,44.14035949800001,44.14033468299998,44.14035998000003,44.140337391,44.14033876899997,44.140326748,44.14032541599999,44.140324647,44.14034911300001,44.14035859099999,44.14037169951938,44.14234249200006]}]],[[{"lng":[-103.625444496,-103.625377217,-103.625303076,-103.625234364,-103.625163678,-103.625088204,-103.625013038,-103.624935826,-103.624857228,-103.624781236,-103.62470963,-103.624633545,-103.624558935,-103.624480461,-103.624404034,-103.624327026,-103.624250099,-103.624175032,-103.624103252,-103.6240369,-103.623969744,-103.623908717,-103.623852199,-103.623801077,-103.623756131,-103.623715128,-103.623678509,-103.623641055,-103.62360854,-103.623576672,-103.623543624,-103.623509112,-103.623477843,-103.623442588,-103.623412581,-103.623381068,-103.623352493,-103.623321971,-103.623291173,-103.623261699,-103.623229308,-103.623197101,-103.62316648,-103.623135675,-103.623102582,-103.623069576,-103.62303406,-103.622990635,-103.622944892,-103.622898488,-103.622851321,-103.622805795,-103.622757294,-103.622711113,-103.62266703,-103.622616831,-103.622569079,-103.622382858,-103.622480435,-103.622473856,-103.622412089,-103.622474776,-103.622472102,-103.622501894,-103.622654419,-103.622808758,-103.622904705,-103.623086407,-103.62311514,-103.622949172,-103.622480685,-103.622156172,-103.621922727,-103.621878712,-103.622090543,-103.622357901,-103.622548912,-103.623048511,-103.623088639,-103.623267492,-103.623663214,-103.624006733,-103.624108556,-103.62425803,-103.624598612,-103.624803273,-103.625070043,-103.625286428,-103.625405014,-103.625643128,-103.625984287,-103.626026289,-103.626057783,-103.626229646,-103.626305891,-103.626309388,-103.626078809,-103.625996679,-103.625915128,-103.625834082,-103.625756909,-103.625684328,-103.625505051,-103.625444496],"lat":[44.14151570299997,44.14150443500001,44.14149265299999,44.14147607699998,44.14146010799999,44.141444321,44.14142875900001,44.141413736,44.14139995900001,44.14138854300001,44.14137548100001,44.14136587500001,44.14135923100002,44.14135688800002,44.14135741400003,44.14136389399998,44.14137462299999,44.14139094599999,44.14140966000002,44.141436498,44.14146836600002,44.14150563099997,44.14154560700001,44.14158881299999,44.14163198099999,44.14168016999997,44.14172781500002,44.141774908,44.14182344,44.14186924299997,44.14191935899998,44.14196960499999,44.14202179699998,44.14207319299999,44.14212282099997,44.14216992699999,44.14221927400001,44.142268022,44.14231883399998,44.14236811299997,44.14241959899999,44.14247006300002,44.14251985200002,44.142568725,44.14261555899997,44.14266281,44.14270684799998,44.142750411,44.14278928700003,44.14282839200001,44.14286006600002,44.14289000899998,44.14291774600002,44.14294636699997,44.14296684099997,44.14298804899999,44.14300678900003,44.14298567200001,44.14282827900001,44.14261699899998,44.1422381,44.14198858700001,44.14169649100001,44.141601589,44.14146723099998,44.14134644299997,44.14124174400001,44.14116013099999,44.14102365000002,44.14099690699998,44.14091991900001,44.140829252,44.14076321499999,44.14062627599997,44.14056145099999,44.140506372,44.14046230500004,44.14032442199999,44.14031502,44.14034799199998,44.140472471,44.14060663200001,44.14062861299999,44.14069488099999,44.14073995500001,44.140779716,44.14074361399998,44.140755022,44.14077386299999,44.14081920199997,44.14086657299998,44.14100618499998,44.14110569500002,44.14131256899997,44.141477232,44.14153323800002,44.14159823799996,44.14159624099999,44.14158976099998,44.14157710400001,44.14156699699998,44.14155241200001,44.141522088,44.14151570299997]}]],[[{"lng":[-103.621049721,-103.620992443,-103.620897991,-103.620713057,-103.620435692,-103.620261428,-103.620128522,-103.620009153,-103.619676151,-103.619564507,-103.619471995,-103.61934558,-103.619223763,-103.619085228,-103.618938875,-103.618484012,-103.618416868,-103.618216505,-103.618170893,-103.61812091,-103.618067441,-103.61801687,-103.617972303,-103.617928505,-103.617877264,-103.617833321,-103.61778771,-103.617747471,-103.617713719,-103.617679567,-103.617651912,-103.617624147,-103.6176047,-103.617586847,-103.617570741,-103.617560192,-103.617558147,-103.617555617,-103.61755455,-103.617556447,-103.617562027,-103.617573561,-103.617589133,-103.617604677,-103.617630823,-103.617657752,-103.61769022,-103.617723798,-103.617756855,-103.617793011,-103.617831666,-103.617876751,-103.617924526,-103.617972217,-103.618030091,-103.618080573,-103.618128241,-103.618180644,-103.618237055,-103.618261653,-103.618319273,-103.618379633,-103.618442748,-103.618505215,-103.618567878,-103.618631747,-103.618700075,-103.618760308,-103.618825425,-103.618868225,-103.618929488,-103.618991624,-103.619086066,-103.61914999,-103.619218166,-103.619280671,-103.619342859,-103.61940362,-103.619464555,-103.619514036,-103.619572303,-103.619621952,-103.619679869,-103.619740712,-103.61979196,-103.619841789,-103.61989594,-103.619947876,-103.619998868,-103.620045227,-103.620087459,-103.620131555,-103.620178222,-103.620235869,-103.62028579,-103.620338689,-103.620387247,-103.620436803,-103.620485164,-103.620528761,-103.620569382,-103.620594545,-103.620642306,-103.620691522,-103.620735533,-103.620777254,-103.62082459,-103.620870777,-103.62092304,-103.620974147,-103.621024473,-103.621073088,-103.62112064,-103.621165124,-103.621244095,-103.621160255,-103.621049721],"lat":[44.14341208799998,44.14364859099999,44.14381128000002,44.14394473099998,44.144053079,44.14410929099999,44.144054064,44.14395782000002,44.14383063999998,44.14377582100002,44.14372185199999,44.14365287599997,44.14365034500003,44.14366245600001,44.14373147899999,44.14395991499998,44.14399165700002,44.14395926499999,44.143919987,44.14387780499999,44.14383634199998,44.14379079999997,44.14374782899999,44.14370487500003,44.14366049099999,44.143613131,44.14356665200001,44.14351742999997,44.14346801800002,44.14341676800001,44.14336514299998,44.14331087599998,44.14325678300003,44.14320302899999,44.14314636900001,44.143089777,44.143034166,44.142982459,44.14292868500001,44.14287429900002,44.14282133799998,44.14276509799999,44.14271065000003,44.14265843499998,44.14260860600001,44.14255425599998,44.14250343100002,44.14245367199998,44.14240632899998,44.142358268,44.14231365199999,44.14227083700002,44.14222884999997,44.14218874400002,44.14215223000001,44.14211876000002,44.142094068,44.14206437799998,44.14203216599997,44.14202207,44.141997506,44.141974983,44.14195293400002,44.14193667699998,44.14192358600001,44.141907249,44.14189507999999,44.14188751799997,44.141882129,44.14187962400001,44.14187950000002,44.14187860499998,44.14187236999999,44.14187429499997,44.14188145399999,44.14189428300001,44.14191108900002,44.14192448400001,44.14193958800001,44.14196511599999,44.14198610400002,44.14201065100001,44.14203392899998,44.14205979899997,44.14208757900003,44.14211651999999,44.14214407999998,44.14217439800001,44.142205246,44.14223737700001,44.142266215,44.14229402799997,44.14233141099998,44.14236451300003,44.14239870300003,44.142435535,44.142469754,44.14250444100002,44.14253724200001,44.142568923,44.14260086899997,44.14261974599998,44.14265280299998,44.14268626600001,44.14271926499999,44.14275139199998,44.14278595399998,44.14281993899998,44.14285458900002,44.14289138999999,44.14292447399998,44.14295553300001,44.14297847099998,44.14300365499997,44.14316689999998,44.14326115799997,44.14341208799998]}]],[[{"lng":[-103.617436227,-103.617418394,-103.617388626,-103.617380492,-103.617381855,-103.617380627,-103.617378477,-103.617382474,-103.617390473,-103.617387992,-103.617400844,-103.617389509,-103.617385639,-103.617370936,-103.617336565,-103.617289399,-103.617253043,-103.617179434,-103.617130886,-103.617104642,-103.617085703,-103.617021212,-103.616966347,-103.616926178,-103.616896425,-103.616857143,-103.616807412,-103.616770866,-103.616731023,-103.616692822,-103.616655631,-103.616617974,-103.616585994,-103.616550018,-103.616511609,-103.61646535,-103.61641838,-103.616373873,-103.616316024,-103.616291906,-103.616284228,-103.616310648,-103.616391355,-103.616545729,-103.616658637,-103.616628881,-103.616622571,-103.616607593,-103.616560283,-103.616474064,-103.616405704,-103.616274633,-103.616291419,-103.616329009,-103.61636964,-103.616369331,-103.616501497,-103.616567566,-103.616773521,-103.616930069,-103.617082219,-103.617199701,-103.617367463,-103.617577309,-103.61774426,-103.617888648,-103.618124267,-103.618369116,-103.618546763,-103.618662212,-103.618785813,-103.618928265,-103.619014035,-103.619195545,-103.619255169,-103.619372035,-103.619501228,-103.619650514,-103.619753152,-103.619896947,-103.620132773,-103.620317528,-103.620394783,-103.620549575,-103.620729217,-103.620865938,-103.620970574,-103.621186011,-103.621189827,-103.621104064,-103.621058745,-103.621015048,-103.621098706,-103.621091764,-103.621105904,-103.621122516,-103.621117957,-103.62112625,-103.621137014,-103.621093956,-103.62106462,-103.621235262,-103.621322561,-103.621430805,-103.621466411,-103.621367612,-103.62114929,-103.62100278,-103.620757587,-103.620708766,-103.620667945,-103.620617231,-103.620569925,-103.620521461,-103.620471033,-103.620416514,-103.620365701,-103.620311911,-103.620263276,-103.620210149,-103.620153453,-103.620103574,-103.620057882,-103.620006748,-103.619951809,-103.619893963,-103.619836179,-103.619774883,-103.619713224,-103.619651998,-103.619585948,-103.619515433,-103.619446595,-103.619373365,-103.619302627,-103.619228223,-103.619156976,-103.619085401,-103.619035309,-103.618973359,-103.618907693,-103.618836573,-103.618767638,-103.618699874,-103.618630331,-103.618560954,-103.618482199,-103.618425609,-103.618360803,-103.618292384,-103.618237354,-103.618178056,-103.61811304,-103.618054853,-103.617999809,-103.617942828,-103.617881907,-103.617832301,-103.617780687,-103.617738315,-103.617698876,-103.617659979,-103.617625348,-103.617592295,-103.617568168,-103.617534408,-103.617515426,-103.617492788,-103.617488446,-103.617474671,-103.617436227],"lat":[44.14273506099998,44.14272131899996,44.142687411,44.14264275199998,44.14261329200002,44.142593331,44.14257307700001,44.142552771,44.142545379,44.14251748200001,44.14247517,44.14244314500001,44.142428978,44.142391567,44.14235617199999,44.142333619,44.14231985599997,44.142295654,44.142270623,44.142248355,44.14223614600001,44.14219772799998,44.14215515799998,44.14213222599999,44.14211188199999,44.14209402199998,44.14207477399998,44.14204945300002,44.14203752999997,44.14201592199998,44.14199822699999,44.14197024100002,44.14194863300003,44.14192105299997,44.14189798199997,44.14186912899999,44.141846682,44.14183205699999,44.14181330399998,44.14183055500002,44.14175600499999,44.14172735599999,44.14163983200001,44.14149444499997,44.14143555099998,44.141329219,44.141209377,44.14116088199999,44.14106328700001,44.14099199399998,44.14089885099997,44.14076327599997,44.14067419600002,44.140586998,44.14042171099998,44.140353377,44.14030402499998,44.14029943000003,44.14030987799998,44.140315992,44.14032487899998,44.14031576399998,44.140319121,44.14031179199998,44.14031428599998,44.14031526500003,44.14030694799999,44.14031079,44.140316149,44.14030101899999,44.14030930799998,44.14030451000002,44.140304861,44.14029713000001,44.14029213399999,44.14028219900001,44.14027325000001,44.14029552499999,44.14029276999997,44.14030976100003,44.14031140300001,44.14032551600001,44.14031823599998,44.14033846299998,44.14035468999997,44.14032211300002,44.14031502699998,44.14030156899997,44.14040883799998,44.14054320499997,44.14070311500001,44.14074953800002,44.14084481999999,44.14090574900001,44.14106711900001,44.14120250399998,44.14129512499999,44.14149025400003,44.141572759,44.141650906,44.14172017700002,44.14187811999999,44.141916831,44.141990132,44.14227824300001,44.14244073600002,44.14259831999998,44.142714189,44.14265199300002,44.14261290399996,44.14258661700001,44.14255312699999,44.14251849399999,44.142484383,44.14244582399999,44.14241049899999,44.142371384,44.14233603100001,44.142299708,44.14226183599999,44.14222389399998,44.14218606499998,44.14215116000002,44.14211372099999,44.142082604,44.14205135100003,44.14201840599998,44.14199037200001,44.14195818299997,44.14193070400001,44.14190620699998,44.14188306300002,44.14186454999997,44.14184823900001,44.14183564199999,44.14182378999998,44.14181926200001,44.14181261900001,44.14181089099998,44.14180982699997,44.14181551899998,44.14182045000002,44.14182865599997,44.14184045500003,44.14185408600001,44.14186932899997,44.14189707100002,44.14190706199997,44.14192916600002,44.14195014400001,44.14197097099999,44.14200243499999,44.14203311699999,44.14206618499998,44.14210608399996,44.14215135799997,44.14219480700001,44.14223928400003,44.14228430899999,44.14233234900001,44.14238237400002,44.14243408800001,44.14248911800002,44.14254518000001,44.14260159399998,44.14266308200001,44.14271550500001,44.14274189499996,44.14276076399999,44.14275712400002,44.14273506099998]}]],[[{"lng":[-103.61499635,-103.6148624503738,-103.614905962,-103.6148546889099,-103.6148318851605,-103.614896326,-103.614977554,-103.615024246,-103.615072903,-103.615122253,-103.615155623,-103.615188821,-103.615226249,-103.615271526,-103.615304763,-103.615336034,-103.615362019,-103.615396975,-103.615399023,-103.61543165,-103.615438602,-103.615466859,-103.615471354,-103.615514272,-103.61553469,-103.615552267,-103.615565888,-103.615572211,-103.61557305,-103.615597927,-103.615617591,-103.615594257,-103.615576613,-103.615564106,-103.615572301,-103.615564633,-103.615568688,-103.61556887,-103.615569836,-103.615574768,-103.61559199,-103.615588249,-103.615595635,-103.615613526,-103.615640311,-103.615663897,-103.6156926,-103.615741279,-103.615789942,-103.615839842,-103.615887572,-103.615923543,-103.615953977,-103.615968033,-103.615994069,-103.61601783,-103.616030113,-103.616051537,-103.616077338,-103.61610477,-103.616132729,-103.616157779,-103.616180841,-103.616218936,-103.616268879,-103.616291906,-103.616316024,-103.616373873,-103.61641838,-103.61646535,-103.616511609,-103.616550018,-103.616585994,-103.616617974,-103.616655631,-103.616692822,-103.616731023,-103.616770866,-103.616807412,-103.616857143,-103.616896425,-103.616926178,-103.616966347,-103.617021212,-103.617085703,-103.617104642,-103.617130886,-103.617179434,-103.617253043,-103.617289399,-103.617336565,-103.617370936,-103.617385639,-103.617389509,-103.617400844,-103.617387992,-103.617390473,-103.617382474,-103.617378477,-103.617380627,-103.617381855,-103.617380492,-103.617388626,-103.617418394,-103.617436227,-103.617474671,-103.617488446,-103.617481668,-103.617456895,-103.617447324,-103.61743816,-103.617431783,-103.617420491,-103.617422883,-103.61742616,-103.617433183,-103.617443867,-103.617456787,-103.617469397,-103.61748903,-103.617583803,-103.61762084,-103.617698516,-103.617742231,-103.617788694,-103.617837149,-103.617885191,-103.61793517,-103.618002149,-103.618056256,-103.618114925,-103.618166886,-103.61821469,-103.618265144,-103.61831574,-103.618365322,-103.618439089,-103.618468767,-103.618507918,-103.618527191,-103.618557279,-103.618579266,-103.618599543,-103.618603039,-103.618612405,-103.618632746,-103.61863484,-103.618656176,-103.618651694,-103.618640588,-103.61863775,-103.618611818,-103.618591713,-103.618571443,-103.618541411,-103.618498917,-103.61846651,-103.618422187,-103.618372577,-103.6183215,-103.618274107,-103.61822368,-103.61816754,-103.618113797,-103.618057156,-103.618000321,-103.617934886,-103.617870705,-103.617807694,-103.617743661,-103.617667041,-103.617597322,-103.617529992,-103.617461034,-103.617393798,-103.617323916,-103.617255059,-103.617185142,-103.617117138,-103.617045257,-103.616976856,-103.616909652,-103.616838942,-103.616772149,-103.616705483,-103.616643142,-103.616580985,-103.616517592,-103.616452295,-103.616383219,-103.61631115,-103.616238823,-103.616170123,-103.616099016,-103.616035999,-103.615966992,-103.615897345,-103.615829746,-103.615767673,-103.615707405,-103.615651315,-103.615582176,-103.615517418,-103.615445252,-103.615371581,-103.615297752,-103.615223026,-103.615146295,-103.615070447,-103.6149970695087,-103.61499635],"lat":[44.14645179300004,44.14177281563305,44.14162132199998,44.14150158675973,44.14070468828182,44.14068819400001,44.14071233700002,44.14078150000001,44.14083185599997,44.14085906999998,44.14089120400001,44.140948175,44.14097410599999,44.14100218999999,44.14104164399998,44.14109385299998,44.14112547600001,44.141185849,44.14121267500001,44.14125782399998,44.14130601199997,44.14134536799998,44.14136483800002,44.14140073300001,44.14145028799998,44.14146919199998,44.14153675099999,44.14157499100003,44.14162309599998,44.141666294,44.141709123,44.14172553999998,44.141759793,44.14178471200001,44.14180659700003,44.141848272,44.14188490499999,44.141926624,44.14196641199999,44.14200882799997,44.14205224499999,44.14208263400001,44.14212512599999,44.14213316399997,44.14218462899998,44.14220590600001,44.142243033,44.14224718100002,44.14225100599997,44.14225359300002,44.14224727099997,44.142236889,44.14221314299999,44.14217650499999,44.14214373399999,44.14210707799997,44.14206255300002,44.14202555399999,44.14199038800001,44.14195975899997,44.14191787099998,44.14189646599998,44.14187101599999,44.14185626599999,44.14184702599999,44.14183055500002,44.14181330399998,44.14183205699999,44.141846682,44.14186912899999,44.14189798199997,44.14192105299997,44.14194863300003,44.14197024100002,44.14199822699999,44.14201592199998,44.14203752999997,44.14204945300002,44.14207477399998,44.14209402199998,44.14211188199999,44.14213222599999,44.14215515799998,44.14219772799998,44.14223614600001,44.142248355,44.142270623,44.142295654,44.14231985599997,44.142333619,44.14235617199999,44.142391567,44.142428978,44.14244314500001,44.14247517,44.14251748200001,44.142545379,44.142552771,44.14257307700001,44.142593331,44.14261329200002,44.14264275199998,44.142687411,44.14272131899996,44.14273506099998,44.14275712400002,44.14276076399999,44.14279886999997,44.14282874700001,44.14287466399998,44.14292701499999,44.14297397000001,44.14301690000003,44.14306420200001,44.14311800899997,44.14316713599998,44.143229415,44.14327745200002,44.14331598899997,44.14336510700002,44.143517884,44.14356110099999,44.14363620199997,44.14368668499998,44.143736853,44.143784175,44.14382605399999,44.14385735600001,44.14391473900002,44.143965364,44.14400858099998,44.14405945800001,44.14410386899998,44.14415090900003,44.14418378800002,44.14423052,44.144270775,44.14433143700001,44.14438271400001,44.14440896999996,44.14446170500002,44.14451373600002,44.14457155799999,44.144632768,44.14468969599999,44.14475113200001,44.144808769,44.14487220500001,44.144929805,44.14498519300002,44.14504691600002,44.145094953,44.14515519899999,44.14521939100002,44.14527542000001,44.145333101,44.14538384600002,44.14543409800001,44.145477695,44.14552319900002,44.145569383,44.145610906,44.14564455599998,44.145676751,44.14571378400001,44.14574826299997,44.14578427100002,44.14581643000002,44.145846273,44.145877987,44.14590744899999,44.14593968499998,44.14596888099999,44.14600257500001,44.14603881499998,44.14607275899998,44.14610343700001,44.14613632700002,44.14617101499999,44.14620369599999,44.146235897,44.14626565899998,44.146299016,44.14633258100001,44.14636233599998,44.14639126399998,44.14641289399998,44.14644243800001,44.146467873,44.14649233199997,44.14651517099997,44.14653501100003,44.14655332400002,44.14656903500003,44.14658664900002,44.14659948299998,44.14661253899998,44.14661874400002,44.14661980699997,44.14662509599997,44.14662661599999,44.14663186100001,44.14663286000002,44.14663195100001,44.14662746599999,44.14662393100001,44.14662284899998,44.14661349400001,44.14660181099998,44.14658534816522,44.14645179300004]}]]],null,"QMD (in)",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":0.5,"opacity":[0.9,0.9,0.9,0.9,0.9,0.9],"fill":true,"fillColor":["#342346","#78D6AE","#38AAAC","#78D6AE","#DEF5E5","#78D6AE"],"fillOpacity":[0.7,0.7,0.7,0.7,0.7,0.7],"smoothFactor":1,"noClip":false},null,{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["11.4355435506085","9.90766266663008","10.449952346157","10.1026235204682","9.54117481134684","10.0080561566938"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.9799999999999999,"bringToFront":false,"sendToBack":false}]},{"method":"addLayersControl","args":[["Esri.WorldImagery","OpenStreetMap"],["BHEF","QMD (in)"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#DEF5E5 , #CFF0DC 3.10526601468754%, #9BE0BF 13.6628726651198%, #6DCDAE 24.220479315552%, #4CB5AD 34.7780859659843%, #399DA9 45.3356926164164%, #3784A4 55.8932992668487%, #3B6B9C 66.4509059172809%, #405191 77.0085125677132%, #3D3A72 87.5661192181453%, #36264C 98.1237258685776%, #342346 "],"labels":["9.6","9.8","10.0","10.2","10.4","10.6","10.8","11.0","11.2","11.4"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"numeric","title":"QMD (in)","extra":{"p_1":0.03105266014687535,"p_n":0.9812372586857762},"layerId":null,"className":"info legend","group":"QMD (in)"}]},{"method":"addHomeButton","args":[-103.654991044,44.13988113200003,-103.6143989719999,44.18348104400008,true,null,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[44.13988113200003,44.18348104400008],"lng":[-103.654991044,-103.6143989719999]},"fitBounds":[44.13988113200003,-103.654991044,44.18348104400008,-103.6143989719999,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div id="overstory-dbh-distrubtion" class="section level3 hasAnchor" number="8.1.4">
<h3><span class="header-section-number">8.1.4</span> Overstory DBH Distrubtion<a href="silv.html#overstory-dbh-distrubtion" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="silv.html#cb80-1" tabindex="-1"></a>harvests_trees <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a href="silv.html#cb80-2" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb80-3"><a href="silv.html#cb80-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(dbh_cm <span class="sc">&gt;=</span> ostory_min_tree_dbh_cm) <span class="sc">%&gt;%</span> </span>
<span id="cb80-4"><a href="silv.html#cb80-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(treeID, dbh_in) <span class="sc">%&gt;%</span> </span>
<span id="cb80-5"><a href="silv.html#cb80-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb80-6"><a href="silv.html#cb80-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb80-7"><a href="silv.html#cb80-7" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb80-8"><a href="silv.html#cb80-8" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> dbh_in)</span>
<span id="cb80-9"><a href="silv.html#cb80-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb80-10"><a href="silv.html#cb80-10" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">fill =</span> <span class="st">&quot;navy&quot;</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span> </span>
<span id="cb80-11"><a href="silv.html#cb80-11" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb80-12"><a href="silv.html#cb80-12" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">&quot;DBH (in)&quot;</span></span>
<span id="cb80-13"><a href="silv.html#cb80-13" tabindex="-1"></a>      , <span class="at">y =</span> <span class="st">&quot;density&quot;</span></span>
<span id="cb80-14"><a href="silv.html#cb80-14" tabindex="-1"></a>      , <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb80-15"><a href="silv.html#cb80-15" tabindex="-1"></a>        <span class="st">&quot;Overstory (&gt;= &quot;</span></span>
<span id="cb80-16"><a href="silv.html#cb80-16" tabindex="-1"></a>        , scales<span class="sc">::</span><span class="fu">comma</span>(ostory_min_tree_dbh_cm<span class="sc">/</span><span class="fl">2.54</span>,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb80-17"><a href="silv.html#cb80-17" tabindex="-1"></a>        , <span class="st">&quot; in. DBH) SfM-derived tree DBH distribution&quot;</span></span>
<span id="cb80-18"><a href="silv.html#cb80-18" tabindex="-1"></a>      )</span>
<span id="cb80-19"><a href="silv.html#cb80-19" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb80-20"><a href="silv.html#cb80-20" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb80-21"><a href="silv.html#cb80-21" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb80-22"><a href="silv.html#cb80-22" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb80-23"><a href="silv.html#cb80-23" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb80-24"><a href="silv.html#cb80-24" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="bhef_uas_202306_files/figure-html/os-dbh-dist-1.png" width="1008" /></p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="silv.html#cb81-1" tabindex="-1"></a>tpa_temp <span class="ot">=</span> </span>
<span id="cb81-2"><a href="silv.html#cb81-2" tabindex="-1"></a>  harvests_trees <span class="sc">%&gt;%</span></span>
<span id="cb81-3"><a href="silv.html#cb81-3" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb81-4"><a href="silv.html#cb81-4" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(dbh_cm <span class="sc">&gt;=</span> ostory_min_tree_dbh_cm) <span class="sc">%&gt;%</span> </span>
<span id="cb81-5"><a href="silv.html#cb81-5" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(treeID, dbh_in) <span class="sc">%&gt;%</span> </span>
<span id="cb81-6"><a href="silv.html#cb81-6" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb81-7"><a href="silv.html#cb81-7" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb81-8"><a href="silv.html#cb81-8" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb81-9"><a href="silv.html#cb81-9" tabindex="-1"></a>      <span class="at">dbh_cl =</span> ggplot2<span class="sc">::</span><span class="fu">cut_width</span>(dbh_in, <span class="at">width =</span> <span class="dv">1</span>, <span class="at">center =</span> <span class="fl">0.5</span>, <span class="at">closed =</span> <span class="st">&quot;left&quot;</span>)</span>
<span id="cb81-10"><a href="silv.html#cb81-10" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb81-11"><a href="silv.html#cb81-11" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(dbh_cl) <span class="sc">%&gt;%</span> </span>
<span id="cb81-12"><a href="silv.html#cb81-12" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb81-13"><a href="silv.html#cb81-13" tabindex="-1"></a>      <span class="at">n_trees =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb81-14"><a href="silv.html#cb81-14" tabindex="-1"></a>      , <span class="at">trees_per_ac =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()<span class="sc">/</span></span>
<span id="cb81-15"><a href="silv.html#cb81-15" tabindex="-1"></a>        (harvests <span class="sc">%&gt;%</span> sf<span class="sc">::</span><span class="fu">st_union</span>() <span class="sc">%&gt;%</span> sf<span class="sc">::</span><span class="fu">st_area</span>() <span class="sc">%&gt;%</span> <span class="fu">as.numeric</span>() <span class="sc">%&gt;%</span> <span class="st">`</span><span class="at">/</span><span class="st">`</span>(<span class="dv">10000</span>) <span class="sc">%&gt;%</span> <span class="st">`</span><span class="at">*</span><span class="st">`</span>(<span class="fl">2.471</span>))</span>
<span id="cb81-16"><a href="silv.html#cb81-16" tabindex="-1"></a>      , <span class="at">trees_per_ha =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()<span class="sc">/</span></span>
<span id="cb81-17"><a href="silv.html#cb81-17" tabindex="-1"></a>        (harvests <span class="sc">%&gt;%</span> sf<span class="sc">::</span><span class="fu">st_union</span>() <span class="sc">%&gt;%</span> sf<span class="sc">::</span><span class="fu">st_area</span>() <span class="sc">%&gt;%</span> <span class="fu">as.numeric</span>() <span class="sc">%&gt;%</span> <span class="st">`</span><span class="at">/</span><span class="st">`</span>(<span class="dv">10000</span>))</span>
<span id="cb81-18"><a href="silv.html#cb81-18" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb81-19"><a href="silv.html#cb81-19" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb81-20"><a href="silv.html#cb81-20" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb81-21"><a href="silv.html#cb81-21" tabindex="-1"></a>      <span class="at">tot_trees_per_ac =</span> <span class="fu">sum</span>(trees_per_ac)</span>
<span id="cb81-22"><a href="silv.html#cb81-22" tabindex="-1"></a>      , <span class="at">tot_trees_per_ha =</span> <span class="fu">sum</span>(trees_per_ha)</span>
<span id="cb81-23"><a href="silv.html#cb81-23" tabindex="-1"></a>      , <span class="at">pct =</span> trees_per_ac<span class="sc">/</span>tot_trees_per_ac</span>
<span id="cb81-24"><a href="silv.html#cb81-24" tabindex="-1"></a>      , <span class="at">dbh_cl_lab =</span> <span class="fu">paste0</span>(</span>
<span id="cb81-25"><a href="silv.html#cb81-25" tabindex="-1"></a>        stringr<span class="sc">::</span><span class="fu">word</span>(dbh_cl, <span class="dv">1</span>, <span class="at">sep =</span> <span class="fu">fixed</span>(<span class="st">&quot;,&quot;</span>)) <span class="sc">%&gt;%</span> readr<span class="sc">::</span><span class="fu">parse_number</span>()</span>
<span id="cb81-26"><a href="silv.html#cb81-26" tabindex="-1"></a>        , <span class="st">&quot; to &quot;</span></span>
<span id="cb81-27"><a href="silv.html#cb81-27" tabindex="-1"></a>        , stringr<span class="sc">::</span><span class="fu">word</span>(dbh_cl, <span class="sc">-</span><span class="dv">1</span>, <span class="at">sep =</span> <span class="fu">fixed</span>(<span class="st">&quot;,&quot;</span>)) <span class="sc">%&gt;%</span> readr<span class="sc">::</span><span class="fu">parse_number</span>() <span class="sc">%&gt;%</span> <span class="st">`</span><span class="at">-</span><span class="st">`</span>(<span class="fl">0.1</span>)</span>
<span id="cb81-28"><a href="silv.html#cb81-28" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb81-29"><a href="silv.html#cb81-29" tabindex="-1"></a>      <span class="fu">factor</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb81-30"><a href="silv.html#cb81-30" tabindex="-1"></a>      forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(stringr<span class="sc">::</span><span class="fu">word</span>(dbh_cl, <span class="dv">1</span>, <span class="at">sep =</span> <span class="fu">fixed</span>(<span class="st">&quot;,&quot;</span>)) <span class="sc">%&gt;%</span> readr<span class="sc">::</span><span class="fu">parse_number</span>())</span>
<span id="cb81-31"><a href="silv.html#cb81-31" tabindex="-1"></a>    )</span>
<span id="cb81-32"><a href="silv.html#cb81-32" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb81-33"><a href="silv.html#cb81-33" tabindex="-1"></a>tpa_temp <span class="sc">%&gt;%</span> </span>
<span id="cb81-34"><a href="silv.html#cb81-34" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb81-35"><a href="silv.html#cb81-35" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb81-36"><a href="silv.html#cb81-36" tabindex="-1"></a>      <span class="at">x =</span> dbh_cl_lab, <span class="at">y =</span> trees_per_ac</span>
<span id="cb81-37"><a href="silv.html#cb81-37" tabindex="-1"></a>      , <span class="at">fill=</span>trees_per_ac</span>
<span id="cb81-38"><a href="silv.html#cb81-38" tabindex="-1"></a>      , <span class="at">label =</span> <span class="fu">paste0</span>(</span>
<span id="cb81-39"><a href="silv.html#cb81-39" tabindex="-1"></a>        scales<span class="sc">::</span><span class="fu">comma</span>(trees_per_ac, <span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb81-40"><a href="silv.html#cb81-40" tabindex="-1"></a>        , <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span></span>
<span id="cb81-41"><a href="silv.html#cb81-41" tabindex="-1"></a>        , scales<span class="sc">::</span><span class="fu">percent</span>(pct, <span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb81-42"><a href="silv.html#cb81-42" tabindex="-1"></a>      )</span>
<span id="cb81-43"><a href="silv.html#cb81-43" tabindex="-1"></a>    )</span>
<span id="cb81-44"><a href="silv.html#cb81-44" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb81-45"><a href="silv.html#cb81-45" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb81-46"><a href="silv.html#cb81-46" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb81-47"><a href="silv.html#cb81-47" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;mako&quot;</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb81-48"><a href="silv.html#cb81-48" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>),<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">13</span>))) <span class="sc">+</span></span>
<span id="cb81-49"><a href="silv.html#cb81-49" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb81-50"><a href="silv.html#cb81-50" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">&quot;DBH (in) Class&quot;</span></span>
<span id="cb81-51"><a href="silv.html#cb81-51" tabindex="-1"></a>      , <span class="at">y =</span> <span class="st">&quot;TPA&quot;</span></span>
<span id="cb81-52"><a href="silv.html#cb81-52" tabindex="-1"></a>      , <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb81-53"><a href="silv.html#cb81-53" tabindex="-1"></a>        <span class="st">&quot;Overstory (&gt;= &quot;</span></span>
<span id="cb81-54"><a href="silv.html#cb81-54" tabindex="-1"></a>        , scales<span class="sc">::</span><span class="fu">comma</span>(ostory_min_tree_dbh_cm<span class="sc">/</span><span class="fl">2.54</span>,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb81-55"><a href="silv.html#cb81-55" tabindex="-1"></a>        , <span class="st">&quot; in. DBH) Trees Per Acre by Diameter Class&quot;</span></span>
<span id="cb81-56"><a href="silv.html#cb81-56" tabindex="-1"></a>      )</span>
<span id="cb81-57"><a href="silv.html#cb81-57" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="fu">paste0</span>(</span>
<span id="cb81-58"><a href="silv.html#cb81-58" tabindex="-1"></a>          <span class="st">&quot;Total TPA: &quot;</span></span>
<span id="cb81-59"><a href="silv.html#cb81-59" tabindex="-1"></a>          , scales<span class="sc">::</span><span class="fu">comma</span>(tpa_temp<span class="sc">$</span>tot_trees_per_ac[<span class="dv">1</span>], <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb81-60"><a href="silv.html#cb81-60" tabindex="-1"></a>        )</span>
<span id="cb81-61"><a href="silv.html#cb81-61" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb81-62"><a href="silv.html#cb81-62" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb81-63"><a href="silv.html#cb81-63" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb81-64"><a href="silv.html#cb81-64" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb81-65"><a href="silv.html#cb81-65" tabindex="-1"></a>      , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb81-66"><a href="silv.html#cb81-66" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="bhef_uas_202306_files/figure-html/os-dbh-dist2-1.png" width="1008" /></p>
</div>
</div>
<div id="height-distribution-1" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Height Distribution<a href="silv.html#height-distribution-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="silv.html#cb82-1" tabindex="-1"></a>harvests_trees <span class="sc">%&gt;%</span></span>
<span id="cb82-2"><a href="silv.html#cb82-2" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb82-3"><a href="silv.html#cb82-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(dbh_cm <span class="sc">&gt;=</span> ostory_min_tree_dbh_cm) <span class="sc">%&gt;%</span> </span>
<span id="cb82-4"><a href="silv.html#cb82-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(treeID, tree_height_ft) <span class="sc">%&gt;%</span> </span>
<span id="cb82-5"><a href="silv.html#cb82-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb82-6"><a href="silv.html#cb82-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb82-7"><a href="silv.html#cb82-7" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb82-8"><a href="silv.html#cb82-8" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> tree_height_ft)</span>
<span id="cb82-9"><a href="silv.html#cb82-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb82-10"><a href="silv.html#cb82-10" tabindex="-1"></a>    <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span> </span>
<span id="cb82-11"><a href="silv.html#cb82-11" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb82-12"><a href="silv.html#cb82-12" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">&quot;Height (ft)&quot;</span></span>
<span id="cb82-13"><a href="silv.html#cb82-13" tabindex="-1"></a>      , <span class="at">y =</span> <span class="st">&quot;density&quot;</span></span>
<span id="cb82-14"><a href="silv.html#cb82-14" tabindex="-1"></a>      , <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb82-15"><a href="silv.html#cb82-15" tabindex="-1"></a>        <span class="st">&quot;Overstory (&gt;= &quot;</span></span>
<span id="cb82-16"><a href="silv.html#cb82-16" tabindex="-1"></a>        , scales<span class="sc">::</span><span class="fu">comma</span>(ostory_min_tree_dbh_cm<span class="sc">/</span><span class="fl">2.54</span>,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb82-17"><a href="silv.html#cb82-17" tabindex="-1"></a>        , <span class="st">&quot; in. DBH) SfM-derived tree height distribution&quot;</span></span>
<span id="cb82-18"><a href="silv.html#cb82-18" tabindex="-1"></a>      )</span>
<span id="cb82-19"><a href="silv.html#cb82-19" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb82-20"><a href="silv.html#cb82-20" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb82-21"><a href="silv.html#cb82-21" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb82-22"><a href="silv.html#cb82-22" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb82-23"><a href="silv.html#cb82-23" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb82-24"><a href="silv.html#cb82-24" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="bhef_uas_202306_files/figure-html/os-ht-dist-1.png" width="1008" /></p>
</div>
<div id="understory-summary" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Understory Summary<a href="silv.html#understory-summary" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="silv.html#cb83-1" tabindex="-1"></a><span class="co"># total</span></span>
<span id="cb83-2"><a href="silv.html#cb83-2" tabindex="-1"></a>tpa_temp <span class="ot">=</span> harvests_regen_plt_diam <span class="sc">%&gt;%</span> </span>
<span id="cb83-3"><a href="silv.html#cb83-3" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb83-4"><a href="silv.html#cb83-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb83-5"><a href="silv.html#cb83-5" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb83-6"><a href="silv.html#cb83-6" tabindex="-1"></a>      tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;diam_inch_class&quot;</span>)</span>
<span id="cb83-7"><a href="silv.html#cb83-7" tabindex="-1"></a>      , <span class="at">.fn =</span> as.numeric</span>
<span id="cb83-8"><a href="silv.html#cb83-8" tabindex="-1"></a>    )</span>
<span id="cb83-9"><a href="silv.html#cb83-9" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb83-10"><a href="silv.html#cb83-10" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb83-11"><a href="silv.html#cb83-11" tabindex="-1"></a>    diam_inch_class_lower <span class="sc">&lt;</span> ustory_max_tree_dbh_cm</span>
<span id="cb83-12"><a href="silv.html#cb83-12" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb83-13"><a href="silv.html#cb83-13" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb83-14"><a href="silv.html#cb83-14" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(plot_dir_id, regen_size_class_diam, number_of_trees_in_size_class, plot_area_ac, plot_area_ha) <span class="sc">%&gt;%</span> </span>
<span id="cb83-15"><a href="silv.html#cb83-15" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(regen_size_class_diam) <span class="sc">%&gt;%</span> </span>
<span id="cb83-16"><a href="silv.html#cb83-16" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb83-17"><a href="silv.html#cb83-17" tabindex="-1"></a>    <span class="at">number_of_plots =</span> dplyr<span class="sc">::</span><span class="fu">n_distinct</span>(plot_dir_id)</span>
<span id="cb83-18"><a href="silv.html#cb83-18" tabindex="-1"></a>    , <span class="at">sum_num_trees =</span> <span class="fu">sum</span>(number_of_trees_in_size_class)</span>
<span id="cb83-19"><a href="silv.html#cb83-19" tabindex="-1"></a>    , <span class="at">sampled_area_ac =</span> <span class="fu">sum</span>(plot_area_ac)</span>
<span id="cb83-20"><a href="silv.html#cb83-20" tabindex="-1"></a>    , <span class="at">sampled_area_ha =</span> <span class="fu">sum</span>(plot_area_ha)</span>
<span id="cb83-21"><a href="silv.html#cb83-21" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb83-22"><a href="silv.html#cb83-22" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb83-23"><a href="silv.html#cb83-23" tabindex="-1"></a>    <span class="at">size_class_trees_per_ac =</span> sum_num_trees<span class="sc">/</span>sampled_area_ac</span>
<span id="cb83-24"><a href="silv.html#cb83-24" tabindex="-1"></a>    , <span class="at">size_class_trees_per_ha =</span> sum_num_trees<span class="sc">/</span>sampled_area_ha</span>
<span id="cb83-25"><a href="silv.html#cb83-25" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb83-26"><a href="silv.html#cb83-26" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb83-27"><a href="silv.html#cb83-27" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb83-28"><a href="silv.html#cb83-28" tabindex="-1"></a>    <span class="at">tot_trees_per_ac =</span> <span class="fu">sum</span>(size_class_trees_per_ac)</span>
<span id="cb83-29"><a href="silv.html#cb83-29" tabindex="-1"></a>    , <span class="at">tot_trees_per_ha =</span> <span class="fu">sum</span>(size_class_trees_per_ha)</span>
<span id="cb83-30"><a href="silv.html#cb83-30" tabindex="-1"></a>    , <span class="at">pct =</span> size_class_trees_per_ac<span class="sc">/</span>tot_trees_per_ac</span>
<span id="cb83-31"><a href="silv.html#cb83-31" tabindex="-1"></a>    , <span class="at">dbh_cl_lab =</span> <span class="fu">paste0</span>(</span>
<span id="cb83-32"><a href="silv.html#cb83-32" tabindex="-1"></a>        stringr<span class="sc">::</span><span class="fu">word</span>(regen_size_class_diam, <span class="dv">1</span>, <span class="at">sep =</span> <span class="fu">fixed</span>(<span class="st">&quot;-&quot;</span>)) <span class="sc">%&gt;%</span> readr<span class="sc">::</span><span class="fu">parse_number</span>()</span>
<span id="cb83-33"><a href="silv.html#cb83-33" tabindex="-1"></a>        , <span class="st">&quot; to &quot;</span></span>
<span id="cb83-34"><a href="silv.html#cb83-34" tabindex="-1"></a>        , stringr<span class="sc">::</span><span class="fu">word</span>(regen_size_class_diam, <span class="sc">-</span><span class="dv">1</span>, <span class="at">sep =</span> <span class="fu">fixed</span>(<span class="st">&quot;-&quot;</span>)) <span class="sc">%&gt;%</span> readr<span class="sc">::</span><span class="fu">parse_number</span>() <span class="sc">%&gt;%</span> <span class="st">`</span><span class="at">-</span><span class="st">`</span>(<span class="fl">0.1</span>)</span>
<span id="cb83-35"><a href="silv.html#cb83-35" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb83-36"><a href="silv.html#cb83-36" tabindex="-1"></a>      <span class="fu">factor</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb83-37"><a href="silv.html#cb83-37" tabindex="-1"></a>      forcats<span class="sc">::</span><span class="fu">fct_reorder</span>(stringr<span class="sc">::</span><span class="fu">word</span>(regen_size_class_diam, <span class="dv">1</span>, <span class="at">sep =</span> <span class="fu">fixed</span>(<span class="st">&quot;-&quot;</span>)) <span class="sc">%&gt;%</span> readr<span class="sc">::</span><span class="fu">parse_number</span>())</span>
<span id="cb83-38"><a href="silv.html#cb83-38" tabindex="-1"></a>  )</span>
<span id="cb83-39"><a href="silv.html#cb83-39" tabindex="-1"></a><span class="co"># plot</span></span>
<span id="cb83-40"><a href="silv.html#cb83-40" tabindex="-1"></a>tpa_temp <span class="sc">%&gt;%</span> </span>
<span id="cb83-41"><a href="silv.html#cb83-41" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb83-42"><a href="silv.html#cb83-42" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb83-43"><a href="silv.html#cb83-43" tabindex="-1"></a>      <span class="at">x =</span> dbh_cl_lab, <span class="at">y =</span> size_class_trees_per_ac</span>
<span id="cb83-44"><a href="silv.html#cb83-44" tabindex="-1"></a>      , <span class="at">fill=</span>size_class_trees_per_ac</span>
<span id="cb83-45"><a href="silv.html#cb83-45" tabindex="-1"></a>      , <span class="at">label =</span> <span class="fu">paste0</span>(</span>
<span id="cb83-46"><a href="silv.html#cb83-46" tabindex="-1"></a>        scales<span class="sc">::</span><span class="fu">comma</span>(size_class_trees_per_ac, <span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb83-47"><a href="silv.html#cb83-47" tabindex="-1"></a>        , <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span></span>
<span id="cb83-48"><a href="silv.html#cb83-48" tabindex="-1"></a>        , scales<span class="sc">::</span><span class="fu">percent</span>(pct, <span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb83-49"><a href="silv.html#cb83-49" tabindex="-1"></a>      )</span>
<span id="cb83-50"><a href="silv.html#cb83-50" tabindex="-1"></a>    )</span>
<span id="cb83-51"><a href="silv.html#cb83-51" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb83-52"><a href="silv.html#cb83-52" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">width =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb83-53"><a href="silv.html#cb83-53" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb83-54"><a href="silv.html#cb83-54" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;mako&quot;</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb83-55"><a href="silv.html#cb83-55" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>),<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">13</span>))) <span class="sc">+</span></span>
<span id="cb83-56"><a href="silv.html#cb83-56" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb83-57"><a href="silv.html#cb83-57" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">&quot;DBH (in) Class&quot;</span></span>
<span id="cb83-58"><a href="silv.html#cb83-58" tabindex="-1"></a>      , <span class="at">y =</span> <span class="st">&quot;TPA&quot;</span></span>
<span id="cb83-59"><a href="silv.html#cb83-59" tabindex="-1"></a>      , <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb83-60"><a href="silv.html#cb83-60" tabindex="-1"></a>        <span class="st">&quot;Understory (&lt; &quot;</span></span>
<span id="cb83-61"><a href="silv.html#cb83-61" tabindex="-1"></a>        , scales<span class="sc">::</span><span class="fu">comma</span>(ustory_max_tree_dbh_cm<span class="sc">/</span><span class="fl">2.54</span>,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb83-62"><a href="silv.html#cb83-62" tabindex="-1"></a>        , <span class="st">&quot; in. DBH) Trees Per Acre by Diameter Class&quot;</span></span>
<span id="cb83-63"><a href="silv.html#cb83-63" tabindex="-1"></a>      )</span>
<span id="cb83-64"><a href="silv.html#cb83-64" tabindex="-1"></a>      , <span class="at">subtitle =</span> <span class="fu">paste0</span>(</span>
<span id="cb83-65"><a href="silv.html#cb83-65" tabindex="-1"></a>          <span class="st">&quot;Total TPA: &quot;</span></span>
<span id="cb83-66"><a href="silv.html#cb83-66" tabindex="-1"></a>          , scales<span class="sc">::</span><span class="fu">comma</span>(tpa_temp<span class="sc">$</span>tot_trees_per_ac[<span class="dv">1</span>], <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb83-67"><a href="silv.html#cb83-67" tabindex="-1"></a>        )</span>
<span id="cb83-68"><a href="silv.html#cb83-68" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb83-69"><a href="silv.html#cb83-69" tabindex="-1"></a>    <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb83-70"><a href="silv.html#cb83-70" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb83-71"><a href="silv.html#cb83-71" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb83-72"><a href="silv.html#cb83-72" tabindex="-1"></a>      , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">size =</span> <span class="dv">10</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb83-73"><a href="silv.html#cb83-73" tabindex="-1"></a>    )</span></code></pre></div>
<p><img src="bhef_uas_202306_files/figure-html/us-tpa-1.png" width="1008" /></p>
</div>
<div id="define-functions-for-stand-summary" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Define Functions for Stand Summary<a href="silv.html#define-functions-for-stand-summary" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Create plots to combine for report</p>
<ol style="list-style-type: decimal">
<li>orthomosaic + chm + tree tops + stand plot</li>
</ol>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="silv.html#cb84-1" tabindex="-1"></a><span class="do">######################################################################################</span></span>
<span id="cb84-2"><a href="silv.html#cb84-2" tabindex="-1"></a><span class="co"># function to plot ortho + chm + points + stand</span></span>
<span id="cb84-3"><a href="silv.html#cb84-3" tabindex="-1"></a><span class="do">######################################################################################</span></span>
<span id="cb84-4"><a href="silv.html#cb84-4" tabindex="-1"></a>ortho_plt_fn <span class="ot">=</span> <span class="cf">function</span>(my_suid){</span>
<span id="cb84-5"><a href="silv.html#cb84-5" tabindex="-1"></a></span>
<span id="cb84-6"><a href="silv.html#cb84-6" tabindex="-1"></a><span class="co"># convert to stars</span></span>
<span id="cb84-7"><a href="silv.html#cb84-7" tabindex="-1"></a>  ortho_st <span class="ot">=</span> ortho_rast <span class="sc">%&gt;%</span>  </span>
<span id="cb84-8"><a href="silv.html#cb84-8" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">subset</span>(<span class="at">subset =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb84-9"><a href="silv.html#cb84-9" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">crop</span>(</span>
<span id="cb84-10"><a href="silv.html#cb84-10" tabindex="-1"></a>      <span class="co"># stand %&gt;% </span></span>
<span id="cb84-11"><a href="silv.html#cb84-11" tabindex="-1"></a>      harvests <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(suid<span class="sc">==</span>my_suid) <span class="sc">%&gt;%</span> </span>
<span id="cb84-12"><a href="silv.html#cb84-12" tabindex="-1"></a>        sf<span class="sc">::</span><span class="fu">st_buffer</span>(<span class="dv">20</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb84-13"><a href="silv.html#cb84-13" tabindex="-1"></a>        sf<span class="sc">::</span><span class="fu">st_bbox</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb84-14"><a href="silv.html#cb84-14" tabindex="-1"></a>        sf<span class="sc">::</span><span class="fu">st_as_sfc</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb84-15"><a href="silv.html#cb84-15" tabindex="-1"></a>        terra<span class="sc">::</span><span class="fu">vect</span>()</span>
<span id="cb84-16"><a href="silv.html#cb84-16" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb84-17"><a href="silv.html#cb84-17" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">aggregate</span>(<span class="at">fact =</span> <span class="dv">4</span>, <span class="at">fun =</span> <span class="st">&quot;mean&quot;</span>, <span class="at">na.rm =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb84-18"><a href="silv.html#cb84-18" tabindex="-1"></a>    stars<span class="sc">::</span><span class="fu">st_as_stars</span>()</span>
<span id="cb84-19"><a href="silv.html#cb84-19" tabindex="-1"></a>  </span>
<span id="cb84-20"><a href="silv.html#cb84-20" tabindex="-1"></a>  <span class="co"># convert to rgb</span></span>
<span id="cb84-21"><a href="silv.html#cb84-21" tabindex="-1"></a>  ortho_rgb <span class="ot">&lt;-</span> stars<span class="sc">::</span><span class="fu">st_rgb</span>(</span>
<span id="cb84-22"><a href="silv.html#cb84-22" tabindex="-1"></a>    ortho_st[,,,<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span>
<span id="cb84-23"><a href="silv.html#cb84-23" tabindex="-1"></a>    , <span class="at">dimension =</span> <span class="dv">3</span></span>
<span id="cb84-24"><a href="silv.html#cb84-24" tabindex="-1"></a>    , <span class="at">use_alpha =</span> <span class="cn">FALSE</span></span>
<span id="cb84-25"><a href="silv.html#cb84-25" tabindex="-1"></a>    <span class="co"># , stretch = &quot;histogram&quot;</span></span>
<span id="cb84-26"><a href="silv.html#cb84-26" tabindex="-1"></a>    , <span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.005</span>, <span class="fl">0.995</span>)</span>
<span id="cb84-27"><a href="silv.html#cb84-27" tabindex="-1"></a>    , <span class="at">stretch =</span> <span class="st">&quot;percent&quot;</span></span>
<span id="cb84-28"><a href="silv.html#cb84-28" tabindex="-1"></a>  )</span>
<span id="cb84-29"><a href="silv.html#cb84-29" tabindex="-1"></a>  <span class="co"># ggplot</span></span>
<span id="cb84-30"><a href="silv.html#cb84-30" tabindex="-1"></a>  plt_rgb <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb84-31"><a href="silv.html#cb84-31" tabindex="-1"></a>    stars<span class="sc">::</span><span class="fu">geom_stars</span>(<span class="at">data =</span> ortho_rgb[]) <span class="sc">+</span></span>
<span id="cb84-32"><a href="silv.html#cb84-32" tabindex="-1"></a>    <span class="fu">scale_fill_identity</span>(<span class="at">na.value =</span> <span class="st">&quot;transparent&quot;</span>) <span class="sc">+</span> <span class="co"># !!! don&#39;t take this out or RGB plot will kill your computer</span></span>
<span id="cb84-33"><a href="silv.html#cb84-33" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb84-34"><a href="silv.html#cb84-34" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb84-35"><a href="silv.html#cb84-35" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb84-36"><a href="silv.html#cb84-36" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb84-37"><a href="silv.html#cb84-37" tabindex="-1"></a>      , <span class="at">y =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb84-38"><a href="silv.html#cb84-38" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb84-39"><a href="silv.html#cb84-39" tabindex="-1"></a>    <span class="fu">theme_void</span>()</span>
<span id="cb84-40"><a href="silv.html#cb84-40" tabindex="-1"></a>  </span>
<span id="cb84-41"><a href="silv.html#cb84-41" tabindex="-1"></a>  <span class="co"># chm</span></span>
<span id="cb84-42"><a href="silv.html#cb84-42" tabindex="-1"></a>  chm <span class="ot">=</span> chm_rast <span class="sc">%&gt;%</span> </span>
<span id="cb84-43"><a href="silv.html#cb84-43" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">crop</span>(</span>
<span id="cb84-44"><a href="silv.html#cb84-44" tabindex="-1"></a>      harvests <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(suid<span class="sc">==</span>my_suid) <span class="sc">%&gt;%</span> </span>
<span id="cb84-45"><a href="silv.html#cb84-45" tabindex="-1"></a>      terra<span class="sc">::</span><span class="fu">vect</span>()</span>
<span id="cb84-46"><a href="silv.html#cb84-46" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb84-47"><a href="silv.html#cb84-47" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">mask</span>(</span>
<span id="cb84-48"><a href="silv.html#cb84-48" tabindex="-1"></a>      harvests <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(suid<span class="sc">==</span>my_suid) <span class="sc">%&gt;%</span> </span>
<span id="cb84-49"><a href="silv.html#cb84-49" tabindex="-1"></a>      terra<span class="sc">::</span><span class="fu">vect</span>()</span>
<span id="cb84-50"><a href="silv.html#cb84-50" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb84-51"><a href="silv.html#cb84-51" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">aggregate</span>(<span class="at">fact =</span> <span class="dv">2</span>, <span class="at">fun =</span> <span class="st">&quot;mean&quot;</span>, <span class="at">na.rm =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb84-52"><a href="silv.html#cb84-52" tabindex="-1"></a>    <span class="st">`</span><span class="at">*</span><span class="st">`</span>(<span class="fl">3.28</span>) <span class="sc">%&gt;%</span> <span class="co"># transform to feet</span></span>
<span id="cb84-53"><a href="silv.html#cb84-53" tabindex="-1"></a>    <span class="fu">as.data.frame</span>(<span class="at">xy=</span>T) <span class="sc">%&gt;%</span> </span>
<span id="cb84-54"><a href="silv.html#cb84-54" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">f=</span><span class="dv">3</span>)</span>
<span id="cb84-55"><a href="silv.html#cb84-55" tabindex="-1"></a>  </span>
<span id="cb84-56"><a href="silv.html#cb84-56" tabindex="-1"></a>  <span class="co"># return(plt_rgb)</span></span>
<span id="cb84-57"><a href="silv.html#cb84-57" tabindex="-1"></a>  <span class="co"># combine all plot elements</span></span>
<span id="cb84-58"><a href="silv.html#cb84-58" tabindex="-1"></a>  plt_combine <span class="ot">=</span> plt_rgb <span class="sc">+</span></span>
<span id="cb84-59"><a href="silv.html#cb84-59" tabindex="-1"></a>    <span class="co"># # understory</span></span>
<span id="cb84-60"><a href="silv.html#cb84-60" tabindex="-1"></a>    <span class="co"># geom_tile(</span></span>
<span id="cb84-61"><a href="silv.html#cb84-61" tabindex="-1"></a>    <span class="co">#   data = chm %&gt;% </span></span>
<span id="cb84-62"><a href="silv.html#cb84-62" tabindex="-1"></a>    <span class="co">#     dplyr::filter(</span></span>
<span id="cb84-63"><a href="silv.html#cb84-63" tabindex="-1"></a>    <span class="co">#       f &lt;</span></span>
<span id="cb84-64"><a href="silv.html#cb84-64" tabindex="-1"></a>    <span class="co">#       pred_mod_best %&gt;%</span></span>
<span id="cb84-65"><a href="silv.html#cb84-65" tabindex="-1"></a>    <span class="co">#         dplyr::filter(estimate_in &lt; ustory_max_tree_dbh_cm/2.54) %&gt;% </span></span>
<span id="cb84-66"><a href="silv.html#cb84-66" tabindex="-1"></a>    <span class="co">#         dplyr::pull(tree_height_ft) %&gt;% max()</span></span>
<span id="cb84-67"><a href="silv.html#cb84-67" tabindex="-1"></a>    <span class="co">#     )</span></span>
<span id="cb84-68"><a href="silv.html#cb84-68" tabindex="-1"></a>    <span class="co">#   , mapping = aes(x = x, y = y)</span></span>
<span id="cb84-69"><a href="silv.html#cb84-69" tabindex="-1"></a>    <span class="co">#   , fill = &quot;gray&quot;</span></span>
<span id="cb84-70"><a href="silv.html#cb84-70" tabindex="-1"></a>    <span class="co">#   , alpha = 0.4</span></span>
<span id="cb84-71"><a href="silv.html#cb84-71" tabindex="-1"></a>    <span class="co">#   , na.rm = T</span></span>
<span id="cb84-72"><a href="silv.html#cb84-72" tabindex="-1"></a>    <span class="co"># ) +</span></span>
<span id="cb84-73"><a href="silv.html#cb84-73" tabindex="-1"></a>    <span class="co"># overstory</span></span>
<span id="cb84-74"><a href="silv.html#cb84-74" tabindex="-1"></a>    ggnewscale<span class="sc">::</span><span class="fu">new_scale_fill</span>() <span class="sc">+</span></span>
<span id="cb84-75"><a href="silv.html#cb84-75" tabindex="-1"></a>    <span class="fu">geom_tile</span>(</span>
<span id="cb84-76"><a href="silv.html#cb84-76" tabindex="-1"></a>      <span class="at">data =</span> chm <span class="sc">%&gt;%</span> </span>
<span id="cb84-77"><a href="silv.html#cb84-77" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb84-78"><a href="silv.html#cb84-78" tabindex="-1"></a>          f <span class="sc">&gt;=</span></span>
<span id="cb84-79"><a href="silv.html#cb84-79" tabindex="-1"></a>          pred_mod_best <span class="sc">%&gt;%</span></span>
<span id="cb84-80"><a href="silv.html#cb84-80" tabindex="-1"></a>            dplyr<span class="sc">::</span><span class="fu">filter</span>(estimate_in <span class="sc">&gt;=</span> ostory_min_tree_dbh_cm<span class="sc">/</span><span class="fl">2.54</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb84-81"><a href="silv.html#cb84-81" tabindex="-1"></a>            dplyr<span class="sc">::</span><span class="fu">pull</span>(tree_height_ft) <span class="sc">%&gt;%</span> <span class="fu">min</span>()</span>
<span id="cb84-82"><a href="silv.html#cb84-82" tabindex="-1"></a>        )</span>
<span id="cb84-83"><a href="silv.html#cb84-83" tabindex="-1"></a>      , <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">fill =</span> f)</span>
<span id="cb84-84"><a href="silv.html#cb84-84" tabindex="-1"></a>      , <span class="at">na.rm =</span> T</span>
<span id="cb84-85"><a href="silv.html#cb84-85" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb84-86"><a href="silv.html#cb84-86" tabindex="-1"></a>    <span class="fu">scale_fill_viridis_c</span>(<span class="at">option=</span><span class="st">&quot;plasma&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">6</span>), <span class="at">na.value =</span> <span class="st">&quot;transparent&quot;</span>) <span class="sc">+</span></span>
<span id="cb84-87"><a href="silv.html#cb84-87" tabindex="-1"></a>    <span class="fu">geom_sf</span>(</span>
<span id="cb84-88"><a href="silv.html#cb84-88" tabindex="-1"></a>      <span class="at">data =</span> harvests <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(suid<span class="sc">==</span>my_suid)</span>
<span id="cb84-89"><a href="silv.html#cb84-89" tabindex="-1"></a>      , <span class="at">alpha =</span> <span class="dv">0</span></span>
<span id="cb84-90"><a href="silv.html#cb84-90" tabindex="-1"></a>      , <span class="at">lwd =</span> <span class="fl">1.5</span></span>
<span id="cb84-91"><a href="silv.html#cb84-91" tabindex="-1"></a>      , <span class="at">color =</span> <span class="st">&quot;#b22222&quot;</span></span>
<span id="cb84-92"><a href="silv.html#cb84-92" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb84-93"><a href="silv.html#cb84-93" tabindex="-1"></a>    <span class="co"># geom_sf(</span></span>
<span id="cb84-94"><a href="silv.html#cb84-94" tabindex="-1"></a>    <span class="co">#   data = treetops_sf_with_dbh %&gt;% </span></span>
<span id="cb84-95"><a href="silv.html#cb84-95" tabindex="-1"></a>    <span class="co">#     sf::st_intersection(harvests %&gt;% dplyr::filter(suid==my_suid))</span></span>
<span id="cb84-96"><a href="silv.html#cb84-96" tabindex="-1"></a>    <span class="co">#   , color = &quot;#330099&quot;</span></span>
<span id="cb84-97"><a href="silv.html#cb84-97" tabindex="-1"></a>    <span class="co">#   , shape = &quot;.&quot;</span></span>
<span id="cb84-98"><a href="silv.html#cb84-98" tabindex="-1"></a>    <span class="co"># ) +</span></span>
<span id="cb84-99"><a href="silv.html#cb84-99" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb84-100"><a href="silv.html#cb84-100" tabindex="-1"></a>      <span class="at">fill =</span> <span class="st">&quot;overstory</span><span class="sc">\n</span><span class="st">canopy ht. (ft)&quot;</span></span>
<span id="cb84-101"><a href="silv.html#cb84-101" tabindex="-1"></a>      <span class="co"># , title = &quot;Trees identified within stand boundary&quot;</span></span>
<span id="cb84-102"><a href="silv.html#cb84-102" tabindex="-1"></a>      <span class="co"># , title = &quot;&lt;span&gt;&lt;span style=&#39;color:#330099;&#39;&gt;&lt;b&gt;&lt;i&gt;Trees&lt;/i&gt;&lt;/b&gt;&lt;/span&gt; identified within &lt;span style=&#39;color:#b22222;&#39;&gt;&lt;b&gt;&lt;i&gt;stand&lt;/i&gt;&lt;/b&gt;&lt;/span&gt; boundary&lt;/span&gt;&quot;</span></span>
<span id="cb84-103"><a href="silv.html#cb84-103" tabindex="-1"></a>      , <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb84-104"><a href="silv.html#cb84-104" tabindex="-1"></a>        <span class="st">&quot;Overstory (&gt;= &quot;</span></span>
<span id="cb84-105"><a href="silv.html#cb84-105" tabindex="-1"></a>        , scales<span class="sc">::</span><span class="fu">comma</span>(ostory_min_tree_dbh_cm<span class="sc">/</span><span class="fl">2.54</span>,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb84-106"><a href="silv.html#cb84-106" tabindex="-1"></a>        , <span class="st">&quot; in. DBH) within stand boundary&quot;</span></span>
<span id="cb84-107"><a href="silv.html#cb84-107" tabindex="-1"></a>      )</span>
<span id="cb84-108"><a href="silv.html#cb84-108" tabindex="-1"></a>      <span class="co"># , subtitle = paste0(</span></span>
<span id="cb84-109"><a href="silv.html#cb84-109" tabindex="-1"></a>      <span class="co">#   &quot;trees under &quot;</span></span>
<span id="cb84-110"><a href="silv.html#cb84-110" tabindex="-1"></a>      <span class="co">#   , scales::comma((ustory_max_tree_dbh_cm/2.54),accuracy = 0.1)</span></span>
<span id="cb84-111"><a href="silv.html#cb84-111" tabindex="-1"></a>      <span class="co">#   , &quot; in. DBH shown in gray&quot;</span></span>
<span id="cb84-112"><a href="silv.html#cb84-112" tabindex="-1"></a>      <span class="co"># )</span></span>
<span id="cb84-113"><a href="silv.html#cb84-113" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb84-114"><a href="silv.html#cb84-114" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb84-115"><a href="silv.html#cb84-115" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span> <span class="co"># c(0.5,1)</span></span>
<span id="cb84-116"><a href="silv.html#cb84-116" tabindex="-1"></a>      , <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb84-117"><a href="silv.html#cb84-117" tabindex="-1"></a>      , <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="sc">-</span><span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb84-118"><a href="silv.html#cb84-118" tabindex="-1"></a>      , <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb84-119"><a href="silv.html#cb84-119" tabindex="-1"></a>      , <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb84-120"><a href="silv.html#cb84-120" tabindex="-1"></a>      <span class="co"># , plot.title = ggtext::element_markdown(size = 10, hjust = 0.5)</span></span>
<span id="cb84-121"><a href="silv.html#cb84-121" tabindex="-1"></a>      , <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb84-122"><a href="silv.html#cb84-122" tabindex="-1"></a>      , <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">&quot;italic&quot;</span>)</span>
<span id="cb84-123"><a href="silv.html#cb84-123" tabindex="-1"></a>    )</span>
<span id="cb84-124"><a href="silv.html#cb84-124" tabindex="-1"></a>  <span class="fu">return</span>(plt_combine)</span>
<span id="cb84-125"><a href="silv.html#cb84-125" tabindex="-1"></a>}</span>
<span id="cb84-126"><a href="silv.html#cb84-126" tabindex="-1"></a><span class="co"># ortho_plt_fn(harvests$suid[3])</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>dbh distribution plot</li>
</ol>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="silv.html#cb85-1" tabindex="-1"></a>dbh_dist_fn <span class="ot">=</span> <span class="cf">function</span>(my_suid){</span>
<span id="cb85-2"><a href="silv.html#cb85-2" tabindex="-1"></a>  harvests_trees <span class="sc">%&gt;%</span> </span>
<span id="cb85-3"><a href="silv.html#cb85-3" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb85-4"><a href="silv.html#cb85-4" tabindex="-1"></a>      suid <span class="sc">==</span> my_suid</span>
<span id="cb85-5"><a href="silv.html#cb85-5" tabindex="-1"></a>      <span class="sc">&amp;</span> dbh_cm <span class="sc">&gt;=</span> ostory_min_tree_dbh_cm</span>
<span id="cb85-6"><a href="silv.html#cb85-6" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb85-7"><a href="silv.html#cb85-7" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb85-8"><a href="silv.html#cb85-8" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(treeID, dbh_in) <span class="sc">%&gt;%</span> </span>
<span id="cb85-9"><a href="silv.html#cb85-9" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb85-10"><a href="silv.html#cb85-10" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb85-11"><a href="silv.html#cb85-11" tabindex="-1"></a>      <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> dbh_in)</span>
<span id="cb85-12"><a href="silv.html#cb85-12" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb85-13"><a href="silv.html#cb85-13" tabindex="-1"></a>      <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">fill =</span> <span class="st">&quot;navy&quot;</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span> </span>
<span id="cb85-14"><a href="silv.html#cb85-14" tabindex="-1"></a>      <span class="fu">labs</span>(</span>
<span id="cb85-15"><a href="silv.html#cb85-15" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">&quot;DBH (in)&quot;</span></span>
<span id="cb85-16"><a href="silv.html#cb85-16" tabindex="-1"></a>        , <span class="at">y =</span> <span class="st">&quot;density&quot;</span></span>
<span id="cb85-17"><a href="silv.html#cb85-17" tabindex="-1"></a>        , <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb85-18"><a href="silv.html#cb85-18" tabindex="-1"></a>          <span class="st">&quot;Overstory (&gt;= &quot;</span></span>
<span id="cb85-19"><a href="silv.html#cb85-19" tabindex="-1"></a>          , scales<span class="sc">::</span><span class="fu">comma</span>(ostory_min_tree_dbh_cm<span class="sc">/</span><span class="fl">2.54</span>,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb85-20"><a href="silv.html#cb85-20" tabindex="-1"></a>          , <span class="st">&quot; in. DBH) DBH distribution&quot;</span></span>
<span id="cb85-21"><a href="silv.html#cb85-21" tabindex="-1"></a>        )</span>
<span id="cb85-22"><a href="silv.html#cb85-22" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb85-23"><a href="silv.html#cb85-23" tabindex="-1"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb85-24"><a href="silv.html#cb85-24" tabindex="-1"></a>      <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb85-25"><a href="silv.html#cb85-25" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb85-26"><a href="silv.html#cb85-26" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb85-27"><a href="silv.html#cb85-27" tabindex="-1"></a>      )</span>
<span id="cb85-28"><a href="silv.html#cb85-28" tabindex="-1"></a>}</span>
<span id="cb85-29"><a href="silv.html#cb85-29" tabindex="-1"></a><span class="co"># dbh_dist_fn(harvests$suid[1])</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>height distribution plot</li>
</ol>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="silv.html#cb86-1" tabindex="-1"></a>ht_dist_fn <span class="ot">=</span> <span class="cf">function</span>(my_suid){</span>
<span id="cb86-2"><a href="silv.html#cb86-2" tabindex="-1"></a>  harvests_trees <span class="sc">%&gt;%</span> </span>
<span id="cb86-3"><a href="silv.html#cb86-3" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb86-4"><a href="silv.html#cb86-4" tabindex="-1"></a>      suid <span class="sc">==</span> my_suid</span>
<span id="cb86-5"><a href="silv.html#cb86-5" tabindex="-1"></a>      <span class="sc">&amp;</span> dbh_cm <span class="sc">&gt;=</span> ostory_min_tree_dbh_cm</span>
<span id="cb86-6"><a href="silv.html#cb86-6" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb86-7"><a href="silv.html#cb86-7" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb86-8"><a href="silv.html#cb86-8" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(treeID, tree_height_ft) <span class="sc">%&gt;%</span> </span>
<span id="cb86-9"><a href="silv.html#cb86-9" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb86-10"><a href="silv.html#cb86-10" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb86-11"><a href="silv.html#cb86-11" tabindex="-1"></a>      <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> tree_height_ft)</span>
<span id="cb86-12"><a href="silv.html#cb86-12" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb86-13"><a href="silv.html#cb86-13" tabindex="-1"></a>      <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span> </span>
<span id="cb86-14"><a href="silv.html#cb86-14" tabindex="-1"></a>      <span class="fu">labs</span>(</span>
<span id="cb86-15"><a href="silv.html#cb86-15" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">&quot;Height (ft)&quot;</span></span>
<span id="cb86-16"><a href="silv.html#cb86-16" tabindex="-1"></a>        , <span class="at">y =</span> <span class="st">&quot;density&quot;</span></span>
<span id="cb86-17"><a href="silv.html#cb86-17" tabindex="-1"></a>        , <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb86-18"><a href="silv.html#cb86-18" tabindex="-1"></a>          <span class="st">&quot;Overstory (&gt;= &quot;</span></span>
<span id="cb86-19"><a href="silv.html#cb86-19" tabindex="-1"></a>          , scales<span class="sc">::</span><span class="fu">comma</span>(ostory_min_tree_dbh_cm<span class="sc">/</span><span class="fl">2.54</span>,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb86-20"><a href="silv.html#cb86-20" tabindex="-1"></a>          , <span class="st">&quot; in. DBH) height distribution&quot;</span></span>
<span id="cb86-21"><a href="silv.html#cb86-21" tabindex="-1"></a>        )</span>
<span id="cb86-22"><a href="silv.html#cb86-22" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb86-23"><a href="silv.html#cb86-23" tabindex="-1"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n=</span><span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb86-24"><a href="silv.html#cb86-24" tabindex="-1"></a>      <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb86-25"><a href="silv.html#cb86-25" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb86-26"><a href="silv.html#cb86-26" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb86-27"><a href="silv.html#cb86-27" tabindex="-1"></a>      )</span>
<span id="cb86-28"><a href="silv.html#cb86-28" tabindex="-1"></a>}</span>
<span id="cb86-29"><a href="silv.html#cb86-29" tabindex="-1"></a><span class="co"># ht_dist_fn(harvests$suid[1])</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>silvicultural metrics imperial table</li>
</ol>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="silv.html#cb87-1" tabindex="-1"></a>tab_imp_fn <span class="ot">=</span> <span class="cf">function</span>(my_suid){</span>
<span id="cb87-2"><a href="silv.html#cb87-2" tabindex="-1"></a>  silv_metrics <span class="sc">%&gt;%</span> </span>
<span id="cb87-3"><a href="silv.html#cb87-3" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(suid <span class="sc">==</span> my_suid) <span class="sc">%&gt;%</span> </span>
<span id="cb87-4"><a href="silv.html#cb87-4" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb87-5"><a href="silv.html#cb87-5" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb87-6"><a href="silv.html#cb87-6" tabindex="-1"></a>      <span class="st">&quot;suid&quot;</span></span>
<span id="cb87-7"><a href="silv.html#cb87-7" tabindex="-1"></a>      , <span class="st">&quot;stand_area_ac&quot;</span></span>
<span id="cb87-8"><a href="silv.html#cb87-8" tabindex="-1"></a>      , <span class="st">&quot;n_trees&quot;</span></span>
<span id="cb87-9"><a href="silv.html#cb87-9" tabindex="-1"></a>      , <span class="st">&quot;trees_per_ac&quot;</span></span>
<span id="cb87-10"><a href="silv.html#cb87-10" tabindex="-1"></a>      , <span class="st">&quot;mean_dbh_in&quot;</span></span>
<span id="cb87-11"><a href="silv.html#cb87-11" tabindex="-1"></a>      , <span class="st">&quot;qmd_in&quot;</span></span>
<span id="cb87-12"><a href="silv.html#cb87-12" tabindex="-1"></a>      , <span class="st">&quot;mean_tree_height_ft&quot;</span></span>
<span id="cb87-13"><a href="silv.html#cb87-13" tabindex="-1"></a>      , <span class="st">&quot;loreys_height_ft&quot;</span></span>
<span id="cb87-14"><a href="silv.html#cb87-14" tabindex="-1"></a>      , <span class="st">&quot;basal_area_ft2_per_ac&quot;</span></span>
<span id="cb87-15"><a href="silv.html#cb87-15" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb87-16"><a href="silv.html#cb87-16" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb87-17"><a href="silv.html#cb87-17" tabindex="-1"></a>      <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(suid), <span class="at">names_to =</span> <span class="st">&quot;metric&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;val&quot;</span></span>
<span id="cb87-18"><a href="silv.html#cb87-18" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb87-19"><a href="silv.html#cb87-19" tabindex="-1"></a>    <span class="co"># order metrics</span></span>
<span id="cb87-20"><a href="silv.html#cb87-20" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb87-21"><a href="silv.html#cb87-21" tabindex="-1"></a>      <span class="at">metric =</span> <span class="fu">factor</span>(</span>
<span id="cb87-22"><a href="silv.html#cb87-22" tabindex="-1"></a>        metric</span>
<span id="cb87-23"><a href="silv.html#cb87-23" tabindex="-1"></a>        , <span class="at">ordered =</span> T</span>
<span id="cb87-24"><a href="silv.html#cb87-24" tabindex="-1"></a>        , <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb87-25"><a href="silv.html#cb87-25" tabindex="-1"></a>            <span class="st">&quot;stand_area_ac&quot;</span></span>
<span id="cb87-26"><a href="silv.html#cb87-26" tabindex="-1"></a>            , <span class="st">&quot;n_trees&quot;</span></span>
<span id="cb87-27"><a href="silv.html#cb87-27" tabindex="-1"></a>            , <span class="st">&quot;trees_per_ac&quot;</span></span>
<span id="cb87-28"><a href="silv.html#cb87-28" tabindex="-1"></a>            , <span class="st">&quot;mean_tree_height_ft&quot;</span></span>
<span id="cb87-29"><a href="silv.html#cb87-29" tabindex="-1"></a>            , <span class="st">&quot;loreys_height_ft&quot;</span></span>
<span id="cb87-30"><a href="silv.html#cb87-30" tabindex="-1"></a>            , <span class="st">&quot;mean_dbh_in&quot;</span></span>
<span id="cb87-31"><a href="silv.html#cb87-31" tabindex="-1"></a>            , <span class="st">&quot;qmd_in&quot;</span></span>
<span id="cb87-32"><a href="silv.html#cb87-32" tabindex="-1"></a>            , <span class="st">&quot;basal_area_ft2_per_ac&quot;</span></span>
<span id="cb87-33"><a href="silv.html#cb87-33" tabindex="-1"></a>          )</span>
<span id="cb87-34"><a href="silv.html#cb87-34" tabindex="-1"></a>        , <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb87-35"><a href="silv.html#cb87-35" tabindex="-1"></a>            latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Stand Area (ac)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb87-36"><a href="silv.html#cb87-36" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Number of Trees&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb87-37"><a href="silv.html#cb87-37" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Trees $ac^{-1}$&quot;</span>)</span>
<span id="cb87-38"><a href="silv.html#cb87-38" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Mean Tree Height (ft)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb87-39"><a href="silv.html#cb87-39" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Lorey&#39;s Mean Height (ft)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb87-40"><a href="silv.html#cb87-40" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Mean DBH (in)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb87-41"><a href="silv.html#cb87-41" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;QMD (in)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb87-42"><a href="silv.html#cb87-42" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Basal Area $ft^{2} </span><span class="sc">\\</span><span class="st">cdot ac^{-1}$&quot;</span>)</span>
<span id="cb87-43"><a href="silv.html#cb87-43" tabindex="-1"></a>          )</span>
<span id="cb87-44"><a href="silv.html#cb87-44" tabindex="-1"></a>      )</span>
<span id="cb87-45"><a href="silv.html#cb87-45" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb87-46"><a href="silv.html#cb87-46" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">val =</span> scales<span class="sc">::</span><span class="fu">comma</span>(val,<span class="at">accuracy=</span><span class="fl">0.1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb87-47"><a href="silv.html#cb87-47" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(metric, val) <span class="sc">%&gt;%</span> </span>
<span id="cb87-48"><a href="silv.html#cb87-48" tabindex="-1"></a>    ggpubr<span class="sc">::</span><span class="fu">ggtexttable</span>(</span>
<span id="cb87-49"><a href="silv.html#cb87-49" tabindex="-1"></a>      <span class="at">rows =</span> <span class="cn">NULL</span></span>
<span id="cb87-50"><a href="silv.html#cb87-50" tabindex="-1"></a>      , <span class="at">cols =</span> <span class="fu">rep</span>(<span class="st">&quot;&quot;</span>, <span class="dv">2</span>)</span>
<span id="cb87-51"><a href="silv.html#cb87-51" tabindex="-1"></a>      , <span class="at">theme =</span> ggpubr<span class="sc">::</span><span class="fu">ttheme</span>(</span>
<span id="cb87-52"><a href="silv.html#cb87-52" tabindex="-1"></a>        <span class="at">base_style =</span> <span class="st">&quot;blank&quot;</span></span>
<span id="cb87-53"><a href="silv.html#cb87-53" tabindex="-1"></a>        , <span class="at">tbody.style =</span> ggpubr<span class="sc">::</span><span class="fu">tbody_style</span>(</span>
<span id="cb87-54"><a href="silv.html#cb87-54" tabindex="-1"></a>          <span class="at">parse =</span> T, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">linecolor =</span> <span class="st">&quot;gray&quot;</span></span>
<span id="cb87-55"><a href="silv.html#cb87-55" tabindex="-1"></a>          , <span class="at">size =</span> <span class="dv">10</span></span>
<span id="cb87-56"><a href="silv.html#cb87-56" tabindex="-1"></a>        )</span>
<span id="cb87-57"><a href="silv.html#cb87-57" tabindex="-1"></a>      )</span>
<span id="cb87-58"><a href="silv.html#cb87-58" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb87-59"><a href="silv.html#cb87-59" tabindex="-1"></a>    ggpubr<span class="sc">::</span><span class="fu">tab_add_title</span>(</span>
<span id="cb87-60"><a href="silv.html#cb87-60" tabindex="-1"></a>      <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb87-61"><a href="silv.html#cb87-61" tabindex="-1"></a>        <span class="st">&quot;Silvicultural Metrics (imperial)&quot;</span></span>
<span id="cb87-62"><a href="silv.html#cb87-62" tabindex="-1"></a>        , <span class="st">&quot;</span><span class="sc">\n</span><span class="st">Overstory (&gt;= &quot;</span></span>
<span id="cb87-63"><a href="silv.html#cb87-63" tabindex="-1"></a>        , scales<span class="sc">::</span><span class="fu">comma</span>(ostory_min_tree_dbh_cm<span class="sc">/</span><span class="fl">2.54</span>,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb87-64"><a href="silv.html#cb87-64" tabindex="-1"></a>        , <span class="st">&quot; in. DBH)&quot;</span></span>
<span id="cb87-65"><a href="silv.html#cb87-65" tabindex="-1"></a>        )</span>
<span id="cb87-66"><a href="silv.html#cb87-66" tabindex="-1"></a>      , <span class="at">face =</span> <span class="st">&quot;bold&quot;</span></span>
<span id="cb87-67"><a href="silv.html#cb87-67" tabindex="-1"></a>      , <span class="at">size =</span> <span class="dv">10</span>, <span class="at">padding =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">&quot;line&quot;</span>)</span>
<span id="cb87-68"><a href="silv.html#cb87-68" tabindex="-1"></a>    )</span>
<span id="cb87-69"><a href="silv.html#cb87-69" tabindex="-1"></a>}</span>
<span id="cb87-70"><a href="silv.html#cb87-70" tabindex="-1"></a></span>
<span id="cb87-71"><a href="silv.html#cb87-71" tabindex="-1"></a><span class="co"># tab_imp_fn(harvests$suid[2])</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>silvicultural metrics metric table</li>
</ol>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="silv.html#cb88-1" tabindex="-1"></a>tab_met_fn <span class="ot">=</span> <span class="cf">function</span>(my_suid){</span>
<span id="cb88-2"><a href="silv.html#cb88-2" tabindex="-1"></a>  silv_metrics <span class="sc">%&gt;%</span> </span>
<span id="cb88-3"><a href="silv.html#cb88-3" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(suid <span class="sc">==</span> my_suid) <span class="sc">%&gt;%</span> </span>
<span id="cb88-4"><a href="silv.html#cb88-4" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb88-5"><a href="silv.html#cb88-5" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb88-6"><a href="silv.html#cb88-6" tabindex="-1"></a>      <span class="st">&quot;suid&quot;</span></span>
<span id="cb88-7"><a href="silv.html#cb88-7" tabindex="-1"></a>      , <span class="st">&quot;stand_area_ha&quot;</span></span>
<span id="cb88-8"><a href="silv.html#cb88-8" tabindex="-1"></a>      , <span class="st">&quot;n_trees&quot;</span></span>
<span id="cb88-9"><a href="silv.html#cb88-9" tabindex="-1"></a>      , <span class="st">&quot;trees_per_ha&quot;</span></span>
<span id="cb88-10"><a href="silv.html#cb88-10" tabindex="-1"></a>      , <span class="st">&quot;mean_dbh_cm&quot;</span></span>
<span id="cb88-11"><a href="silv.html#cb88-11" tabindex="-1"></a>      , <span class="st">&quot;qmd_cm&quot;</span></span>
<span id="cb88-12"><a href="silv.html#cb88-12" tabindex="-1"></a>      , <span class="st">&quot;mean_tree_height_m&quot;</span></span>
<span id="cb88-13"><a href="silv.html#cb88-13" tabindex="-1"></a>      , <span class="st">&quot;loreys_height_m&quot;</span></span>
<span id="cb88-14"><a href="silv.html#cb88-14" tabindex="-1"></a>      , <span class="st">&quot;basal_area_m2_per_ha&quot;</span></span>
<span id="cb88-15"><a href="silv.html#cb88-15" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb88-16"><a href="silv.html#cb88-16" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb88-17"><a href="silv.html#cb88-17" tabindex="-1"></a>      <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(suid), <span class="at">names_to =</span> <span class="st">&quot;metric&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;val&quot;</span></span>
<span id="cb88-18"><a href="silv.html#cb88-18" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb88-19"><a href="silv.html#cb88-19" tabindex="-1"></a>    <span class="co"># order metrics</span></span>
<span id="cb88-20"><a href="silv.html#cb88-20" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb88-21"><a href="silv.html#cb88-21" tabindex="-1"></a>      <span class="at">metric =</span> <span class="fu">factor</span>(</span>
<span id="cb88-22"><a href="silv.html#cb88-22" tabindex="-1"></a>        metric</span>
<span id="cb88-23"><a href="silv.html#cb88-23" tabindex="-1"></a>        , <span class="at">ordered =</span> T</span>
<span id="cb88-24"><a href="silv.html#cb88-24" tabindex="-1"></a>        , <span class="at">levels =</span> <span class="fu">c</span>(</span>
<span id="cb88-25"><a href="silv.html#cb88-25" tabindex="-1"></a>            <span class="st">&quot;stand_area_ha&quot;</span></span>
<span id="cb88-26"><a href="silv.html#cb88-26" tabindex="-1"></a>            , <span class="st">&quot;n_trees&quot;</span></span>
<span id="cb88-27"><a href="silv.html#cb88-27" tabindex="-1"></a>            , <span class="st">&quot;trees_per_ha&quot;</span></span>
<span id="cb88-28"><a href="silv.html#cb88-28" tabindex="-1"></a>            , <span class="st">&quot;mean_tree_height_m&quot;</span></span>
<span id="cb88-29"><a href="silv.html#cb88-29" tabindex="-1"></a>            , <span class="st">&quot;loreys_height_m&quot;</span></span>
<span id="cb88-30"><a href="silv.html#cb88-30" tabindex="-1"></a>            , <span class="st">&quot;mean_dbh_cm&quot;</span></span>
<span id="cb88-31"><a href="silv.html#cb88-31" tabindex="-1"></a>            , <span class="st">&quot;qmd_cm&quot;</span></span>
<span id="cb88-32"><a href="silv.html#cb88-32" tabindex="-1"></a>            , <span class="st">&quot;basal_area_m2_per_ha&quot;</span></span>
<span id="cb88-33"><a href="silv.html#cb88-33" tabindex="-1"></a>          )</span>
<span id="cb88-34"><a href="silv.html#cb88-34" tabindex="-1"></a>        , <span class="at">labels =</span> <span class="fu">c</span>(</span>
<span id="cb88-35"><a href="silv.html#cb88-35" tabindex="-1"></a>            latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Stand Area (ha)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb88-36"><a href="silv.html#cb88-36" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Number of Trees&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb88-37"><a href="silv.html#cb88-37" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Trees $ha^{-1}$&quot;</span>)</span>
<span id="cb88-38"><a href="silv.html#cb88-38" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Mean Tree Height (m)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb88-39"><a href="silv.html#cb88-39" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Lorey&#39;s Mean Height (m)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb88-40"><a href="silv.html#cb88-40" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Mean DBH (cm)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb88-41"><a href="silv.html#cb88-41" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;QMD (cm)&quot;</span>, <span class="at">output =</span> <span class="st">&quot;character&quot;</span>)</span>
<span id="cb88-42"><a href="silv.html#cb88-42" tabindex="-1"></a>            , latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;Basal Area $m^{2} </span><span class="sc">\\</span><span class="st">cdot ha^{-1}$&quot;</span>)</span>
<span id="cb88-43"><a href="silv.html#cb88-43" tabindex="-1"></a>          )</span>
<span id="cb88-44"><a href="silv.html#cb88-44" tabindex="-1"></a>      )</span>
<span id="cb88-45"><a href="silv.html#cb88-45" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb88-46"><a href="silv.html#cb88-46" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">val =</span> scales<span class="sc">::</span><span class="fu">comma</span>(val,<span class="at">accuracy=</span><span class="fl">0.1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb88-47"><a href="silv.html#cb88-47" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(metric, val) <span class="sc">%&gt;%</span> </span>
<span id="cb88-48"><a href="silv.html#cb88-48" tabindex="-1"></a>    ggpubr<span class="sc">::</span><span class="fu">ggtexttable</span>(</span>
<span id="cb88-49"><a href="silv.html#cb88-49" tabindex="-1"></a>      <span class="at">rows =</span> <span class="cn">NULL</span></span>
<span id="cb88-50"><a href="silv.html#cb88-50" tabindex="-1"></a>      , <span class="at">cols =</span> <span class="fu">rep</span>(<span class="st">&quot;&quot;</span>, <span class="dv">2</span>)</span>
<span id="cb88-51"><a href="silv.html#cb88-51" tabindex="-1"></a>      , <span class="at">theme =</span> ggpubr<span class="sc">::</span><span class="fu">ttheme</span>(</span>
<span id="cb88-52"><a href="silv.html#cb88-52" tabindex="-1"></a>        <span class="at">base_style =</span> <span class="st">&quot;blank&quot;</span></span>
<span id="cb88-53"><a href="silv.html#cb88-53" tabindex="-1"></a>        , <span class="at">tbody.style =</span> ggpubr<span class="sc">::</span><span class="fu">tbody_style</span>(</span>
<span id="cb88-54"><a href="silv.html#cb88-54" tabindex="-1"></a>          <span class="at">parse =</span> T, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">linecolor =</span> <span class="st">&quot;gray&quot;</span></span>
<span id="cb88-55"><a href="silv.html#cb88-55" tabindex="-1"></a>          , <span class="at">size =</span> <span class="dv">10</span></span>
<span id="cb88-56"><a href="silv.html#cb88-56" tabindex="-1"></a>        )</span>
<span id="cb88-57"><a href="silv.html#cb88-57" tabindex="-1"></a>      )</span>
<span id="cb88-58"><a href="silv.html#cb88-58" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb88-59"><a href="silv.html#cb88-59" tabindex="-1"></a>    ggpubr<span class="sc">::</span><span class="fu">tab_add_title</span>(</span>
<span id="cb88-60"><a href="silv.html#cb88-60" tabindex="-1"></a>      <span class="at">text =</span> <span class="fu">paste0</span>(</span>
<span id="cb88-61"><a href="silv.html#cb88-61" tabindex="-1"></a>        <span class="st">&quot;Silvicultural Metrics (metric)&quot;</span></span>
<span id="cb88-62"><a href="silv.html#cb88-62" tabindex="-1"></a>        , <span class="st">&quot;</span><span class="sc">\n</span><span class="st">Overstory (&gt;= &quot;</span></span>
<span id="cb88-63"><a href="silv.html#cb88-63" tabindex="-1"></a>        , scales<span class="sc">::</span><span class="fu">comma</span>(ostory_min_tree_dbh_cm,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb88-64"><a href="silv.html#cb88-64" tabindex="-1"></a>        , <span class="st">&quot; cm DBH)&quot;</span></span>
<span id="cb88-65"><a href="silv.html#cb88-65" tabindex="-1"></a>        )</span>
<span id="cb88-66"><a href="silv.html#cb88-66" tabindex="-1"></a>      , <span class="at">face =</span> <span class="st">&quot;bold&quot;</span></span>
<span id="cb88-67"><a href="silv.html#cb88-67" tabindex="-1"></a>      , <span class="at">size =</span> <span class="dv">10</span>, <span class="at">padding =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>, <span class="st">&quot;line&quot;</span>)</span>
<span id="cb88-68"><a href="silv.html#cb88-68" tabindex="-1"></a>    )</span>
<span id="cb88-69"><a href="silv.html#cb88-69" tabindex="-1"></a>}</span>
<span id="cb88-70"><a href="silv.html#cb88-70" tabindex="-1"></a></span>
<span id="cb88-71"><a href="silv.html#cb88-71" tabindex="-1"></a><span class="co"># tab_met_fn(harvests$suid[2])</span></span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>inset map plot</li>
</ol>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="silv.html#cb89-1" tabindex="-1"></a>plt_inset_map_fn <span class="ot">&lt;-</span> <span class="cf">function</span>(my_suid){</span>
<span id="cb89-2"><a href="silv.html#cb89-2" tabindex="-1"></a>  (</span>
<span id="cb89-3"><a href="silv.html#cb89-3" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb89-4"><a href="silv.html#cb89-4" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> bhef_boundary, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lwd =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb89-5"><a href="silv.html#cb89-5" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> harvests, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">lwd =</span> <span class="fl">0.4</span>, <span class="at">color =</span> <span class="st">&quot;gray&quot;</span>) <span class="sc">+</span></span>
<span id="cb89-6"><a href="silv.html#cb89-6" tabindex="-1"></a>      <span class="fu">geom_sf</span>(</span>
<span id="cb89-7"><a href="silv.html#cb89-7" tabindex="-1"></a>        <span class="at">data =</span> harvests <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(suid <span class="sc">==</span> my_suid)</span>
<span id="cb89-8"><a href="silv.html#cb89-8" tabindex="-1"></a>        , <span class="at">fill =</span> <span class="st">&quot;firebrick&quot;</span></span>
<span id="cb89-9"><a href="silv.html#cb89-9" tabindex="-1"></a>        , <span class="at">alpha =</span> <span class="fl">0.3</span></span>
<span id="cb89-10"><a href="silv.html#cb89-10" tabindex="-1"></a>        , <span class="at">lwd =</span> <span class="dv">1</span></span>
<span id="cb89-11"><a href="silv.html#cb89-11" tabindex="-1"></a>        , <span class="at">color =</span> <span class="st">&quot;firebrick&quot;</span></span>
<span id="cb89-12"><a href="silv.html#cb89-12" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb89-13"><a href="silv.html#cb89-13" tabindex="-1"></a>      <span class="co"># geom_sf_label(</span></span>
<span id="cb89-14"><a href="silv.html#cb89-14" tabindex="-1"></a>      <span class="co">#   data = rx_fire</span></span>
<span id="cb89-15"><a href="silv.html#cb89-15" tabindex="-1"></a>      <span class="co">#   , aes(label = unit)</span></span>
<span id="cb89-16"><a href="silv.html#cb89-16" tabindex="-1"></a>      <span class="co">#   , label.size = NA</span></span>
<span id="cb89-17"><a href="silv.html#cb89-17" tabindex="-1"></a>      <span class="co">#   , alpha = 0</span></span>
<span id="cb89-18"><a href="silv.html#cb89-18" tabindex="-1"></a>      <span class="co">#   , size = 2.5</span></span>
<span id="cb89-19"><a href="silv.html#cb89-19" tabindex="-1"></a>      <span class="co"># ) +</span></span>
<span id="cb89-20"><a href="silv.html#cb89-20" tabindex="-1"></a>      <span class="fu">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb89-21"><a href="silv.html#cb89-21" tabindex="-1"></a>      <span class="fu">ylab</span>(<span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb89-22"><a href="silv.html#cb89-22" tabindex="-1"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb89-23"><a href="silv.html#cb89-23" tabindex="-1"></a>      <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb89-24"><a href="silv.html#cb89-24" tabindex="-1"></a>      <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb89-25"><a href="silv.html#cb89-25" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb89-26"><a href="silv.html#cb89-26" tabindex="-1"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fl">3.5</span>)</span>
<span id="cb89-27"><a href="silv.html#cb89-27" tabindex="-1"></a>        , <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">35</span>)</span>
<span id="cb89-28"><a href="silv.html#cb89-28" tabindex="-1"></a>        , <span class="at">panel.border =</span> <span class="fu">element_blank</span>()</span>
<span id="cb89-29"><a href="silv.html#cb89-29" tabindex="-1"></a>      )</span>
<span id="cb89-30"><a href="silv.html#cb89-30" tabindex="-1"></a></span>
<span id="cb89-31"><a href="silv.html#cb89-31" tabindex="-1"></a>  )</span>
<span id="cb89-32"><a href="silv.html#cb89-32" tabindex="-1"></a>}</span>
<span id="cb89-33"><a href="silv.html#cb89-33" tabindex="-1"></a><span class="co"># plt_inset_map_fn(harvests$suid[4])</span></span></code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li>contour + elevation map plot</li>
</ol>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="silv.html#cb90-1" tabindex="-1"></a><span class="co"># sequence by 5&#39;s to get 5m breaks list for contour</span></span>
<span id="cb90-2"><a href="silv.html#cb90-2" tabindex="-1"></a>contour_int_m <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb90-3"><a href="silv.html#cb90-3" tabindex="-1"></a>seq_brk <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">40000</span>, contour_int_m)</span>
<span id="cb90-4"><a href="silv.html#cb90-4" tabindex="-1"></a><span class="co"># create contour data</span></span>
<span id="cb90-5"><a href="silv.html#cb90-5" tabindex="-1"></a>elev_contour <span class="ot">&lt;-</span> dtm_rast <span class="sc">%&gt;%</span> </span>
<span id="cb90-6"><a href="silv.html#cb90-6" tabindex="-1"></a>  stars<span class="sc">::</span><span class="fu">st_as_stars</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb90-7"><a href="silv.html#cb90-7" tabindex="-1"></a>  stars<span class="sc">::</span><span class="fu">st_contour</span>(</span>
<span id="cb90-8"><a href="silv.html#cb90-8" tabindex="-1"></a>    <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb90-9"><a href="silv.html#cb90-9" tabindex="-1"></a>    , <span class="at">contour_lines =</span> <span class="cn">FALSE</span></span>
<span id="cb90-10"><a href="silv.html#cb90-10" tabindex="-1"></a>    , <span class="at">breaks =</span> <span class="co"># classInt::classIntervals(na.omit(as.vector(x[[1]])))$brks</span></span>
<span id="cb90-11"><a href="silv.html#cb90-11" tabindex="-1"></a>        seq_brk[</span>
<span id="cb90-12"><a href="silv.html#cb90-12" tabindex="-1"></a>          seq_brk <span class="sc">&gt;</span> <span class="fu">min</span>(<span class="fu">na.omit</span>(<span class="fu">as.vector</span>(dtm_rast[[<span class="dv">1</span>]]))) <span class="sc">-</span> contour_int_m</span>
<span id="cb90-13"><a href="silv.html#cb90-13" tabindex="-1"></a>          <span class="sc">&amp;</span> seq_brk <span class="sc">&lt;</span> <span class="fu">max</span>(<span class="fu">na.omit</span>(<span class="fu">as.vector</span>(dtm_rast[[<span class="dv">1</span>]]))) <span class="sc">+</span> contour_int_m</span>
<span id="cb90-14"><a href="silv.html#cb90-14" tabindex="-1"></a>        ]</span>
<span id="cb90-15"><a href="silv.html#cb90-15" tabindex="-1"></a>  )</span>
<span id="cb90-16"><a href="silv.html#cb90-16" tabindex="-1"></a></span>
<span id="cb90-17"><a href="silv.html#cb90-17" tabindex="-1"></a>plt_contour_map_fn <span class="ot">&lt;-</span> <span class="cf">function</span>(my_suid){</span>
<span id="cb90-18"><a href="silv.html#cb90-18" tabindex="-1"></a>  (</span>
<span id="cb90-19"><a href="silv.html#cb90-19" tabindex="-1"></a>    <span class="do">#########################################</span></span>
<span id="cb90-20"><a href="silv.html#cb90-20" tabindex="-1"></a>    <span class="do">#########################################</span></span>
<span id="cb90-21"><a href="silv.html#cb90-21" tabindex="-1"></a>    <span class="co"># map of unit w/ contour</span></span>
<span id="cb90-22"><a href="silv.html#cb90-22" tabindex="-1"></a>    <span class="do">#########################################</span></span>
<span id="cb90-23"><a href="silv.html#cb90-23" tabindex="-1"></a>    <span class="do">#########################################</span></span>
<span id="cb90-24"><a href="silv.html#cb90-24" tabindex="-1"></a>    <span class="co"># plot</span></span>
<span id="cb90-25"><a href="silv.html#cb90-25" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb90-26"><a href="silv.html#cb90-26" tabindex="-1"></a>      <span class="fu">geom_tile</span>(</span>
<span id="cb90-27"><a href="silv.html#cb90-27" tabindex="-1"></a>        <span class="at">data =</span> dtm_rast <span class="sc">%&gt;%</span> </span>
<span id="cb90-28"><a href="silv.html#cb90-28" tabindex="-1"></a>          terra<span class="sc">::</span><span class="fu">crop</span>(</span>
<span id="cb90-29"><a href="silv.html#cb90-29" tabindex="-1"></a>            harvests <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(suid <span class="sc">==</span> my_suid) <span class="sc">%&gt;%</span> </span>
<span id="cb90-30"><a href="silv.html#cb90-30" tabindex="-1"></a>              sf<span class="sc">::</span><span class="fu">st_buffer</span>(<span class="at">dist =</span> <span class="dv">20</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb90-31"><a href="silv.html#cb90-31" tabindex="-1"></a>              sf<span class="sc">::</span><span class="fu">st_bbox</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb90-32"><a href="silv.html#cb90-32" tabindex="-1"></a>              sf<span class="sc">::</span><span class="fu">st_as_sfc</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb90-33"><a href="silv.html#cb90-33" tabindex="-1"></a>              terra<span class="sc">::</span><span class="fu">vect</span>()</span>
<span id="cb90-34"><a href="silv.html#cb90-34" tabindex="-1"></a>          ) <span class="sc">%&gt;%</span> </span>
<span id="cb90-35"><a href="silv.html#cb90-35" tabindex="-1"></a>          terra<span class="sc">::</span><span class="fu">aggregate</span>(<span class="at">fact=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb90-36"><a href="silv.html#cb90-36" tabindex="-1"></a>          <span class="st">`</span><span class="at">*</span><span class="st">`</span>(<span class="fl">3.28</span>) <span class="sc">%&gt;%</span> <span class="co"># transform to feet</span></span>
<span id="cb90-37"><a href="silv.html#cb90-37" tabindex="-1"></a>          <span class="fu">as.data.frame</span>(<span class="at">xy=</span>T) <span class="sc">%&gt;%</span> </span>
<span id="cb90-38"><a href="silv.html#cb90-38" tabindex="-1"></a>          dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">elev =</span> <span class="dv">3</span>)</span>
<span id="cb90-39"><a href="silv.html#cb90-39" tabindex="-1"></a>        , <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x=</span>x,<span class="at">y=</span>y,<span class="at">fill=</span>elev)</span>
<span id="cb90-40"><a href="silv.html#cb90-40" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb90-41"><a href="silv.html#cb90-41" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> elev_contour <span class="sc">%&gt;%</span> </span>
<span id="cb90-42"><a href="silv.html#cb90-42" tabindex="-1"></a>        sf<span class="sc">::</span><span class="fu">st_crop</span>(</span>
<span id="cb90-43"><a href="silv.html#cb90-43" tabindex="-1"></a>          harvests <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(suid <span class="sc">==</span> my_suid) <span class="sc">%&gt;%</span> </span>
<span id="cb90-44"><a href="silv.html#cb90-44" tabindex="-1"></a>          sf<span class="sc">::</span><span class="fu">st_buffer</span>(<span class="at">dist =</span> <span class="dv">20</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb90-45"><a href="silv.html#cb90-45" tabindex="-1"></a>          sf<span class="sc">::</span><span class="fu">st_bbox</span>()</span>
<span id="cb90-46"><a href="silv.html#cb90-46" tabindex="-1"></a>        )</span>
<span id="cb90-47"><a href="silv.html#cb90-47" tabindex="-1"></a>        , <span class="at">alpha =</span> <span class="dv">0</span></span>
<span id="cb90-48"><a href="silv.html#cb90-48" tabindex="-1"></a>        , <span class="at">lwd =</span> <span class="fl">0.5</span></span>
<span id="cb90-49"><a href="silv.html#cb90-49" tabindex="-1"></a>        , <span class="at">color =</span> <span class="st">&quot;gray30&quot;</span></span>
<span id="cb90-50"><a href="silv.html#cb90-50" tabindex="-1"></a>        , <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb90-51"><a href="silv.html#cb90-51" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb90-52"><a href="silv.html#cb90-52" tabindex="-1"></a>      <span class="fu">geom_sf</span>(<span class="at">data =</span> harvests <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(suid <span class="sc">==</span> my_suid)</span>
<span id="cb90-53"><a href="silv.html#cb90-53" tabindex="-1"></a>          , <span class="at">alpha =</span> <span class="dv">0</span></span>
<span id="cb90-54"><a href="silv.html#cb90-54" tabindex="-1"></a>          , <span class="at">lwd =</span> <span class="fl">1.5</span></span>
<span id="cb90-55"><a href="silv.html#cb90-55" tabindex="-1"></a>          , <span class="at">color =</span> <span class="st">&quot;firebrick&quot;</span></span>
<span id="cb90-56"><a href="silv.html#cb90-56" tabindex="-1"></a>          , <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb90-57"><a href="silv.html#cb90-57" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb90-58"><a href="silv.html#cb90-58" tabindex="-1"></a>      <span class="fu">scale_fill_viridis_c</span>(</span>
<span id="cb90-59"><a href="silv.html#cb90-59" tabindex="-1"></a>        <span class="at">option =</span> <span class="st">&quot;viridis&quot;</span></span>
<span id="cb90-60"><a href="silv.html#cb90-60" tabindex="-1"></a>        , <span class="at">alpha =</span> <span class="fl">0.9</span></span>
<span id="cb90-61"><a href="silv.html#cb90-61" tabindex="-1"></a>        , <span class="at">na.value =</span> <span class="st">&quot;transparent&quot;</span></span>
<span id="cb90-62"><a href="silv.html#cb90-62" tabindex="-1"></a>        , <span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">extended_breaks</span>(<span class="at">n =</span> <span class="dv">6</span>)</span>
<span id="cb90-63"><a href="silv.html#cb90-63" tabindex="-1"></a>        , <span class="at">labels =</span> scales<span class="sc">::</span>comma</span>
<span id="cb90-64"><a href="silv.html#cb90-64" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb90-65"><a href="silv.html#cb90-65" tabindex="-1"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb90-66"><a href="silv.html#cb90-66" tabindex="-1"></a>      <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb90-67"><a href="silv.html#cb90-67" tabindex="-1"></a>      <span class="fu">labs</span>(</span>
<span id="cb90-68"><a href="silv.html#cb90-68" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="fu">paste0</span>(</span>
<span id="cb90-69"><a href="silv.html#cb90-69" tabindex="-1"></a>          <span class="fu">as.character</span>(<span class="fu">round</span>(contour_int_m <span class="sc">*</span> <span class="fl">3.28</span>, <span class="dv">1</span>))</span>
<span id="cb90-70"><a href="silv.html#cb90-70" tabindex="-1"></a>          , <span class="st">&quot; ft (&quot;</span></span>
<span id="cb90-71"><a href="silv.html#cb90-71" tabindex="-1"></a>          , <span class="fu">as.character</span>(contour_int_m)</span>
<span id="cb90-72"><a href="silv.html#cb90-72" tabindex="-1"></a>          , <span class="st">&quot; m) contours&quot;</span></span>
<span id="cb90-73"><a href="silv.html#cb90-73" tabindex="-1"></a>        )</span>
<span id="cb90-74"><a href="silv.html#cb90-74" tabindex="-1"></a>        , <span class="at">fill =</span> <span class="st">&quot;elev. (ft)&quot;</span></span>
<span id="cb90-75"><a href="silv.html#cb90-75" tabindex="-1"></a>        , <span class="at">x =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb90-76"><a href="silv.html#cb90-76" tabindex="-1"></a>        , <span class="at">y =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb90-77"><a href="silv.html#cb90-77" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb90-78"><a href="silv.html#cb90-78" tabindex="-1"></a>      <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb90-79"><a href="silv.html#cb90-79" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb90-80"><a href="silv.html#cb90-80" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb90-81"><a href="silv.html#cb90-81" tabindex="-1"></a>        , <span class="at">legend.direction =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb90-82"><a href="silv.html#cb90-82" tabindex="-1"></a>        , <span class="at">legend.margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="sc">-</span><span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb90-83"><a href="silv.html#cb90-83" tabindex="-1"></a>        <span class="co"># , legend.box.margin = margin(-1,0,2,0)</span></span>
<span id="cb90-84"><a href="silv.html#cb90-84" tabindex="-1"></a>        , <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">angle =</span> <span class="dv">25</span>, <span class="at">hjust =</span> <span class="fl">0.7</span>)</span>
<span id="cb90-85"><a href="silv.html#cb90-85" tabindex="-1"></a>        , <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">4</span>)</span>
<span id="cb90-86"><a href="silv.html#cb90-86" tabindex="-1"></a>        , <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(</span>
<span id="cb90-87"><a href="silv.html#cb90-87" tabindex="-1"></a>            <span class="at">size=</span><span class="dv">5</span>, <span class="at">face=</span><span class="st">&quot;italic&quot;</span>, <span class="at">color=</span><span class="st">&quot;gray20&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)</span>
<span id="cb90-88"><a href="silv.html#cb90-88" tabindex="-1"></a>            , <span class="at">hjust =</span> <span class="fl">0.5</span></span>
<span id="cb90-89"><a href="silv.html#cb90-89" tabindex="-1"></a>        )</span>
<span id="cb90-90"><a href="silv.html#cb90-90" tabindex="-1"></a>      )</span>
<span id="cb90-91"><a href="silv.html#cb90-91" tabindex="-1"></a>  )</span>
<span id="cb90-92"><a href="silv.html#cb90-92" tabindex="-1"></a>}</span>
<span id="cb90-93"><a href="silv.html#cb90-93" tabindex="-1"></a><span class="co"># plt_contour_map_fn(harvests$suid[1])</span></span></code></pre></div>
<ol start="8" style="list-style-type: decimal">
<li>regen by size class</li>
</ol>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="silv.html#cb91-1" tabindex="-1"></a>plt_regen_dist_fn <span class="ot">&lt;-</span> <span class="cf">function</span>(my_suid){</span>
<span id="cb91-2"><a href="silv.html#cb91-2" tabindex="-1"></a>  dta <span class="ot">=</span> harvests_regen_plt_diam <span class="sc">%&gt;%</span> </span>
<span id="cb91-3"><a href="silv.html#cb91-3" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span></span>
<span id="cb91-4"><a href="silv.html#cb91-4" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb91-5"><a href="silv.html#cb91-5" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb91-6"><a href="silv.html#cb91-6" tabindex="-1"></a>        tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;diam_inch_class&quot;</span>)</span>
<span id="cb91-7"><a href="silv.html#cb91-7" tabindex="-1"></a>        , <span class="at">.fn =</span> as.numeric</span>
<span id="cb91-8"><a href="silv.html#cb91-8" tabindex="-1"></a>      )</span>
<span id="cb91-9"><a href="silv.html#cb91-9" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb91-10"><a href="silv.html#cb91-10" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb91-11"><a href="silv.html#cb91-11" tabindex="-1"></a>      suid <span class="sc">==</span> my_suid</span>
<span id="cb91-12"><a href="silv.html#cb91-12" tabindex="-1"></a>      <span class="sc">&amp;</span> diam_inch_class_lower <span class="sc">&lt;</span> ustory_max_tree_dbh_cm</span>
<span id="cb91-13"><a href="silv.html#cb91-13" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb91-14"><a href="silv.html#cb91-14" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(suid,regen_size_class_diam) <span class="sc">%&gt;%</span> </span>
<span id="cb91-15"><a href="silv.html#cb91-15" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb91-16"><a href="silv.html#cb91-16" tabindex="-1"></a>      <span class="at">number_of_plots =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb91-17"><a href="silv.html#cb91-17" tabindex="-1"></a>      , <span class="at">sum_num_trees =</span> <span class="fu">sum</span>(number_of_trees_in_size_class)</span>
<span id="cb91-18"><a href="silv.html#cb91-18" tabindex="-1"></a>      , <span class="at">sampled_area_ac =</span> <span class="fu">sum</span>(plot_area_ac)</span>
<span id="cb91-19"><a href="silv.html#cb91-19" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb91-20"><a href="silv.html#cb91-20" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">group_by</span>(suid) <span class="sc">%&gt;%</span> </span>
<span id="cb91-21"><a href="silv.html#cb91-21" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb91-22"><a href="silv.html#cb91-22" tabindex="-1"></a>      <span class="at">trees_per_ac =</span> sum_num_trees<span class="sc">/</span>sampled_area_ac</span>
<span id="cb91-23"><a href="silv.html#cb91-23" tabindex="-1"></a>      , <span class="at">stand_trees_per_ac =</span> <span class="fu">sum</span>(sum_num_trees)<span class="sc">/</span><span class="fu">max</span>(sampled_area_ac)</span>
<span id="cb91-24"><a href="silv.html#cb91-24" tabindex="-1"></a>      , <span class="at">regen_size_class_diam =</span> regen_size_class_diam <span class="sc">%&gt;%</span> <span class="fu">factor</span>() <span class="sc">%&gt;%</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>()</span>
<span id="cb91-25"><a href="silv.html#cb91-25" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb91-26"><a href="silv.html#cb91-26" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb91-27"><a href="silv.html#cb91-27" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb91-28"><a href="silv.html#cb91-28" tabindex="-1"></a>      <span class="at">stand_lab =</span> <span class="fu">paste0</span>(</span>
<span id="cb91-29"><a href="silv.html#cb91-29" tabindex="-1"></a>          <span class="co"># suid</span></span>
<span id="cb91-30"><a href="silv.html#cb91-30" tabindex="-1"></a>          <span class="st">&quot;</span><span class="sc">\n</span><span class="st">Total TPA: &quot;</span></span>
<span id="cb91-31"><a href="silv.html#cb91-31" tabindex="-1"></a>          , scales<span class="sc">::</span><span class="fu">comma</span>(stand_trees_per_ac, <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb91-32"><a href="silv.html#cb91-32" tabindex="-1"></a>      ) </span>
<span id="cb91-33"><a href="silv.html#cb91-33" tabindex="-1"></a>      <span class="co"># factor() %&gt;% forcats::fct_reorder(desc(stand_trees_per_ac))</span></span>
<span id="cb91-34"><a href="silv.html#cb91-34" tabindex="-1"></a>    )</span>
<span id="cb91-35"><a href="silv.html#cb91-35" tabindex="-1"></a>    <span class="do">## plt</span></span>
<span id="cb91-36"><a href="silv.html#cb91-36" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb91-37"><a href="silv.html#cb91-37" tabindex="-1"></a>      <span class="at">data =</span> dta</span>
<span id="cb91-38"><a href="silv.html#cb91-38" tabindex="-1"></a>      , <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb91-39"><a href="silv.html#cb91-39" tabindex="-1"></a>        <span class="at">x =</span> trees_per_ac, <span class="at">y =</span> regen_size_class_diam</span>
<span id="cb91-40"><a href="silv.html#cb91-40" tabindex="-1"></a>        , <span class="at">fill=</span>trees_per_ac</span>
<span id="cb91-41"><a href="silv.html#cb91-41" tabindex="-1"></a>        , <span class="at">label =</span> scales<span class="sc">::</span><span class="fu">comma</span>(trees_per_ac, <span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb91-42"><a href="silv.html#cb91-42" tabindex="-1"></a>      )</span>
<span id="cb91-43"><a href="silv.html#cb91-43" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb91-44"><a href="silv.html#cb91-44" tabindex="-1"></a>      <span class="fu">geom_col</span>(</span>
<span id="cb91-45"><a href="silv.html#cb91-45" tabindex="-1"></a>        <span class="at">width =</span> <span class="fl">0.7</span></span>
<span id="cb91-46"><a href="silv.html#cb91-46" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb91-47"><a href="silv.html#cb91-47" tabindex="-1"></a>      <span class="fu">geom_text</span>(</span>
<span id="cb91-48"><a href="silv.html#cb91-48" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="dv">2</span></span>
<span id="cb91-49"><a href="silv.html#cb91-49" tabindex="-1"></a>        , <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.1</span></span>
<span id="cb91-50"><a href="silv.html#cb91-50" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb91-51"><a href="silv.html#cb91-51" tabindex="-1"></a>      <span class="fu">scale_fill_viridis_c</span>(<span class="at">option =</span> <span class="st">&quot;mako&quot;</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb91-52"><a href="silv.html#cb91-52" tabindex="-1"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>, .<span class="dv">13</span>))) <span class="sc">+</span></span>
<span id="cb91-53"><a href="silv.html#cb91-53" tabindex="-1"></a>      <span class="co"># facet_wrap(facets = vars(stand_lab), ncol = 3) +</span></span>
<span id="cb91-54"><a href="silv.html#cb91-54" tabindex="-1"></a>      <span class="fu">labs</span>(</span>
<span id="cb91-55"><a href="silv.html#cb91-55" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb91-56"><a href="silv.html#cb91-56" tabindex="-1"></a>        , <span class="at">y =</span> <span class="st">&quot;DBH (in) Class&quot;</span></span>
<span id="cb91-57"><a href="silv.html#cb91-57" tabindex="-1"></a>        , <span class="at">x =</span> <span class="st">&quot;Trees per Acre&quot;</span></span>
<span id="cb91-58"><a href="silv.html#cb91-58" tabindex="-1"></a>        , <span class="at">title =</span> <span class="fu">paste0</span>(</span>
<span id="cb91-59"><a href="silv.html#cb91-59" tabindex="-1"></a>          <span class="st">&quot;Understory (&lt; &quot;</span></span>
<span id="cb91-60"><a href="silv.html#cb91-60" tabindex="-1"></a>          , scales<span class="sc">::</span><span class="fu">comma</span>(ustory_max_tree_dbh_cm<span class="sc">/</span><span class="fl">2.54</span>,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb91-61"><a href="silv.html#cb91-61" tabindex="-1"></a>          , <span class="st">&quot; in. DBH) Trees Per Acre&quot;</span></span>
<span id="cb91-62"><a href="silv.html#cb91-62" tabindex="-1"></a>        )</span>
<span id="cb91-63"><a href="silv.html#cb91-63" tabindex="-1"></a>        <span class="co"># , subtitle = &quot;by harvest unit (with FACTS ID)&quot;</span></span>
<span id="cb91-64"><a href="silv.html#cb91-64" tabindex="-1"></a>        , <span class="at">subtitle =</span> dta<span class="sc">$</span>stand_lab[<span class="dv">1</span>]</span>
<span id="cb91-65"><a href="silv.html#cb91-65" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb91-66"><a href="silv.html#cb91-66" tabindex="-1"></a>      <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb91-67"><a href="silv.html#cb91-67" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb91-68"><a href="silv.html#cb91-68" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span></span>
<span id="cb91-69"><a href="silv.html#cb91-69" tabindex="-1"></a>        , <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb91-70"><a href="silv.html#cb91-70" tabindex="-1"></a>        , <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>,<span class="at">size=</span><span class="dv">12</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb91-71"><a href="silv.html#cb91-71" tabindex="-1"></a>        , <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb91-72"><a href="silv.html#cb91-72" tabindex="-1"></a>        <span class="co"># , strip.text = element_text(color = &quot;black&quot;, size = 12)</span></span>
<span id="cb91-73"><a href="silv.html#cb91-73" tabindex="-1"></a>        <span class="co"># , strip.background = element_rect(fill = &quot;gray88&quot;)</span></span>
<span id="cb91-74"><a href="silv.html#cb91-74" tabindex="-1"></a>      )</span>
<span id="cb91-75"><a href="silv.html#cb91-75" tabindex="-1"></a>}</span>
<span id="cb91-76"><a href="silv.html#cb91-76" tabindex="-1"></a><span class="co"># plt_regen_dist_fn(harvests$suid[2])</span></span></code></pre></div>
<ol start="81" style="list-style-type: decimal">
<li>build report</li>
</ol>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="silv.html#cb92-1" tabindex="-1"></a>report_fn <span class="ot">=</span> <span class="cf">function</span>(my_suid){</span>
<span id="cb92-2"><a href="silv.html#cb92-2" tabindex="-1"></a>  <span class="co"># generate plots</span></span>
<span id="cb92-3"><a href="silv.html#cb92-3" tabindex="-1"></a>  ortho_plt_temp <span class="ot">=</span> <span class="fu">ortho_plt_fn</span>(my_suid) <span class="co"># ortho_plt_fn(harvests$suid[4])</span></span>
<span id="cb92-4"><a href="silv.html#cb92-4" tabindex="-1"></a>  dbh_dist_temp <span class="ot">=</span> <span class="fu">dbh_dist_fn</span>(my_suid) <span class="sc">+</span> <span class="co"># dbh_dist_fn(harvests$suid[4])</span></span>
<span id="cb92-5"><a href="silv.html#cb92-5" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb92-6"><a href="silv.html#cb92-6" tabindex="-1"></a>      <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">fill=</span><span class="cn">NA</span>, <span class="at">size=</span><span class="dv">1</span>)</span>
<span id="cb92-7"><a href="silv.html#cb92-7" tabindex="-1"></a>      <span class="co"># , plot.title = element_text(size = 9)</span></span>
<span id="cb92-8"><a href="silv.html#cb92-8" tabindex="-1"></a>      <span class="co"># , plot.subtitle = element_text(size = 7)</span></span>
<span id="cb92-9"><a href="silv.html#cb92-9" tabindex="-1"></a>    )</span>
<span id="cb92-10"><a href="silv.html#cb92-10" tabindex="-1"></a>  ht_dist_temp <span class="ot">=</span> <span class="fu">ht_dist_fn</span>(my_suid) <span class="sc">+</span> <span class="co"># ht_dist_fn(harvests$suid[4]) </span></span>
<span id="cb92-11"><a href="silv.html#cb92-11" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb92-12"><a href="silv.html#cb92-12" tabindex="-1"></a>      <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">fill=</span><span class="cn">NA</span>, <span class="at">size=</span><span class="dv">1</span>)</span>
<span id="cb92-13"><a href="silv.html#cb92-13" tabindex="-1"></a>      <span class="co"># , plot.title = element_text(size = 9)</span></span>
<span id="cb92-14"><a href="silv.html#cb92-14" tabindex="-1"></a>      <span class="co"># , plot.subtitle = element_text(size = 7)</span></span>
<span id="cb92-15"><a href="silv.html#cb92-15" tabindex="-1"></a>    )</span>
<span id="cb92-16"><a href="silv.html#cb92-16" tabindex="-1"></a>  plt_inset_map_temp <span class="ot">=</span> <span class="fu">plt_inset_map_fn</span>(my_suid) <span class="co"># plt_inset_map_fn(harvests$suid[4])</span></span>
<span id="cb92-17"><a href="silv.html#cb92-17" tabindex="-1"></a>  plt_contour_map_temp <span class="ot">=</span> <span class="fu">plt_contour_map_fn</span>(my_suid) <span class="co"># plt_contour_map_fn(harvests$suid[4])</span></span>
<span id="cb92-18"><a href="silv.html#cb92-18" tabindex="-1"></a>  tab_imp_temp <span class="ot">=</span> <span class="fu">tab_imp_fn</span>(my_suid) <span class="co"># tab_imp_fn(harvests$suid[4])</span></span>
<span id="cb92-19"><a href="silv.html#cb92-19" tabindex="-1"></a>  tab_met_temp <span class="ot">=</span> <span class="fu">tab_met_fn</span>(my_suid) <span class="co"># tab_met_fn(harvests$suid[4]) </span></span>
<span id="cb92-20"><a href="silv.html#cb92-20" tabindex="-1"></a>  plt_regen_dist_temp <span class="ot">=</span> <span class="fu">plt_regen_dist_fn</span>(my_suid) <span class="sc">+</span></span>
<span id="cb92-21"><a href="silv.html#cb92-21" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">&quot;gray&quot;</span>, <span class="at">fill=</span><span class="cn">NA</span>, <span class="at">size=</span><span class="dv">1</span>))</span>
<span id="cb92-22"><a href="silv.html#cb92-22" tabindex="-1"></a>  <span class="co"># plot layout</span></span>
<span id="cb92-23"><a href="silv.html#cb92-23" tabindex="-1"></a>  <span class="co"># area(t,l,b,r)</span></span>
<span id="cb92-24"><a href="silv.html#cb92-24" tabindex="-1"></a>  layout_temp <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb92-25"><a href="silv.html#cb92-25" tabindex="-1"></a>    <span class="co"># map</span></span>
<span id="cb92-26"><a href="silv.html#cb92-26" tabindex="-1"></a>    <span class="fu">area</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb92-27"><a href="silv.html#cb92-27" tabindex="-1"></a>    <span class="co"># map inset</span></span>
<span id="cb92-28"><a href="silv.html#cb92-28" tabindex="-1"></a>    , <span class="fu">area</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb92-29"><a href="silv.html#cb92-29" tabindex="-1"></a>    <span class="co"># contour</span></span>
<span id="cb92-30"><a href="silv.html#cb92-30" tabindex="-1"></a>    , <span class="fu">area</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb92-31"><a href="silv.html#cb92-31" tabindex="-1"></a>    <span class="co"># # tables</span></span>
<span id="cb92-32"><a href="silv.html#cb92-32" tabindex="-1"></a>    , <span class="fu">area</span>(<span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb92-33"><a href="silv.html#cb92-33" tabindex="-1"></a>    , <span class="fu">area</span>(<span class="dv">6</span>, <span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">1</span>)</span>
<span id="cb92-34"><a href="silv.html#cb92-34" tabindex="-1"></a>    <span class="co"># space</span></span>
<span id="cb92-35"><a href="silv.html#cb92-35" tabindex="-1"></a>    , <span class="fu">area</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb92-36"><a href="silv.html#cb92-36" tabindex="-1"></a>    <span class="co"># # # distributions </span></span>
<span id="cb92-37"><a href="silv.html#cb92-37" tabindex="-1"></a>    , <span class="fu">area</span>(<span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">2</span>)</span>
<span id="cb92-38"><a href="silv.html#cb92-38" tabindex="-1"></a>    , <span class="fu">area</span>(<span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">2</span>)</span>
<span id="cb92-39"><a href="silv.html#cb92-39" tabindex="-1"></a>    , <span class="fu">area</span>(<span class="dv">7</span>, <span class="dv">2</span>, <span class="dv">7</span>, <span class="dv">2</span>)</span>
<span id="cb92-40"><a href="silv.html#cb92-40" tabindex="-1"></a>  )</span>
<span id="cb92-41"><a href="silv.html#cb92-41" tabindex="-1"></a>  <span class="co"># check the layout</span></span>
<span id="cb92-42"><a href="silv.html#cb92-42" tabindex="-1"></a>  <span class="co"># plot(layout_temp)</span></span>
<span id="cb92-43"><a href="silv.html#cb92-43" tabindex="-1"></a>  </span>
<span id="cb92-44"><a href="silv.html#cb92-44" tabindex="-1"></a>  <span class="co"># patchwork </span></span>
<span id="cb92-45"><a href="silv.html#cb92-45" tabindex="-1"></a>  rpt <span class="ot">=</span> </span>
<span id="cb92-46"><a href="silv.html#cb92-46" tabindex="-1"></a>    ortho_plt_temp <span class="sc">+</span></span>
<span id="cb92-47"><a href="silv.html#cb92-47" tabindex="-1"></a>    plt_inset_map_temp <span class="sc">+</span> </span>
<span id="cb92-48"><a href="silv.html#cb92-48" tabindex="-1"></a>    plt_contour_map_temp <span class="sc">+</span> </span>
<span id="cb92-49"><a href="silv.html#cb92-49" tabindex="-1"></a>    tab_imp_temp <span class="sc">+</span> </span>
<span id="cb92-50"><a href="silv.html#cb92-50" tabindex="-1"></a>    tab_met_temp <span class="sc">+</span> </span>
<span id="cb92-51"><a href="silv.html#cb92-51" tabindex="-1"></a>    patchwork<span class="sc">::</span><span class="fu">plot_spacer</span>() <span class="sc">+</span></span>
<span id="cb92-52"><a href="silv.html#cb92-52" tabindex="-1"></a>    dbh_dist_temp <span class="sc">+</span> ht_dist_temp <span class="sc">+</span> plt_regen_dist_temp <span class="sc">+</span></span>
<span id="cb92-53"><a href="silv.html#cb92-53" tabindex="-1"></a>    patchwork<span class="sc">::</span><span class="fu">plot_layout</span>(</span>
<span id="cb92-54"><a href="silv.html#cb92-54" tabindex="-1"></a>      <span class="at">design =</span> layout_temp</span>
<span id="cb92-55"><a href="silv.html#cb92-55" tabindex="-1"></a>      , <span class="at">heights =</span> <span class="fu">c</span>(<span class="fl">0.7</span>, <span class="fl">0.8</span>, <span class="fl">0.3</span>, <span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb92-56"><a href="silv.html#cb92-56" tabindex="-1"></a>      , <span class="at">widths =</span> <span class="fu">c</span>(<span class="fl">0.5</span>,<span class="dv">1</span>)</span>
<span id="cb92-57"><a href="silv.html#cb92-57" tabindex="-1"></a>    )</span>
<span id="cb92-58"><a href="silv.html#cb92-58" tabindex="-1"></a>  <span class="co"># export</span></span>
<span id="cb92-59"><a href="silv.html#cb92-59" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">ggsave</span>(</span>
<span id="cb92-60"><a href="silv.html#cb92-60" tabindex="-1"></a>    <span class="at">filename =</span> <span class="fu">paste0</span>(delivery_dir, <span class="st">&quot;/suid_&quot;</span>, my_suid, <span class="st">&quot;.pdf&quot;</span>)</span>
<span id="cb92-61"><a href="silv.html#cb92-61" tabindex="-1"></a>    , <span class="at">plot =</span> rpt</span>
<span id="cb92-62"><a href="silv.html#cb92-62" tabindex="-1"></a>    , <span class="at">device =</span> <span class="st">&quot;pdf&quot;</span></span>
<span id="cb92-63"><a href="silv.html#cb92-63" tabindex="-1"></a>    , <span class="at">width =</span> <span class="fl">8.5</span>, <span class="at">height =</span> <span class="dv">11</span>, <span class="at">units =</span> <span class="st">&quot;in&quot;</span></span>
<span id="cb92-64"><a href="silv.html#cb92-64" tabindex="-1"></a>  )</span>
<span id="cb92-65"><a href="silv.html#cb92-65" tabindex="-1"></a>  <span class="fu">return</span>(rpt)</span>
<span id="cb92-66"><a href="silv.html#cb92-66" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="harvest-unit-summary-reports" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Harvest Unit Summary Reports<a href="silv.html#harvest-unit-summary-reports" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="silv.html#cb93-1" tabindex="-1"></a><span class="co"># generate and print reports</span></span>
<span id="cb93-2"><a href="silv.html#cb93-2" tabindex="-1"></a>harvests<span class="sc">$</span>suid <span class="sc">%&gt;%</span> </span>
<span id="cb93-3"><a href="silv.html#cb93-3" tabindex="-1"></a>  <span class="co"># .[1] %&gt;% </span></span>
<span id="cb93-4"><a href="silv.html#cb93-4" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map</span>(report_fn) <span class="sc">%&gt;%</span> </span>
<span id="cb93-5"><a href="silv.html#cb93-5" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<p><img src="bhef_uas_202306_files/figure-html/print-reports-1.png" width="1008" /><img src="bhef_uas_202306_files/figure-html/print-reports-2.png" width="1008" /><img src="bhef_uas_202306_files/figure-html/print-reports-3.png" width="1008" /><img src="bhef_uas_202306_files/figure-html/print-reports-4.png" width="1008" /><img src="bhef_uas_202306_files/figure-html/print-reports-5.png" width="1008" /><img src="bhef_uas_202306_files/figure-html/print-reports-6.png" width="1008" /></p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="silv.html#cb94-1" tabindex="-1"></a><span class="co"># combine all pdfs together</span></span>
<span id="cb94-2"><a href="silv.html#cb94-2" tabindex="-1"></a><span class="co"># combine with pdftools</span></span>
<span id="cb94-3"><a href="silv.html#cb94-3" tabindex="-1"></a>pdftools<span class="sc">::</span><span class="fu">pdf_combine</span>(</span>
<span id="cb94-4"><a href="silv.html#cb94-4" tabindex="-1"></a>  <span class="fu">sort</span>(<span class="fu">list.files</span>(delivery_dir, <span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.pdf$&quot;</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>))</span>
<span id="cb94-5"><a href="silv.html#cb94-5" tabindex="-1"></a>  , <span class="at">output =</span> <span class="fu">paste0</span>(</span>
<span id="cb94-6"><a href="silv.html#cb94-6" tabindex="-1"></a>    delivery_dir</span>
<span id="cb94-7"><a href="silv.html#cb94-7" tabindex="-1"></a>    , <span class="st">&quot;/BHEF_UAS_202306_report_&quot;</span></span>
<span id="cb94-8"><a href="silv.html#cb94-8" tabindex="-1"></a>    , <span class="fu">gsub</span>(<span class="st">&quot;-&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="fu">Sys.Date</span>())</span>
<span id="cb94-9"><a href="silv.html#cb94-9" tabindex="-1"></a>    , <span class="st">&quot;.pdf&quot;</span></span>
<span id="cb94-10"><a href="silv.html#cb94-10" tabindex="-1"></a>  )</span>
<span id="cb94-11"><a href="silv.html#cb94-11" tabindex="-1"></a>)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="ustory_valid.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tree_spatial.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
